{"version":3,"sources":["components/common/Responsive.js","lib/styles/palette.js","components/common/Button.js","components/common/Header.js","lib/api/client.js","lib/api/auth.js","modules/loading.js","lib/createRequestSaga.js","modules/user.js","containers/common/HeaderContainer.js","components/common/SubInfo.js","components/common/Tags.js","components/posts/LikeButtons.js","components/posts/SearchBar.js","components/posts/Pagination.js","components/posts/PostList.js","modules/posts.js","lib/api/posts.js","containers/posts/PostListContainer.js","containers/posts/PaginationContainer.js","components/posts/GoogleMapAPI.js","containers/posts/GoogleMapAPIContainer.js","pages/PostListPage.js","components/auth/AuthTemplate.js","modules/auth.js","components/auth/AuthForm.js","containers/auth/LoginForm.js","pages/LoginPage.js","containers/auth/RegisterForm.js","pages/RegisterPage.js","components/write/Editor.js","modules/write.js","containers/write/EditorContainer.js","components/write/TagBox.js","containers/write/TagBoxContainer.js","components/write/WriteActionButtons.js","containers/write/WriteActionButtonsContainer.js","components/write/GoogleMapWrite.js","containers/write/GoogleMapWriteContainer.js","pages/WritePage.js","modules/post.js","components/post/PostViewer.js","components/common/AskModal.js","components/post/AskRemoveModal.js","components/post/PostActionButtons.js","components/post/GoogleMapRead.js","containers/post/PostViewerContainer.js","containers/post/GoogleMapReadContainer.js","pages/PostPage.js","App.js","serviceWorker.js","modules/index.js","index.js","images/like.png","images/soso.png","images/dislike.png"],"names":["ResponsiveBlock","styled","div","Responsive","children","rest","palette","gray","cyan","buttonStyle","css","props","fullWidth","StyledButton","button","StyledLink","Link","Button","to","HeaderBlock","Wrapper","UserInfo","Header","user","onLogout","className","username","onClick","client","axios","create","logout","post","startLoading","createAction","requestType","finishLoading","loading","handleActions","state","action","payload","createRequestSaga","type","request","SUCCESS","FAILURE","put","call","response","data","meta","error","logoutSaga","userSaga","CHECK","tempSetUser","check","checkSaga","get","checkFailureSaga","localStorage","removeItem","e","console","log","authAPI","takeLatest","checkError","HeaderContainer","useSelector","dispatch","useDispatch","SubInfoBlock","hasMarginTop","SubInfo","publishdDate","Date","toLocaleDateString","TagsBlock","Tags","tags","map","tag","key","ListOfLikeButtons","LikeButtons","likeNum","src","require","like","soso","dislike","SearchBarBlock","SearchInput","input","SearchButton","SearchBar","class","placeholder","PaginationBlock","PageNumber","buildLink","page","query","qs","stringify","Pagination","lastPage","disabled","undefined","PostListBlock","WritePostButtonWrapper","PostItemBlocksWrapper","PostItemBlock","PostItem","title","body","_id","likeButton","PostList","posts","markerOn","showWrittenButton","postsSaga","changeField","value","listPosts","listPostsSaga","queryString","parseInt","headers","withRouter","match","location","useEffect","params","parse","search","ignoreQueryPrefix","GoogleMapAPI","onChangeMarkerOn","useState","markers","setMarkers","selected","setSelected","googleMapsApiKey","mapContainerStyle","height","width","float","zoom","center","lat","lng","marker","name","latLng","position","draggable","onRightClick","nextMarkers","filter","m","onDragEnd","newMarker","onCloseClick","GoogleMapAPIContainer","PostListPage","AuthTemplateBlock","WhiteBox","AuthTemplate","authSaga","LOGIN","form","initializeForm","register","password","login","registerSaga","loginSaga","initialState","passwordConfirm","auth","produce","draft","authError","AuthFormBlock","StyledInput","Footer","ButtonWithMarginTop","textMap","ErrorMessage","AuthForm","onChange","onSubmit","text","autoComplete","history","setError","push","setItem","JSON","target","preventDefault","LoginPage","status","includes","RegisterPage","EditorBlock","TitleInput","QuillWraper","Editor","onChangeField","quillElement","useRef","quillInstance","current","Quill","theme","modules","toolbar","header","list","quill","on","delta","oldDelta","source","root","innerHTML","mounted","ref","writeSaga","WRITE_POST","initialize","writePost","setOriginalPost","updatePost","id","writePostSaga","updatePostSaga","patch","postError","originalPostId","write","EditorContainer","useCallback","TagBoxBlock","TagForm","TagList","React","memo","onRemove","TagBox","onChangeTags","setInput","localTags","setLocalTags","insertTag","nextTags","t","trim","TagBoxContainer","WriteActionButtonsBlock","WriteActionButtons","onCancel","onPublish","isEdit","goBack","GoogleMapWrite","onLoad","GoogleMapWriteContainer","WritePage","postSaga","readPost","unloadPost","readPostSaga","PostViewerBlock","PostHead","PostContent","PostViewer","actionButtons","dangerouslySetInnerHTML","__html","Fullscreen","AskModalBlock","AskModal","visible","description","confirmText","cancleText","onConfirm","onCancle","AskRemoveModal","PostActionButtonsBlock","ActionButton","PostActionButtons","onEdit","modal","setModal","GoogleMapRead","postId","a","delete","ownPost","GoogleMapReadContainer","PostPage","App","component","path","exact","Boolean","window","hostname","rootSaga","all","rootReducer","combineReducers","sagaMiddleware","createSagaMiddleware","store","createStore","composeWithDevTools","applyMiddleware","run","getItem","loadUser","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message","module","exports"],"mappings":"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","file":"static/js/main.c3c2b2df.chunk.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst ResponsiveBlock = styled.div`\r\n    padding-left: 1rem;\r\n    padding-right: 1rem;\r\n    width: 1024px;\r\n    margin: 0 auto; /* 중앙정렬 */\r\n\r\n    /* 브라우저 크키에 따라 가로 크기 변경 */\r\n    @media (max-width: 1024px) {\r\n        width: 768px;\r\n    }\r\n    @media (max-width: 768px) {\r\n        width: 100%;\r\n    }\r\n`;\r\n\r\nconst Responsive = ({ children, ...rest }) => {\r\n    // style, className, onCLick, onMouseMove 등의 props를 사용할수 있도록 \r\n    // ...rest를 사용하여 ResponsiveBlock 에게 전달\r\n    return <ResponsiveBlock {...rest}>{children}</ResponsiveBlock>;\r\n};\r\n\r\nexport default Responsive;","// source: https://yeun.github.io/open-color\r\n\r\nconst palette = {\r\n    gray: [\r\n      '#f8f9fa',\r\n      '#f1f3f5',\r\n      '#e9ecef',\r\n      '#dee2e6',\r\n      '#ced4da',\r\n      '#adb5bd',\r\n      '#868e96',\r\n      '#495057',\r\n      '#343a40',\r\n      '#212529',\r\n    ],\r\n    cyan: [\r\n      '#e3fafc',\r\n      '#c5f6fa',\r\n      '#99e9f2',\r\n      '#66d9e8',\r\n      '#3bc9db',\r\n      '#22b8cf',\r\n      '#15aabf',\r\n      '#1098ad',\r\n      '#0c8599',\r\n      '#0b7285',\r\n    ],\r\n  };\r\n  \r\n  export default palette;","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst buttonStyle = css`\r\n    border: none;\r\n    border-radius: 4px;\r\n    font-size: 1rem;\r\n    font-weight: bold;\r\n    padding: 0.25rem 1rem;\r\n    color: white;\r\n    outline: none;\r\n    cursor: pointer;\r\n\r\n    background: ${palette.gray[8]};\r\n    \r\n    &:hover {\r\n        background: ${palette.gray[6]};\r\n    }\r\n    &:disabled {\r\n        background: ${palette.gray[3]};\r\n        color: ${palette.gray[5]};\r\n        cursor: not-allowed;\r\n    }\r\n    \r\n    ${props =>\r\n        props.fullWidth &&\r\n        css`\r\n            padding-top: 0.75rem;\r\n            padding-bottom: 0.75rem;\r\n            width: 100%;\r\n            font-size: 1.125rem;\r\n        `\r\n    }\r\n    ${props =>\r\n        props.cyan &&\r\n        css`\r\n            background: ${palette.cyan[5]};\r\n            &:hover {\r\n                background: ${palette.cyan[4]};\r\n            }\r\n        `\r\n    }\r\n    ${props =>\r\n        props.gray &&\r\n        css`\r\n            background: ${palette.gray[6]};\r\n        `\r\n    }\r\n`;\r\n\r\nconst StyledButton = styled.button`\r\n    ${buttonStyle}\r\n`;\r\n\r\nconst StyledLink = styled(Link)`\r\n    ${buttonStyle}\r\n`;\r\n\r\nconst Button = props => { // Button에 to 라는 props가 있는가? \r\n    return props.to ? ( <StyledLink {...props} cyan={props.cyan ? 1 : 0} /> ) \r\n    : (<StyledButton gray={props.gray ? 1 : 0} {...props} /> );\r\n};\r\n\r\nexport default Button;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Responsive from './Responsive';\r\nimport Button from './Button';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst HeaderBlock = styled.div`\r\n    position: sticky;\r\n    width: 100%;\r\n    background: white;\r\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.08);\r\n`;\r\n\r\n// Responsive 컴포넌트의 속성에 스타일을 추가하여 새로운 컴포넌트 생성\r\nconst Wrapper = styled(Responsive)`\r\n    height: 4rem;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between; /* 자식 엘리먼트 사이의 여백을 최대로 설정 */\r\n    .logo {\r\n        font-size: 1.125rem;\r\n        font-weight: 800;\r\n        letter-spacing: 1.75px;\r\n    }\r\n    .right {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n`;\r\n\r\n// 헤더가 fixed로 되어 있기 떄문에 페이지의 콘텐츠가 4rem 아래에 나타나도록 해주는 컴포넌트\r\n// const Spacer = styled.div`\r\n//     height: 4rem;\r\n// `;\r\n\r\nconst UserInfo = styled.div`\r\n    font-weight: 800;\r\n    margin-right: 1rem;\r\n`;\r\n\r\nconst Header = ({ user, onLogout }) => {\r\n    return (\r\n        <>\r\n            <HeaderBlock>\r\n                <Wrapper>\r\n                    <Link to=\"/\" className=\"logo\">Street Vender</Link>\r\n                    {user ? (   // 로그인 되어있는가?\r\n                        <div className=\"right\">\r\n                            <UserInfo>{user.username}</UserInfo>\r\n                            <Button onClick={onLogout}>로그아웃</Button>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"right\">\r\n                            <Button to=\"/login\">로그인</Button>\r\n                        </div>\r\n                    )}\r\n                </Wrapper>\r\n            </HeaderBlock>\r\n            {/* <Spacer /> */}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Header;","import axios from 'axios';\r\n\r\nconst client = axios.create();\r\n\r\n/*\r\n    글로벌 설정 예시:\r\n    \r\n    // API 주소를 다른 곳으로 사용함\r\n    client.defaults.baseURL = 'https://external-api-server.com/'\r\n\r\n    // 헤더 설정\r\n    client.defaults.headers.common['Authorization'] = 'Bearer a1b2c3d4'\r\n\r\n    // 인터셉터 설정\r\n    axios.intercepter.response.use(\\\r\n        response => {\r\n            // 요청 성공 시 특정 작업 수행\r\n        },\r\n        error => {\r\n            // 요청 실패 시 특정 작업 수행\r\n            return Promise.reject(error);\r\n        }\r\n    })\r\n*/\r\nexport default client;","import client from './client';\r\n\r\n// 로그인\r\nexport const login = ({ username, password }) => \r\n    client.post('/api/auth/login', { username, password });\r\n\r\n// 회원가입\r\nexport const register = ({ username, password }) =>\r\n    client.post('/api/auth/register', { username, password });\r\n\r\n// 로그인 상태 확인\r\nexport const check = () => client.get('/api/auth/check');\r\n\r\n// 로그아웃\r\nexport const logout = () => client.post('/api/auth/logout');","import { createAction, handleActions } from 'redux-actions';\r\n\r\nconst START_LOADING = 'loading/START_LOADING';\r\nconst FINISH_LOADING = 'loading/FINISH_LOADING';\r\n\r\n/*\r\n    요청을 위한 액션 타입을 payload로 설정함 ex) \"sample/GET_POST\"\r\n*/\r\n\r\nexport const startLoading = createAction(START_LOADING, requestType => requestType);\r\n\r\nexport const finishLoading = createAction(FINISH_LOADING, requestType => requestType);\r\n\r\nconst initialState = {};\r\n\r\nconst loading = handleActions(\r\n    {\r\n        [START_LOADING]: (state, action) => ({\r\n            ...state,\r\n            [action.payload]: true\r\n        }),\r\n        [FINISH_LOADING]: (state, action) => ({\r\n            ...state,\r\n            [action.payload]: false\r\n        }),\r\n    },\r\n    initialState\r\n);\r\n\r\nexport default loading;","import { call, put } from 'redux-saga/effects';\r\nimport { startLoading, finishLoading } from '../modules/loading';\r\n\r\n    \r\nexport const createRequestActionTypes = type => {\r\n    const SUCCESS = `${type}_SUCCESS`;\r\n    const FAILURE = `${type}_FAILURE`;\r\n    return [type, SUCCESS, FAILURE];\r\n};\r\n\r\nexport default function createRequestSaga(type, request) {\r\n    const SUCCESS = `${type}_SUCCESS`;\r\n    const FAILURE = `${type}_FAILURE`;\r\n    \r\n    return function*(action) {\r\n        yield put(startLoading(type));  // 로딩 시작\r\n        try {\r\n            const response = yield call(request, action.payload);\r\n            yield put({\r\n                type: SUCCESS,\r\n                payload: response.data,\r\n                meta: response,\r\n            });\r\n        } catch (e) {\r\n            yield put({\r\n                type: FAILURE,\r\n                payload: e,\r\n                error: true\r\n            });\r\n        }\r\n        yield put(finishLoading(type)); // 로딩 끝\r\n    };\r\n}","/* \r\n    user Module : 사용자의 상태를 담음\r\n*/\r\n\r\nimport { createAction, handleActions } from 'redux-actions';\r\nimport { takeLatest, call } from 'redux-saga/effects';\r\nimport * as authAPI from '../lib/api/auth';\r\nimport createRequestSaga from '../lib/createRequestSaga';\r\n\r\n// 새로고침 이후 임시 로그인 처리\r\nconst TEMP_SET_USER = 'user/TEMP_SET_USER';\r\n// 회원 정보 확인\r\nconst CHECK = 'user/CHECK';\r\nconst CHECK_SUCCESS = 'user/CHECK_SUCCESS';\r\nconst CHECK_FAILURE = 'user/CHECK_FAILURE';\r\n\r\nconst LOGOUT = 'user/LOGOUT';\r\n\r\nexport const tempSetUser = createAction(TEMP_SET_USER, user => user);\r\nexport const check = createAction(CHECK);\r\nexport const logout = createAction(LOGOUT);\r\n\r\nconst checkSaga = createRequestSaga(CHECK, authAPI.check);\r\n\r\nfunction checkFailureSaga() {   // 사용자 정보를 초기화\r\n    try {\r\n        localStorage.removeItem('user');    // localStorage 에서 user 제거\r\n    } catch (e) {\r\n        console.log('localStorage is not working');\r\n    }\r\n}\r\n\r\nfunction* logoutSaga() {\r\n    try {\r\n        yield call(authAPI.logout);\r\n        localStorage.removeItem('user');\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport function* userSaga() {\r\n    yield takeLatest(CHECK, checkSaga);\r\n    yield takeLatest(CHECK_FAILURE, checkFailureSaga);  // CHECK_FAILURE 액션이 발생할 때(createRequestSaga) checkFailureSaga() 호출\r\n    yield takeLatest(LOGOUT, logoutSaga);   // HeaderContainer에서 LOGOUT 액션이 발생하면 ...\r\n}\r\n\r\nconst initialState = {\r\n    user: null,\r\n    checkError: null\r\n};\r\n\r\nconst user = handleActions(\r\n    {\r\n        [TEMP_SET_USER]: (state, { payload: user }) => ({\r\n            ...state,\r\n            user,\r\n        }),\r\n        [CHECK_SUCCESS]: (state, { payload: user }) => ({\r\n            ...state,\r\n            user,\r\n            checkError: null\r\n        }),\r\n        [CHECK_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            user,\r\n            checkError: error\r\n        }),\r\n        [LOGOUT]: state => ({\r\n            ...state,\r\n            user: null,\r\n        }),\r\n    },\r\n    initialState\r\n);\r\n\r\nexport default user;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Header from '../../components/common/Header';\r\nimport { logout } from '../../modules/user';\r\n\r\nconst HeaderContainer = () => {\r\n    const { user } = useSelector( ({ user }) => ({ user: user.user }) );\r\n    const dispatch = useDispatch();\r\n    const onLogout = () => {\r\n        dispatch(logout());\r\n    };\r\n    return <Header user={user} onLogout={onLogout} />;\r\n};\r\n\r\nexport default HeaderContainer;","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport palette from '../../lib/styles/palette';\r\n\r\nconst SubInfoBlock = styled.div`\r\n    /* props가 margin-top을 가지고 있으면(PostViewer) margin-top 값을 1rem 로 설정 */\r\n    ${props => \r\n        props.hasMarginTop &&\r\n        css`\r\n            margin-top: 1rem;\r\n        `}\r\n    color: ${palette.gray[6]};\r\n\r\n    /* span 사이에 가운데점 문자 */\r\n    span + span:before {\r\n        color: ${palette.gray[4]};\r\n        padding-left: 0.25rem;\r\n        padding-right: 0.25rem;\r\n        content: '\\\\B7';\r\n    }\r\n`;\r\n\r\nconst SubInfo = ({ username, publishdDate, hasMarginTop }) => {\r\n    return (\r\n        <SubInfoBlock hasMarginTop={hasMarginTop}> \r\n            <span>\r\n                <b>\r\n                    <Link to={`/@${username}`}>{username}</Link>    {/* username누르면 링크 */}\r\n                </b>\r\n            </span>\r\n            <span>{new Date(publishdDate).toLocaleDateString()}</span>\r\n        </SubInfoBlock>\r\n    );\r\n};\r\n\r\nexport default SubInfo;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst TagsBlock = styled.div`\r\n    margin-top: 0.5rem;\r\n    .tag {\r\n        display: inline-block;\r\n        color: ${palette.cyan[7]};\r\n        text-decoration: none;\r\n        margin-right: 0.5rem;\r\n        &:hover {\r\n            color: ${palette.cyan[5]};\r\n        }\r\n    }\r\n`;\r\n\r\nconst Tags = ({ tags }) => {\r\n    return (\r\n        <TagsBlock>\r\n            {tags.map(tag => (\r\n                <Link className=\"tag\" to={`/?tag=${tag}`} key={tag}>    {/* tag누르면 링크 */}\r\n                    #{tag}\r\n                </Link>\r\n            ))}\r\n        </TagsBlock>\r\n    );\r\n};\r\n\r\nexport default Tags;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Button from '../common/Button';\r\nconst ListOfLikeButtons =styled.div`\r\n    display: flex;  \r\n    height: 90px;\r\n    Button{\r\n        background-color:white;\r\n    }\r\n\r\n    Button p{\r\n        color:black;\r\n        margin :0;\r\n        text-align:center;\r\n        font-size : 10px;\r\n    }\r\n`;\r\nconst LikeButtons = ({likeNum}) => {\r\n    return (\r\n        <ListOfLikeButtons>\r\n            <Button>\r\n                <img src={require(\"../../images/like.png\")}></img>\r\n                <p>좋아요{likeNum.like}</p>\r\n            </Button>\r\n            <Button>\r\n                <img src={require(\"../../images/soso.png\")}></img>\r\n                <p>평범해요{likeNum.soso}</p>\r\n            </Button>\r\n            <Button>\r\n                <img src={require(\"../../images/dislike.png\")}></img>\r\n                <p>별로에요{likeNum.dislike}</p>\r\n            </Button>\r\n        </ListOfLikeButtons>\r\n    );\r\n}\r\nexport default LikeButtons;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst SearchBarBlock = styled.div``;\r\n\r\nconst SearchInput = styled.input`\r\n    padding: 10px;\r\n    margin-bottom: 2rem;\r\n    border-radius: 0.25rem;\r\n    font-size: 1rem;\r\n    line-height: 1.5;\r\n    border: 2px solid #BBDDFF;\r\n    outline: none;\r\n    background-color: #EEEEEE;\r\n    width: 15rem;\r\n    min-height: 2rem;\r\n    max-height: 2rem;\r\n`;\r\n\r\nconst SearchButton = styled.button`\r\n    padding: 10px;\r\n    border-radius: 0.25rem;\r\n    font-size: 1rem;\r\n    line-height: 1.5;\r\n    border: none;\r\n    color: gray;\r\n    background: url(\"images/search.png\") no-repeat center;\r\n    background-size: 1rem;\r\n    background-color: #BBDDFF;\r\n    width: 2rem;\r\n    min-height: 2rem;\r\n    max-height: 2rem;\r\n    cursor: pointer;\r\n\r\n    position: relative;\r\n    left: 5px;\r\n  `;\r\n\r\nconst SearchBar = ({ tags }) => {\r\n    return (\r\n        <SearchBarBlock class=\"relative\">\r\n            <SearchInput placeholder=\"Search Tag\"/>\r\n            <SearchButton class=\"relative\"/>    \r\n        </SearchBarBlock>\r\n    );\r\n};\r\n\r\nexport default SearchBar;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport qs from 'qs';\r\nimport Button from '../common/Button';\r\n\r\nconst PaginationBlock = styled.div`\r\n    width: 320px;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom: 3rem;\r\n`;\r\nconst PageNumber = styled.div``;\r\n\r\n// 링크 만들기 (페이지이동 링크)\r\nconst buildLink = ({ username, tag, page }) => {\r\n    const query = qs.stringify({ tag, page });\r\n    return username ? `/@${username}?${query}` : `/?${query}`;\r\n};\r\n\r\nconst Pagination = ({ page, lastPage, username, tag }) => {\r\n    // 현재선택된계정명, 태그, 현재페이지, 마지막페이지\r\n    return (\r\n        <PaginationBlock>\r\n            <Button\r\n                disabled={page === 1}\r\n                to={\r\n                    page === 1\r\n                        ? undefined\r\n                        : buildLink({ username, tag, page: page - 1 })\r\n                }\r\n            >\r\n                이전\r\n            </Button>\r\n            <PageNumber>{page}</PageNumber>\r\n            <Button\r\n                disabled={page === lastPage}\r\n                to={\r\n                    page === lastPage\r\n                        ? undefined\r\n                        : buildLink({ username, tag, page: page + 1 })\r\n                }\r\n            >\r\n                다음\r\n            </Button>\r\n        </PaginationBlock>\r\n    );\r\n};\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\nimport Button from '../common/Button';\r\nimport Responsive from '../common/Responsive';\r\nimport SubInfo from '../common/SubInfo';\r\nimport Tags from '../common/Tags';\r\nimport { Link } from 'react-router-dom';\r\nimport LikeButtons from './LikeButtons';\r\nimport SearchBar from './SearchBar';\r\nimport Pagination from './Pagination';\r\n\r\nconst PostListBlock = styled(Responsive)`\r\n    margin-top: 1rem;\r\n    float:right;\r\n    width: 50%;\r\n`;\r\n\r\nconst WritePostButtonWrapper = styled.div`\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    margin-bottom: 3rem;\r\n`;\r\n\r\nconst PostItemBlocksWrapper =styled.div`\r\n    height : window.outerHeight;\r\n    float: left;\r\n    \r\n`;\r\n\r\nconst PostItemBlock = styled.div`\r\n    padding-top: 3rem;\r\n    padding-bottom: 3rem;\r\n    \r\n    /* 맨위 포스트는 padding-top 없음 */\r\n    &:first-child {\r\n        padding-top: 0;\r\n    }\r\n    & + & {\r\n        border-top: 1px solid ${palette.gray[2]};\r\n    }\r\n\r\n    h2 {\r\n        font-size: 2rem;\r\n        margin-bottom: 0;\r\n        margin-top: 0;\r\n        &:hover {\r\n            color: ${palette.gray[6]};\r\n        }\r\n    }\r\n    p {\r\n        margin-top: 1rem;\r\n    }\r\n`;\r\n\r\nconst PostItem = ({ post }) => {\r\n    const { publishdDate, title, user, body, tags, _id, likeButton} = post;\r\n    console.log(post);\r\n    return (\r\n    <PostItemBlocksWrapper>\r\n        <PostItemBlock>\r\n            <h2>\r\n                <Link to={`/@${user.username}/${_id}`}>{title}</Link>\r\n            </h2>\r\n            <SubInfo username={user.username} publishdDate={new Date(publishdDate)} /> \r\n            <Tags tags={tags} />\r\n            <p>{body}</p>\r\n            <LikeButtons likeNum={likeButton}/>\r\n        </PostItemBlock>\r\n    </PostItemBlocksWrapper>    \r\n    );\r\n};\r\n\r\nconst PostList = ({ posts, loading, error, markerOn, showWrittenButton, user }) => {\r\n    if (error) {\r\n        return <PostListBlock>에러 발생</PostListBlock>;\r\n    }\r\n\r\n    return (\r\n        <PostListBlock>\r\n            <WritePostButtonWrapper>\r\n                {user && user.username == 'admin' ? ((showWrittenButton && markerOn) ? (\r\n                    <Button cyan to=\"/write\">\r\n                        새 리뷰 작성하기\r\n                    </Button>\r\n                ) : (<Button gray>마커를 선택하세요</Button>)) : null\r\n                }\r\n            </WritePostButtonWrapper>\r\n            <SearchBar></SearchBar>\r\n            <Pagination></Pagination>\r\n            {/* 로딩중 아니고, 포스트배열이 존재할 때 */}\r\n            {!loading && posts && (\r\n                <div>\r\n                    {posts.map(post => (\r\n                        <PostItem post={post} key={post._id} />\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </PostListBlock>\r\n    );\r\n};\r\n\r\nexport default PostList;","import { handleActions, createAction } from 'redux-actions';\r\nimport createRequestSaga from '../lib/createRequestSaga';\r\nimport * as postsAPI from '../lib/api/posts';\r\nimport { takeLatest } from 'redux-saga/effects';\r\n\r\nconst CHANGE_FIELD = 'posts/CHANGE_FIELD';\r\n\r\nconst LIST_POSTS = 'posts/LIST_POSTS';\r\nconst LIST_POSTS_SUCCESS = 'posts/LIST_POSTS_SUCCESS';\r\nconst LIST_POSTS_FAILURE = 'posts/LIST_POSTS_FAILURE';\r\n\r\nexport const changeField = createAction(CHANGE_FIELD, ({ key, value }) => ({ key, value }));\r\nexport const listPosts = createAction(LIST_POSTS, ({ tag, username, page, _id }) => ({ tag, username, page, _id }));\r\n\r\nconst listPostsSaga = createRequestSaga(LIST_POSTS, postsAPI.listPosts);\r\n\r\nexport function* postsSaga() {\r\n    yield takeLatest(LIST_POSTS, listPostsSaga);\r\n}\r\n\r\nconst initialState = {\r\n    posts: null,\r\n    error: null,\r\n    lastPage: 1,\r\n    markerOn: null,\r\n};\r\n\r\nconst posts = handleActions(\r\n    {\r\n        [CHANGE_FIELD]: (state, { payload: { key, value } }) => ({\r\n            ...state,\r\n            [key]: value,   // 특정 key값 업데이트\r\n        }),\r\n        [LIST_POSTS_SUCCESS]: (state, { payload: posts, meta: response }) => ({\r\n            ...state,\r\n            posts,\r\n            lastPage: parseInt(response.headers['last-page'], 10),   // 문자열을 숫자로\r\n        }),\r\n        [LIST_POSTS_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            error,\r\n        }),\r\n    },\r\n    initialState\r\n);\r\n\r\nexport default posts;","import client from './client';\r\n\r\nimport qs from 'qs';\r\n\r\n// 포스트 쓰기\r\nexport const writePost = ({ title, body, tags, marker }) =>\r\n    client.post('/api/posts', { title, body, tags, marker });\r\n\r\n// 포스트 읽기\r\nexport const readPost = id => client.get(`/api/posts/${id}`);\r\n\r\n// 포스트 리스트\r\nexport const listPosts = ({ page, username, tag, _id }) => {\r\n    const queryString = qs.stringify({\r\n        page,\r\n        username,\r\n        tag,\r\n        _id,\r\n    });\r\n    return client.get(`/api/posts?${queryString}`)  // /api/posts?username=&tag=&page=\r\n};\r\n\r\n// 포스트 수정\r\nexport const updatePost = ({ id, title, body, tags, marker }) => \r\n    client.patch(`/api/posts/${id}`, { title, body, tags, marker });\r\n\r\n// 포스트 삭제\r\nexport const removePost = id => client.delete(`/api/posts/${id}`);","import React, { useEffect } from 'react';\r\nimport PostList from '../../components/posts/PostList';\r\nimport { listPosts } from '../../modules/posts';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport qs from 'qs';\r\n\r\nconst PostListContainer = ({ match, location }) => {\r\n    const dispatch = useDispatch();\r\n    const { posts, error, loading, user, markerOn } = useSelector(({ posts, user, loading }) => ({\r\n        posts: posts.posts,\r\n        error: posts.error,\r\n        markerOn: posts.markerOn,\r\n        user: user.user,\r\n        loading: loading['posts/LIST_POSTS'],\r\n    }));\r\n\r\n    // URL 에서 쿼리, 파라미터 값 가져와서 api 로\r\n    useEffect(() => {\r\n        const { username, _id } = match.params;\r\n        const { tag, page } = qs.parse(location.search, {\r\n            ignoreQueryPrefix: true,\r\n        });\r\n        dispatch(listPosts({ tag, username, page, _id }));\r\n    }, [dispatch, location.search]);\r\n\r\n    return (\r\n        <PostList loading={loading} posts={posts} error={error} markerOn={markerOn} showWrittenButton={user} user={user} />\r\n    );\r\n};\r\n\r\nexport default withRouter(PostListContainer);","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport qs from 'qs';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Pagination from '../../components/posts/Pagination';\r\n\r\nconst PaginationContainer = ({ match, location }) => {\r\n    const { lastPage, posts, loading } = useSelector(({ posts, loading }) => ({\r\n        lastPage: posts.lastPage,\r\n        posts: posts.posts,\r\n        loading: loading['posts/LIST_POSTS'],\r\n    }));\r\n\r\n    // 포스트 데이터없거나 로딩중이면 아무것도 안보여줌\r\n    if (!posts || loading ) return null;\r\n\r\n    const { username } = match.params;  // /@username\r\n    const { tag, page = 1 } = qs.parse(location.search, {   // ?tag= , ?page=\r\n        ignoreQueryPrefix: true,\r\n    });\r\n\r\n    return (\r\n        <Pagination\r\n            tag={tag}\r\n            page={parseInt(page, 10)}\r\n            username={username}\r\n            lastPage={lastPage}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(PaginationContainer);\r\n","import React, { useState, useRef, useCallback } from 'react';\r\nimport { GoogleMap, InfoWindow, LoadScript, Marker } from '@react-google-maps/api';\r\nimport { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst GoogleMapAPI = ({ onChangeMarkerOn, posts, loading, user, markerOn }) => {\r\n    const [markers, setMarkers] = useState();\r\n    const [selected, setSelected] = useState(null);\r\n\r\n    const mapStyles = {        \r\n        height: \"100vh\",\r\n        width: \"50%\",\r\n        float: \"left\",\r\n       //display: \"flex\"\r\n     };\r\n    const defaultCenter = {\r\n        lat: 37.496281, lng: 126.957390\r\n    };\r\n\r\n    // 구글맵 : 마우스 클릭 이벤트\r\n    const addMarker = (e) => {\r\n        const marker = {\r\n            name: e.latLng.lat(),\r\n            position: {\r\n                lat: e.latLng.lat(),\r\n                lng: e.latLng.lng(),\r\n            }\r\n        }\r\n        setMarkers(marker);\r\n    }\r\n    // 마커 : 마우스 우클릭 이벤트. 미완성\r\n    const removeMarker = (e) => {\r\n        const marker = {\r\n            name: e.latLng.lat(),\r\n            position: {\r\n                lat: e.latLng.lat(),\r\n                lng: e.latLng.lng()\r\n            }\r\n        }\r\n        const nextMarkers = markers.filter(m => m !== marker);\r\n        setMarkers(nextMarkers);\r\n    }\r\n\r\n    const dragMarker = (e) => {\r\n        console.log(e);\r\n        const newMarker = {\r\n            name: e.latLng.lat(),\r\n            position: {\r\n                lat: e.latLng.lat(),\r\n                lng: e.latLng.lng(),\r\n            }\r\n        }\r\n        setMarkers(newMarker);\r\n        setSelected(newMarker);\r\n        onChangeMarkerOn(newMarker);\r\n    }\r\n\r\n    return (\r\n        <LoadScript\r\n            googleMapsApiKey='AIzaSyCh2Dfsi0RTtFrKPTdMgTLWKgkT-MRRexg'>\r\n            <GoogleMap\r\n                mapContainerStyle={mapStyles}\r\n                zoom={17}\r\n                center={defaultCenter}\r\n                onClick={addMarker}             \r\n            >\r\n            {/* 어드민 로그인하면 지도에 클릭으로 마커 생성 가능 */}\r\n            {user && user.username == 'admin' && markers &&\r\n                <Marker \r\n                    key={markers.name} \r\n                    position={markers.position} \r\n                    draggable={true}\r\n                    onClick={() => {\r\n                        onChangeMarkerOn(markers);\r\n                        setSelected(markers);\r\n                    }}\r\n                    onRightClick={removeMarker}\r\n                    onDragEnd={dragMarker}\r\n                />\r\n            }\r\n            {/* 글목록에서 마커들을 불러와 구글맵에 마커 생성 */}\r\n            {!loading && posts && (\r\n                posts.map(post => {\r\n                    return (\r\n                        <Marker \r\n                            key={post._id} \r\n                            position={post.marker.position} \r\n                            onClick={() => {\r\n                                onChangeMarkerOn(post);\r\n                                setSelected(post);\r\n                            }}\r\n                        />\r\n                    )\r\n                }))\r\n            }\r\n            {/* 버그: admin으로 로그인 후 새로 생성한 마커말고 다른 마커 누르면 에러 */}\r\n            {/* 어드민 전용 인포 윈도우 */}\r\n            {user && (user.username == 'admin' && selected) ? (\r\n                <InfoWindow \r\n                    position={{ lat: selected.position.lat + 0.00025, lng: selected.position.lng  }}\r\n                    onCloseClick={() => { setSelected(null); }}\r\n                >\r\n                    <div>\r\n                        <h3>마커선택됨</h3>\r\n                    </div>\r\n                </InfoWindow>\r\n            ) : null}\r\n            {/* 유저 전용 인포 윈도우 */}\r\n            {user && (user.username != 'admin' && selected) ? (\r\n                <InfoWindow \r\n                    position={{ lat: selected.marker.position.lat + 0.00025, lng: selected.marker.position.lng  }}\r\n                    onCloseClick={() => { setSelected(null); }}\r\n                >\r\n                    <div>\r\n                        <h3>{selected.marker.name}가 선택되었습니다!</h3>\r\n                        <Link to={`/@${selected._id}`}>이동</Link>\r\n                    </div>\r\n                </InfoWindow>\r\n            ) : null}\r\n            </GoogleMap>\r\n        </LoadScript>\r\n    )\r\n}\r\nexport default GoogleMapAPI;","import React from 'react';\r\nimport GoogleMapAPI from '../../components/posts/GoogleMapAPI';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changeField } from '../../modules/posts';\r\n\r\nconst GoogleMapAPIContainer = () => {\r\n    const dispatch = useDispatch();\r\n    // const markerOn = useSelector(state => state.posts.markerOn);\r\n    const { posts, loading, markerOn, user } = useSelector(({ posts, loading, user }) => ({\r\n        posts: posts.posts,\r\n        markerOn: posts.markerOn,\r\n        user: user.user,\r\n        loading: loading['posts/LIST_POSTS'],\r\n    }));\r\n\r\n    const onChangeMarkerOn = value => {\r\n        dispatch(\r\n            changeField({\r\n                key: 'markerOn',\r\n                value: value,\r\n            })\r\n        )\r\n    }\r\n\r\n    return <GoogleMapAPI onChangeMarkerOn={onChangeMarkerOn} posts={posts} loading={loading} user={user} markerOn={markerOn} />;\r\n};\r\n\r\nexport default GoogleMapAPIContainer;","import React from 'react';\r\nimport HeaderContainer from '../containers/common/HeaderContainer';\r\nimport PostListContainer from '../containers/posts/PostListContainer';\r\nimport PaginationContainer from '../containers/posts/PaginationContainer';\r\nimport GoogleMapAPIContainer from '../containers/posts/GoogleMapAPIContainer';\r\n\r\nconst PostListPage = () => {\r\n    return (\r\n        <>            \r\n            <HeaderContainer />\r\n            <GoogleMapAPIContainer />\r\n            <PostListContainer />\r\n        </>\r\n    )\r\n};\r\n\r\nexport default PostListPage;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\nimport { Link } from 'react-router-dom';\r\n\r\n/*\r\n    회원가입, 로그인 페이지의 레이아웃을 담당.\r\n    children으로 받아 온 내용을 보여줌.\r\n*/\r\n\r\n/* 화면 전체를 채움 */\r\nconst AuthTemplateBlock = styled.div`\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    background: ${palette.gray[2]};\r\n    /* flex로 내부 내용 중앙 정렬 */\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\n/* 흰색 박스 */\r\nconst WhiteBox = styled.div`\r\n    .logo-area {\r\n        display: block;\r\n        padding-bottom: 2rem;\r\n        text-align: center;\r\n        font-weight: bold;\r\n        letter-spacing: 2px;\r\n    }\r\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\r\n    padding: 2rem;\r\n    width: 360px;\r\n    background: white;\r\n    border-radius: 2px;\r\n`;\r\n\r\nconst AuthTemplate = ({ children }) => {\r\n    return (\r\n        <AuthTemplateBlock>\r\n            <WhiteBox>\r\n                <div className=\"logo-area\">\r\n                    <Link to=\"/\">Street Vender</Link>\r\n                </div>\r\n                {children}\r\n            </WhiteBox>\r\n        </AuthTemplateBlock>\r\n    );\r\n};\r\n\r\nexport default AuthTemplate;","import { createAction, handleActions } from 'redux-actions';\r\nimport produce from 'immer';\r\n// import { createRequestActionTypes } from '../lib/createRequestSaga';\r\nimport { takeLatest } from 'redux-saga/effects';\r\nimport createRequestSaga from '../lib/createRequestSaga';\r\nimport * as authAPI from '../lib/api/auth';\r\n\r\nconst CHANGE_FIELD = 'auth/CHANGE_FIELD';\r\nconst INITIALIZE_FORM = 'auth/INITIALIZE_FORM';\r\n\r\nconst REGISTER = 'auth/REGISTER';\r\nconst REGISTER_SUCCESS = 'auth/REGISTER_SUCCESS';\r\nconst REGISTER_FAILURE = 'auth/REGISTER_FAILURE';\r\n\r\nconst LOGIN = 'auth/LOGIN';\r\nconst LOGIN_SUCCESS = 'auth/LOGIN_SUCCESS';\r\nconst LOGIN_FAILURE = 'auth/LOGIN_FAILURE';\r\n\r\nexport const changeField = createAction(\r\n    CHANGE_FIELD,\r\n    ({ form, key, value }) => ({\r\n        form, // register, login\r\n        key, // username, password, passwordConfirm\r\n        value, // 실제 바꾸려는 값\r\n    }),\r\n);\r\n\r\nexport const initializeForm = createAction(INITIALIZE_FORM, (form) => form); // register, login\r\n\r\nexport const register = createAction(REGISTER, ({ username, password }) => ({   // 회원가입 할때 필요한 파라미터들\r\n    username,\r\n    password,\r\n}));\r\nexport const login = createAction(LOGIN, ({ username, password }) => ({    // libs/api/auth\r\n    username,\r\n    password,\r\n}));\r\n\r\n\r\n// 사가 생성\r\nconst registerSaga = createRequestSaga(REGISTER, authAPI.register);\r\nconst loginSaga = createRequestSaga(LOGIN, authAPI.login);\r\nexport function* authSaga() {\r\n    yield takeLatest(REGISTER, registerSaga); // 가장 마지막으로 실행된 작업만(한번만) 수행\r\n    yield takeLatest(LOGIN, loginSaga);\r\n}\r\n\r\nconst initialState = {\r\n    register: {\r\n        username: '',\r\n        password: '',\r\n        passwordConfirm: '',\r\n    },\r\n    login: {\r\n        username: '',\r\n        password: '',\r\n    },\r\n};\r\n\r\nconst auth = handleActions(\r\n    {\r\n        [CHANGE_FIELD]: (state, { payload: { form, key, value } }) =>\r\n            produce(state, (draft) => {\r\n                draft[form][key] = value; // 예) state.register.username을 value로 바꾼다\r\n            }),\r\n        [INITIALIZE_FORM]: (state, { payload: form }) => ({\r\n            ...state,\r\n            [form]: initialState[form], // 예) state.login 을 initialState.login으로 바꾼다\r\n        }),\r\n        // 회원가입 성공\r\n        [REGISTER_SUCCESS]: (state, { payload: auth }) => ({\r\n            ...state,\r\n            authError: null,\r\n            auth,\r\n        }),\r\n        // 실패\r\n        [REGISTER_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            authError: error,\r\n        }),\r\n        // 로그인 성공\r\n        [LOGIN_SUCCESS]: (state, { payload: auth }) => ({\r\n            ...state,\r\n            authError: null,\r\n            auth,\r\n        }),\r\n        // 실패\r\n        [LOGIN_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            authError: error,\r\n        }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default auth;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport palette from '../../lib/styles/palette';\r\nimport Button from '../common/Button';\r\n\r\n//  회원가입 또는 로그인 폼을 보여줌\r\nconst AuthFormBlock = styled.div`\r\n    h3 {\r\n        margin: 0;\r\n        color: ${palette.gray[8]};\r\n        margin-bottom: 1rem;\r\n    }\r\n`;\r\n\r\n\r\n//  스타일링된 input\r\nconst StyledInput = styled.input`\r\n    font-size: 1rem;\r\n    border: none;\r\n    border-bottom: 1px solid ${palette.gray[5]};\r\n    padding-bottom: 0.5rem;\r\n    outline: none;\r\n    width: 100%;\r\n    &:focus {\r\n        color: $oc-teal-7;\r\n        border-bottom: 1px solid ${palette.gray[7]};\r\n    }\r\n    & + & {\r\n        margin-top: 1rem;\r\n    }\r\n`;\r\n\r\n\r\n//  폼 하단에 로그인 혹은 회원가입 링크를 보여 줌\r\nconst Footer = styled.div`\r\n    margin-top: 2rem;\r\n    text-align: right;\r\n    a {\r\n        color: ${palette.gray[6]};\r\n        text-decoration: underline;\r\n        &:hover {\r\n            color: ${palette.gray[9]};\r\n        }\r\n    }\r\n`;\r\n\r\n//  버튼 컴포넌트에 margin-top 추가 \r\nconst ButtonWithMarginTop = styled(Button)`\r\n    margin-top: 1rem;\r\n`;\r\n\r\nconst textMap = {\r\n    login: '로그인',\r\n    register: '회원가입'\r\n};\r\n\r\n// 에러를 보여 줌\r\nconst ErrorMessage = styled.div`\r\n    color: red;\r\n    text-align: center;\r\n    font-size: 0.875rem;\r\n    margin-top: 1rem;\r\n`;\r\n\r\nconst AuthForm = ({ type, form, onChange, onSubmit, error }) => {\r\n    const text = textMap[type];\r\n    return (\r\n        <AuthFormBlock>\r\n            {/* children */}\r\n            <h3>{text}</h3>\r\n            <form onSubmit={onSubmit}>\r\n                <StyledInput \r\n                    autoComplete=\"username\" \r\n                    name=\"username\" \r\n                    placeholder=\"아이디\" \r\n                    onChange={onChange} \r\n                    value={form.username}  // form에 입력되있는 값. containers/auth/LoginForm 의 changeField에서, state.login.password의 값을 value로\r\n                />\r\n                <StyledInput \r\n                    autoComplete=\"new-password\"\r\n                    name=\"password\"\r\n                    placeholder=\"비밀번호\"\r\n                    type=\"password\"\r\n                    onChange={onChange}\r\n                    value={form.password}   \r\n                />\r\n                {/* 타입이 register면 비밀번호 확인란 추가*/}\r\n                {type === 'register' && (\r\n                    <StyledInput\r\n                        autoComplete=\"new-password\"\r\n                        name=\"passwordConfirm\"\r\n                        placeholder=\"비밀번호 확인\"\r\n                        type=\"password\"\r\n                        onChange={onChange}\r\n                        value={form.passwordConfirm}\r\n                    />\r\n                )}\r\n                {error && <ErrorMessage>{error}</ErrorMessage>}\r\n                <ButtonWithMarginTop cyan fullWidth>{text}</ButtonWithMarginTop>  {/* == <ButtonWith~ cyan={true} fullWidth={true}> */}\r\n            </form>\r\n            <Footer>\r\n                {type === 'login' ? (<Link to=\"/register\">회원가입</Link>) : (<Link to=\"/login\">로그인</Link>)}\r\n            </Footer>\r\n        </AuthFormBlock>\r\n    );\r\n};\r\n\r\nexport default AuthForm;","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { changeField, initializeForm, login } from '../../modules/auth';\r\nimport AuthForm from '../../components/auth/AuthForm';\r\nimport { withRouter } from 'react-router-dom';  // history 쓰기 위해\r\nimport { check } from '../../modules/user';     \r\n\r\nconst LoginForm = ({ history }) => {    // history.push 를 쓰기 위해 (54)\r\n    const [error, setError] = useState(null);\r\n\r\n    const dispatch = useDispatch();\r\n    const { form, auth, authError, user } = useSelector( ({ auth, user }) => ({ \r\n        form: auth.login, \r\n        auth: auth.auth,\r\n        authError: auth.authError,\r\n        user: user.user\r\n    }));   \r\n    // 인풋 변경 이벤트 헨들러\r\n    const onChange = e => {\r\n        const { value, name } = e.target;\r\n        dispatch(\r\n            changeField({\r\n                form: 'login',\r\n                key: name,\r\n                value\r\n            })\r\n        );\r\n    };\r\n\r\n    // 폼 등록 이벤트 핸들러\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        const { username, password } = form;    // StyledInput 들의 value들\r\n        dispatch(login({ username, password })); // libs/api/auth의 login API 요청\r\n    };\r\n\r\n    // 컴포넌트가 처음 렌더링될 때 form 초기화\r\n    useEffect(() => {\r\n        dispatch(initializeForm('login'));\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        if (authError) {\r\n            console.log('오류 발생');\r\n            console.log(authError);\r\n            setError('로그인 실패');\r\n            return;\r\n        }\r\n        if (auth) {\r\n            console.log('로그인 성공');\r\n            dispatch(check());\r\n        }\r\n    }, [auth, authError, dispatch]);\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            history.push('/');\r\n            try {\r\n                localStorage.setItem('user', JSON.stringify(user));\r\n            } catch (e) {\r\n                console.log('localStorage is not working');\r\n            }\r\n        }\r\n    }, [history, user]);\r\n\r\n    return (\r\n        <AuthForm\r\n            type=\"login\"\r\n            form={form}\r\n            onChange={onChange}\r\n            onSubmit={onSubmit}\r\n            error={error}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(LoginForm);","import React from 'react';\r\nimport AuthTemplate from '../components/auth/AuthTemplate';\r\n// import AuthForm from '../components/auth/AuthForm';\r\nimport LoginForm from '../containers/auth/LoginForm';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst LoginPage = () => {\r\n    return (\r\n        <AuthTemplate>\r\n            <Helmet>\r\n                <title>로그인 - Street Vender</title>\r\n            </Helmet>\r\n            <LoginForm />\r\n        </AuthTemplate>\r\n    )\r\n};\r\n\r\nexport default LoginPage;","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { changeField, initializeForm, register } from '../../modules/auth';\r\nimport AuthForm from '../../components/auth/AuthForm';\r\nimport { check } from '../../modules/user';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst RegisterForm = ({ history }) => {\r\n    const [error, setError] = useState(null);\r\n\r\n    const dispatch = useDispatch();\r\n    const { form, auth, authError, user } = useSelector( ({ auth, user }) => ({  // component로 주는 props. user는 백엔드의 user정보\r\n        form: auth.register, \r\n        auth: auth.auth,\r\n        authError: auth.authError,\r\n        user: user.user     \r\n        }));   // form을 register으로\r\n\r\n    // 인풋 변경 이벤트 헨들러\r\n    const onChange = e => {\r\n        const { value, name } = e.target;\r\n        dispatch(\r\n            changeField({\r\n                form: 'register',\r\n                key: name,\r\n                value\r\n            })\r\n        );\r\n    };\r\n\r\n    // 폼 등록 이벤트 핸들러\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        const { username, password, passwordConfirm } = form;   // StyledInput들의 value 값들.\r\n        \r\n        // 빈칸이 있으면\r\n        if([username, password, passwordConfirm].includes('')) {\r\n            setError('빈 칸을 모두 입력하시오');\r\n            return;\r\n        }\r\n        // 비밀번호가 일치하지 않으면\r\n        if (password !== passwordConfirm) {\r\n            setError('비밀번호가 일치하지 않음');\r\n            dispatch(changeField({ form: 'register', key:'password', value:'' }));\r\n            dispatch(changeField({ form: 'register', key:'passwordConfirm', value:'' }));\r\n            return;\r\n        }\r\n        dispatch(register({ username, password}));  // 현재 아이디, 비밀번호를 파라미터로 액션 디스패치\r\n    };\r\n\r\n    // 컴포넌트가 처음 렌더링될 때 form 초기화\r\n    useEffect(() => {\r\n        dispatch(initializeForm('register'));\r\n    }, [dispatch]);\r\n\r\n    // 회원가입 성공, 실패 처리\r\n    useEffect(() => {\r\n        if (authError) {\r\n            if (authError.response.status === 409) { // backend/api/auth.ctrl.js\r\n                setError('이미 존재하는 아이디입니다');\r\n                return;\r\n            }  \r\n            setError('회원가입 실패');\r\n            return;\r\n        }\r\n        if (auth) {\r\n            console.log('회원가입 성공');\r\n            console.log(auth);\r\n            dispatch(check());\r\n        }\r\n    }, [auth, authError, dispatch]);\r\n    \r\n    // user 값이 잘 설정됐는지 확인 \r\n    useEffect(() => {\r\n        if (user) {\r\n            history.push('/');  // 홈화면 이동\r\n            try {\r\n                localStorage.setItem('user', JSON.stringify(user));\r\n            } catch (e) {\r\n                console.log('localStorage is not working');\r\n            }\r\n        }       \r\n    }, [history, user]);\r\n\r\n    return (\r\n        <AuthForm\r\n            type=\"register\"\r\n            form={form}\r\n            onChange={onChange}\r\n            onSubmit={onSubmit}\r\n            error={error}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(RegisterForm);","import React from 'react';\r\nimport AuthTemplate from '../components/auth/AuthTemplate';\r\n// import AuthForm from '../components/auth/AuthForm';\r\nimport RegisterForm from '../containers/auth/RegisterForm';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst RegisterPage = () => {\r\n    return (\r\n        <AuthTemplate>\r\n            <Helmet>\r\n                <title>회원가입 - Street Vender</title>\r\n            </Helmet>\r\n            <RegisterForm />\r\n        </AuthTemplate>\r\n    );\r\n};\r\n\r\nexport default RegisterPage;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport Quill from 'quill';\r\nimport 'quill/dist/quill.bubble.css';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\nimport Responsive from '../common/Responsive';\r\n\r\nconst EditorBlock = styled(Responsive)`\r\n    /* 페이지 위아래 여백 지정 */\r\n    padding-top: 5rem;\r\n    padding-bottom: 5rem;\r\n`;\r\nconst TitleInput = styled.input`\r\n    font-size: 3rem;\r\n    outline: none;\r\n    padding-bottom: 0.5rem;\r\n    border: none;\r\n    border-bottom: 1px solid ${palette.gray[4]};\r\n    margin-bottom: 2rem;\r\n    width: 100%;\r\n`;\r\nconst QuillWraper = styled.div`\r\n    /* 최소 크기 지정 및 padding 제거 */\r\n    .ql-editor {\r\n        padding: 0;\r\n        min-height: 320px;\r\n        font-size: 1.125rem;\r\n        line-height: 1.5;\r\n    }\r\n    .ql-editor.ql-blank::before {\r\n        left: 0px;\r\n    }\r\n`;\r\n\r\nconst Editor = ({ onChangeField, title, body }) => {\r\n    const quillElement = useRef(null);  // Quill을 적용할 DivElement 설정\r\n    const quillInstance = useRef(null); // Quill 인스턴스 설정\r\n    \r\n    useEffect(() => {\r\n        quillInstance.current = new Quill(quillElement.current, {\r\n            theme: 'bubble',\r\n            placeholder: '내용을 작성하세요',\r\n            modules: {\r\n                // 더 많은 옵션 https://quilljs.com/docs/modules/toolbar 참고\r\n                toolbar: [\r\n                    [{ header: '1' }, {header: '2'}],\r\n                    ['bold', 'italic', 'underline', 'strike'],\r\n                    [{ list: 'ordered' }, { list: 'bullet' }],\r\n                    ['blockquote', 'code-block', 'link', 'image'],\r\n                ],\r\n            },\r\n        });\r\n\r\n        // quill에 text-change 이벤트 핸들러 등록 \r\n        // *참고: https://quilljs.com/docs/api/#events\r\n        const quill = quillInstance.current;\r\n        quill.on('text-change', (delta, oldDelta, source) => {\r\n            if (source === 'user') {\r\n                onChangeField({ key: 'body', value: quill.root.innerHTML });\r\n            }\r\n        });\r\n    }, [onChangeField]);\r\n\r\n    const mounted = useRef(false);\r\n    useEffect(() => {\r\n        if (mounted.current) return;\r\n        mounted.current = true;\r\n        quillInstance.current.root.innerHTML = body;\r\n    }, [body]);\r\n\r\n    const onChangeTitle = e => {\r\n        onChangeField({ key: 'title', value: e.target.value }); // title의 값을 e.target.value로 (title인풋에 써진대로)\r\n    };\r\n\r\n    return (\r\n        <EditorBlock>\r\n            <TitleInput \r\n                placeholder=\"제목을 입력하세요\"\r\n                onChange={onChangeTitle}    // 변화가 생기면 (타이핑되면) onChangeTitle 핸들러  실행\r\n                value={title}    // 제목 쓰는 input에  {title} 할당\r\n            />\r\n            <QuillWraper>\r\n                <div ref={quillElement} />  {/* 내용 부분. Quill 적용*/}\r\n            </QuillWraper>\r\n        </EditorBlock>\r\n    )\r\n}\r\n\r\nexport default Editor;","import { createAction, handleActions } from 'redux-actions';\r\nimport createRequestSaga from '../lib/createRequestSaga';\r\nimport * as postsAPI from '../lib/api/posts';\r\nimport { takeLatest } from 'redux-saga/effects';\r\n\r\nconst INITIALIZE = 'write/INITIALIZE';      // 모든 내용 초기화\r\nconst CHANGE_FIELD = 'write/CHANGE_FIELD'   // 특정 key값 바꾸기\r\n\r\n// 포스트 쓰기 관련\r\nconst WRITE_POST = 'write/WRITE_POST';\r\nconst WRITE_POST_SUCCESS = 'write/WRITE_POST_SUCCESS';\r\nconst WRITE_POST_FAILURE = 'write/WRITE_POST_FAILURE';\r\n\r\n// 포스트 수정 관련\r\nconst SET_ORIGINAL_POST = 'write/SET_ORIGINAL_POST';    // 현재 보고있는 포스트 정보를 write 모듈에서 관리하는 상태에 넣음\r\n\r\nconst UPDATE_POST = 'write/UPDATE_POST';\r\nconst UPDATE_POST_SUCCESS = 'write/UPDATE_POST_SUCCESS';\r\nconst UPDATE_POST_FAILURE = 'write/UPDATE_POST_FAILURE';\r\n\r\nexport const initialize = createAction(INITIALIZE);\r\nexport const changeField = createAction(CHANGE_FIELD, ({ key, value }) => ({ key, value }));    \r\n\r\nexport const writePost = createAction(WRITE_POST, ({ title, body, tags, marker }) => ({ title, body, tags, marker }));\r\n\r\nexport const setOriginalPost = createAction(SET_ORIGINAL_POST, post => post);\r\n\r\nexport const updatePost = createAction(UPDATE_POST, ({ id, title, body, tags, marker }) => ({ id, title, body, tags, marker }));\r\n\r\n// 사가 생성\r\nconst writePostSaga = createRequestSaga(WRITE_POST, postsAPI.writePost);\r\nconst updatePostSaga = createRequestSaga(UPDATE_POST, postsAPI.updatePost);\r\n\r\nexport function* writeSaga() {\r\n    yield takeLatest(WRITE_POST, writePostSaga);\r\n    yield takeLatest(UPDATE_POST, updatePostSaga);\r\n}\r\n\r\n\r\nconst initialState = {\r\n    title: '',\r\n    body: '',\r\n    tags: [],\r\n    marker: {},\r\n    post: null,\r\n    postError: null,\r\n    originalPostId: null,\r\n};\r\n\r\nconst write = handleActions(\r\n    {\r\n        [INITIALIZE]: state => initialState,\r\n        [CHANGE_FIELD]: (state, { payload: { key, value } }) => ({\r\n            ...state,\r\n            [key]: value,   // 특정 key값 업데이트\r\n        }),\r\n        [WRITE_POST]: state => ({\r\n            // post, postError 초기화\r\n            ...state,\r\n            post: null,\r\n            postError: null,\r\n        }),\r\n        [WRITE_POST_SUCCESS]: (state, { payload: post }) => ({\r\n            ...state,\r\n            post,   // 서버에서 응답한 포스트\r\n        }),\r\n        [WRITE_POST_FAILURE]: (state, { payload: postError }) => ({\r\n            ...state,\r\n            postError,\r\n        }),\r\n        [SET_ORIGINAL_POST]: (state, { payload: post }) => ({\r\n            ...state,\r\n            title: post.title,\r\n            body: post.body,\r\n            tags: post.tags,\r\n            marker: post.marker,\r\n            originalPostId: post._id,\r\n        }),\r\n        [UPDATE_POST_SUCCESS]: (state, { payload: post }) => ({\r\n            ...state,\r\n            post,\r\n        }),\r\n        [UPDATE_POST_FAILURE]: (state, { payload: postError }) => ({\r\n            ...state,\r\n            postError,\r\n        }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default write;","import React, { useEffect, useCallback } from 'react';\r\nimport Editor from '../../components/write/Editor';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changeField, initialize } from '../../modules/write';\r\n\r\nconst EditorContainer = () => {\r\n    const dispatch = useDispatch();\r\n    const { title, body } = useSelector(({ write }) => ({   // title값과 body값을 리덕스 스토어에서 불러옴\r\n        title: write.title,\r\n        body: write.body,\r\n    }));\r\n\r\n    const onChangeField = useCallback(payload => dispatch(changeField(payload)),    // useCallback: 823p\r\n        [dispatch]\r\n    );\r\n    // 언마운트 될때 초기화\r\n    useEffect(() => {\r\n        return () => {  // 뒷정리 함수 return\r\n            dispatch(initialize());\r\n        };\r\n    }, [dispatch]);\r\n    \r\n    return <Editor onChangeField={onChangeField} title={title} body={body} />;\r\n};\r\n\r\nexport default EditorContainer;","import React, { useState, useCallback, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\n\r\nconst TagBoxBlock = styled.div`\r\n    width: 100%;\r\n    border-top: 1px solid ${palette.gray[2]};\r\n    padding-top: 2rem;\r\n\r\n    h4 {\r\n        color: ${palette.gray[8]};\r\n        margin-top: 0;\r\n        margin-bottom: 0.5rem;\r\n    }\r\n`;\r\n\r\nconst TagForm = styled.form`\r\n    border-radius: 4px;\r\n    overflow: hidden;\r\n    display: flex;\r\n    width: 255px;\r\n    border: 1px solid ${palette.gray[9]};   /* 스타일 초기화 */\r\n    \r\n    input, button {\r\n        outline: none;\r\n        border: none;\r\n        font-size: 1rem;\r\n    }\r\n\r\n    input {\r\n        padding: 0.5rem;\r\n        flex: 1;\r\n        min-width: 0;\r\n    }\r\n    button {\r\n        cursor: pointer;\r\n        padding-right: 1rem;\r\n        padding-left: 1rem;\r\n        border: none;\r\n        background: ${palette.gray[8]};\r\n        color: white;\r\n        font-weight: bold;\r\n        &:hover {\r\n            background: ${palette.gray[6]};\r\n        }\r\n    }\r\n`;\r\n\r\nconst Tag = styled.div`\r\n    margin-right: 0.5rem;\r\n    color: ${palette.gray[6]};\r\n    cursor: pointer;\r\n    &:hover {\r\n        opacity: 0.5;\r\n    }\r\n`;\r\n\r\nconst TagListBlock = styled.div`\r\n    display: flex;\r\n    margin-top: 0.5rem;\r\n`;\r\n\r\n//  React.memo 로 tag값이 바뀔때만 리렌더링 되도록 처리 \r\nconst TagItem = React.memo(({ tag, onRemove }) => (     // <TagItem tags={} onRemove={} />\r\n    <Tag onClick={() => onRemove(tag)}>#{tag}</Tag>\r\n));\r\n\r\n// React.memo로 tags값이 바뀔때만 리렌더링\r\nconst TagList = React.memo(({ tags, onRemove }) => (    // <TagList tags={} onRemove={} />\r\n    <TagListBlock>\r\n        {tags.map(tag => <TagItem key={tag} tag={tag} onRemove={onRemove} />)}\r\n    </TagListBlock>\r\n));\r\n\r\nconst TagBox = ({ onChangeTags, tags }) => {\r\n    const [input, setInput] = useState('');\r\n    const [localTags, setLocalTags] = useState([]);\r\n\r\n    const insertTag = useCallback(\r\n        tag => {\r\n            if (!tag) return;   // 공백이면 추가하지 않음\r\n            if (localTags.includes(tag)) return;    // 이미 존재하면 추가안함\r\n            const nextTags = [...localTags, tag];\r\n            setLocalTags(nextTags); //  웹페이지에 태그 추가됨\r\n            onChangeTags(nextTags); //  리덕스 스토어에 태그값 추가됨\r\n        },\r\n        [localTags, onChangeTags],\r\n    );\r\n\r\n    const onRemove = useCallback(\r\n        tag => {\r\n            const nextTags = localTags.filter(t => t !== tag);  // 특정태그 t를 제외한 localTags.\r\n            setLocalTags(nextTags); \r\n            onChangeTags(nextTags);\r\n        },\r\n        [localTags, onChangeTags],\r\n    );\r\n\r\n    const onChange = useCallback(e => {\r\n        setInput(e.target.value);\r\n    }, []);\r\n\r\n    const onSubmit = useCallback(e => {\r\n        e.preventDefault();\r\n        insertTag(input.trim());    // 앞 뒤 공백 없애고 등록\r\n        setInput('');   // input 초기화\r\n        },\r\n        [input, insertTag],\r\n    );\r\n    \r\n    // tags 값이 바뀔 때\r\n    useEffect(() => {\r\n        setLocalTags(tags);\r\n    }, [tags])\r\n\r\n    return (\r\n        <TagBoxBlock>\r\n            <h4>태그</h4>\r\n            <TagForm onSubmit={onSubmit}>\r\n                <input\r\n                    placeholder=\"태그를 입력하세요\"\r\n                    value={input}\r\n                    onChange={onChange}\r\n                />\r\n                <button type=\"submit\">추가</button>\r\n            </TagForm>\r\n            <TagList tags={localTags} onRemove={onRemove} />\r\n        </TagBoxBlock>\r\n    );\r\n};\r\n\r\nexport default TagBox;","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport TagBox from '../../components/write/TagBox';\r\nimport { changeField } from '../../modules/write';\r\n\r\nconst TagBoxContainer = () => {\r\n    const dispatch = useDispatch();\r\n    const tags = useSelector(state => state.write.tags);\r\n\r\n    const onChangeTags = nextTags => {\r\n        dispatch(\r\n            changeField({   \r\n                key: 'tags',\r\n                value: nextTags,    // [tags]: nextTags\r\n            })  \r\n        );\r\n    };\r\n\r\n    return <TagBox onChangeTags={onChangeTags} tags={tags} />;\r\n};\r\n\r\nexport default TagBoxContainer;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Button from '../common/Button';\r\n\r\nconst WriteActionButtonsBlock = styled.div`\r\n    margin-top: 1rem;\r\n    margin-bottom: 3rem;\r\n    button + button {\r\n        margin-left: 0.5rem;\r\n    }\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n    height: 2.125rem;\r\n    & + & {\r\n        margin-left: 0.5rem;\r\n    }\r\n`;\r\n\r\nconst WriteActionButtons = ({ onCancel, onPublish, isEdit }) => {\r\n    return (\r\n        <WriteActionButtonsBlock>\r\n            <StyledButton cyan onClick={onPublish}>포스트{isEdit ? '수정' : '등록'}</StyledButton>        \r\n            <StyledButton onClick={onCancel}>취소</StyledButton>\r\n        </WriteActionButtonsBlock>\r\n    );\r\n};\r\n\r\nexport default WriteActionButtons;","import React, { useEffect } from 'react';\r\nimport WriteActionButtons from '../../components/write/WriteActionButtons';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { writePost, updatePost } from '../../modules/write';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst WriteActionButtonsContainer = ({ history }) => {\r\n    const dispatch = useDispatch();\r\n    const { title, body, tags, marker, post, postError, originalPostId } = useSelector(({ write }) => ({    // 리덕스 스토어 (인터넷 개발자탭의 redux탭에 있는 state 들.)\r\n        title: write.title,\r\n        body: write.body,\r\n        tags: write.tags,\r\n        marker: write.marker,\r\n        post: write.post,\r\n        postError: write.postError,\r\n        originalPostId: write.originalPostId,\r\n    }));\r\n\r\n    const onPublish = () => {\r\n        if (originalPostId) {\r\n            dispatch(updatePost({ title, body, tags, marker, id: originalPostId }));\r\n            return;\r\n        }\r\n        dispatch(writePost({ title, body, tags, marker }));\r\n    };\r\n\r\n    const onCancel = () => {\r\n        history.goBack();\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (post) {\r\n            const { _id, user } = post; // 서버에서 응답한 포스트 정보의 _id와 username값 참조 (jwtMiddleWare)\r\n            history.push(`/@${user.username}/${_id}`);\r\n        }\r\n        if (postError) {\r\n            console.log(postError);\r\n        }\r\n    }, [history, post, postError]);\r\n    \r\n    return <WriteActionButtons onPublish={onPublish} onCancel={onCancel} isEdit={originalPostId}/>;\r\n};\r\n\r\nexport default withRouter(WriteActionButtonsContainer);","import React, { useState, useRef, useCallback } from 'react';\r\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\r\n\r\nconst GoogleMapWrite = ({ onChangeField, marker, title, user, markerOn }) => {\r\n    const [markers, setMarkers] = useState([]);\r\n\r\n    const mapStyles = {        \r\n        height: \"75vh\",\r\n        width: \"75%\"\r\n    };\r\n    const defaultCenter = {\r\n        lat: 37.496281, lng: 126.957390\r\n    };\r\n\r\n    const onLoad = () => {\r\n        const marker = {\r\n            name: title,\r\n            position: markerOn.position,\r\n        }\r\n        onChangeField({ key: 'marker', value: marker });\r\n    }\r\n\r\n\r\n    return (\r\n        <LoadScript\r\n            googleMapsApiKey='AIzaSyCh2Dfsi0RTtFrKPTdMgTLWKgkT-MRRexg'>\r\n            <GoogleMap\r\n                mapContainerStyle={mapStyles}\r\n                zoom={17}\r\n                center={defaultCenter}             \r\n            >\r\n\r\n            {markerOn && \r\n                <Marker \r\n                    key={title} \r\n                    position={markerOn.position}\r\n                    onLoad={onLoad}  \r\n                />\r\n            }\r\n            </GoogleMap>\r\n        </LoadScript>\r\n    )\r\n}\r\nexport default GoogleMapWrite;","import React, { useEffect, useCallback } from 'react';\r\nimport GoogleMapWrite from '../../components/write/GoogleMapWrite';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changeField, initialize } from '../../modules/write';\r\n\r\nconst GoogleMapWriteContainer = () => {\r\n    const dispatch = useDispatch();\r\n    const { marker, title, markerOn, user } = useSelector(({ write, posts, user }) => ({   // title값과 body값을 리덕스 스토어에서 불러옴\r\n        marker: write.marker,\r\n        title: write.title,\r\n        markerOn: posts.markerOn,\r\n        user: user.user,\r\n    }));\r\n\r\n    const onChangeField = useCallback(payload => dispatch(changeField(payload)),    // useCallback: 823p\r\n        [dispatch]\r\n    );\r\n    // 언마운트 될때 초기화\r\n    useEffect(() => {\r\n        return () => {  // 뒷정리 함수 return\r\n            dispatch(initialize());\r\n        };\r\n    }, [dispatch]);\r\n    \r\n    return <GoogleMapWrite onChangeField={onChangeField} marker={marker} title={title} markerOn={markerOn} user={user} />;\r\n};\r\n\r\nexport default GoogleMapWriteContainer;","import React from 'react';\r\nimport Responsive from '../components/common/Responsive';\r\nimport EditorContainer from '../containers/write/EditorContainer';\r\nimport TagBoxContainer from '../containers/write/TagBoxContainer';\r\nimport WriteActionButtonsContainer from '../containers/write/WriteActionButtonsContainer';\r\nimport GoogleMapWriteContainer from '../containers/write/GoogleMapWriteContainer';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst WritePage = () => {\r\n    return (\r\n        <Responsive>\r\n            <Helmet>\r\n                <title>글쓰기 - Street Vender</title>\r\n            </Helmet>\r\n            <EditorContainer />\r\n            <GoogleMapWriteContainer />\r\n            <TagBoxContainer />\r\n            <WriteActionButtonsContainer />\r\n        </Responsive>\r\n    );\r\n};\r\n\r\nexport default WritePage;","import { createAction, handleActions } from 'redux-actions';\r\nimport createRequestSaga from '../lib/createRequestSaga';\r\nimport * as postsAPI from '../lib/api/posts';\r\nimport { takeLatest } from 'redux-saga/effects';\r\n\r\nconst READ_POST = 'posts/READ_POST';\r\nconst READ_POST_SUCCESS = 'posts/READ_POST_SUCCESS';\r\nconst READ_POST_FAILURE = 'posts/READ_POST_FAILURE';\r\nconst UNLOAD_POST = 'posts/UNLOAD_POST';    // 포스트 페이지에서 벗어날 때 데이터 비우기\r\n\r\nexport const readPost = createAction(READ_POST, id => id);    // id: api요청할때 필요한 거\r\nexport const unloadPost = createAction(UNLOAD_POST);\r\n\r\nconst readPostSaga = createRequestSaga(READ_POST, postsAPI.readPost);\r\nexport function* postSaga() {\r\n    yield takeLatest(READ_POST, readPostSaga);\r\n}\r\n\r\nconst initialState = {\r\n    post: null,\r\n    error: null,\r\n};\r\n\r\nconst post = handleActions(\r\n    {\r\n        [READ_POST_SUCCESS]: (state, { payload: post }) => ({\r\n            ...state,\r\n            post,\r\n        }),\r\n        [READ_POST_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            error,\r\n        }),\r\n        [UNLOAD_POST]: () => initialState,\r\n    },\r\n    initialState\r\n);\r\n\r\nexport default post;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\nimport Responsive from '../common/Responsive';\r\nimport Tags from '../common/Tags';\r\nimport SubInfo from '../common/SubInfo';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst PostViewerBlock = styled(Responsive)`\r\n    margin-top: 4rem;\r\n`;\r\nconst PostHead = styled.div`\r\n    border-bottom: 1px solid ${palette.gray[3]};\r\n    padding-bottom: 3rem;\r\n    margin-bottom: 3rem;\r\n    h1 {\r\n        font-size: 3rem;\r\n        line-height: 1.5;\r\n        margin: 0;\r\n    }\r\n`;\r\nconst PostContent = styled.div`\r\n    font-size: 1.3125rem;\r\n    color: ${palette.gray[8]};\r\n`;\r\n\r\nconst PostViewer = ({ post, error, loading, actionButtons }) => {\r\n    // 에러 발생\r\n    if (error) {\r\n        if (error.response && error.response.status === 404) {\r\n            return <PostViewerBlock>존재하지 않는 포스트입니다.</PostViewerBlock>;\r\n        }\r\n        return <PostViewerBlock>오류 발생</PostViewerBlock>\r\n    }\r\n    // 로딩 중 이거나 아직 포스트 데이터가 없을 때 \r\n    if (loading || !post) {\r\n        return null;\r\n    }\r\n\r\n    const { title, body, user, publishdDate, tags, marker } = post; \r\n\r\n    return (\r\n        <PostViewerBlock>\r\n            <Helmet>\r\n                <title>{title} - REACTERS</title>\r\n            </Helmet>\r\n            <PostHead>\r\n                <h1>{title}</h1>\r\n                <SubInfo \r\n                    username={user.username}\r\n                    publishdDate={publishdDate}\r\n                    hasMarginTop\r\n                />\r\n                <Tags tags={tags} />\r\n            </PostHead>\r\n            {actionButtons}\r\n            <PostContent dangerouslySetInnerHTML={{ __html: body }} />\r\n        </PostViewerBlock>\r\n    );\r\n};\r\n\r\nexport default PostViewer;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Button from './Button';\r\n\r\nconst Fullscreen = styled.div`\r\n    position: fixed;\r\n    z-index: 30;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.25);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nconst AskModalBlock = styled.div`\r\n    width: 320px;\r\n    background: white;\r\n    padding: 1.5rem;\r\n    border-radius: 4px;\r\n    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.125);\r\n    h2 {\r\n        margin-top: 0;\r\n        margin-bottom: 1rem;\r\n    }\r\n    p {\r\n        margin-bottm: 3rem;\r\n    }\r\n    .buttons {\r\n        display: flex;\r\n        justify-content: flex-end;\r\n    }\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n    height: 2rem;\r\n    & + & {\r\n        margin-left: 0.75rem;\r\n    }\r\n`;\r\n\r\nconst AskModal = ({ visible, title, description, confirmText= '확인', cancleText= '취소', onConfirm, onCancle }) => {\r\n    if (!visible) return null;\r\n    return (\r\n        <Fullscreen>\r\n            <AskModalBlock>\r\n                <h2>{title}</h2>\r\n                <p>{description}</p>\r\n                <div className=\"buttons\">\r\n                    <StyledButton onClick={onCancle}>{cancleText}</StyledButton>\r\n                    <StyledButton cyan onClick={onConfirm}>{confirmText}</StyledButton>\r\n                </div>\r\n            </AskModalBlock>\r\n        </Fullscreen>\r\n    );\r\n};\r\n\r\nexport default AskModal;","import React from 'react';\r\nimport AskModal from '../common/AskModal';\r\n\r\nconst AskRemoveModal = ({ visible, onConfirm, onCancle }) => {\r\n    return (\r\n        <AskModal \r\n            visible={visible}\r\n            title=\"포스트 삭제\"\r\n            description=\"포스트를 정말 삭제하시겠습니까?\"\r\n            confirmText=\"삭제\"\r\n            onConfirm={onConfirm}\r\n            onCancle={onCancle}\r\n        />\r\n    );\r\n};\r\n\r\nexport default AskRemoveModal;","import React, { useState, useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\nimport AskRemoveModal from '../post/AskRemoveModal';\r\n\r\nconst PostActionButtonsBlock = styled.div`\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    margin-bottom: 2rem;\r\n    margin-top: 1.5rem;\r\n`;\r\nconst ActionButton = styled.button`\r\n    padding: 0.25rem 0.5rem;\r\n    border-radius: 4px;\r\n    color: ${palette.gray[6]};\r\n    font-weight: bold;\r\n    outline: none;\r\n    border: none;\r\n    font-size: 0.875rem;\r\n    cursor: pointer;\r\n    &:hover {\r\n        background: ${palette.gray[1]};\r\n        color: ${palette.cyan[7]};\r\n    }\r\n    & + & {\r\n        margin-left: 0.25rem;\r\n    }\r\n`;\r\n\r\nconst PostActionButtons = ({ onEdit, onRemove }) => {\r\n    const [modal, setModal] = useState(false);\r\n    const onRemoveClick = () => {\r\n        setModal(true);\r\n    };\r\n    const onCancle = () => {    // \"취소\" 클릭\r\n        setModal(false);\r\n    };\r\n    const onConfirm = () => {   // \"확인\" 클릭\r\n        setModal(false);\r\n        onRemove();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <PostActionButtonsBlock>\r\n                <ActionButton onClick={onEdit}>수정</ActionButton>\r\n                <ActionButton onClick={onRemoveClick}>삭제</ActionButton>\r\n            </PostActionButtonsBlock>\r\n            <AskRemoveModal\r\n                visible={modal}\r\n                onConfirm={onConfirm}\r\n                onCancle={onCancle}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PostActionButtons;\r\n","import React, { useState, useRef, useCallback } from 'react';\r\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\r\n\r\nconst GoogleMapRead = ({ post }) => {\r\n\r\n    const mapStyles = {        \r\n        height: \"75vh\",\r\n        width: \"75%\"\r\n    };\r\n    const defaultCenter = {\r\n        lat: 37.496281, lng: 126.957390\r\n    };\r\n\r\n    // const { marker } = post; \r\n\r\n    return (\r\n        <LoadScript\r\n            googleMapsApiKey='AIzaSyCh2Dfsi0RTtFrKPTdMgTLWKgkT-MRRexg'>\r\n            <GoogleMap\r\n                mapContainerStyle={mapStyles}\r\n                zoom={17}\r\n                center={defaultCenter}            \r\n            >\r\n            </GoogleMap>\r\n        </LoadScript>\r\n    )\r\n}\r\nexport default GoogleMapRead;","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { readPost, unloadPost } from '../../modules/post';\r\nimport PostViewer from '../../components/post/PostViewer';\r\nimport PostActionButtons from '../../components/post/PostActionButtons';\r\nimport GoogleMapRead from '../../components/post/GoogleMapRead';\r\nimport { setOriginalPost } from '../../modules/write';\r\nimport { removePost } from '../../lib/api/posts';\r\n\r\nconst PostViewerContainer = ({ match, history }) => {\r\n    const { postId } = match.params;\r\n    const dispatch = useDispatch();\r\n    const { post, error, loading, user } = useSelector(({ post, loading, user }) => ({\r\n        post: post.post,\r\n        error: post.error,\r\n        loading: loading['post/READ_POST'],\r\n        user: user.user,\r\n    }));\r\n    \r\n    useEffect(() => {\r\n        dispatch(readPost(postId));\r\n        // 언마운트될 때 리덕스에서 포스트 데이터 없애기\r\n        return () => {\r\n            dispatch(unloadPost());\r\n        };\r\n    }, [dispatch, postId]);\r\n\r\n    const onEdit = () => {\r\n        dispatch(setOriginalPost(post));\r\n        history.push('/write');\r\n    };\r\n\r\n    const onRemove = async () => {\r\n        try {\r\n            await removePost(postId);\r\n            history.push('/');\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n\r\n    const ownPost = (user && user._id) === (post && post.user._id);\r\n\r\n    return (\r\n        <>\r\n            <PostViewer \r\n                post={post} \r\n                loading={loading} \r\n                error={error} \r\n                actionButtons={ownPost && <PostActionButtons onEdit={onEdit} onRemove={onRemove} />} \r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(PostViewerContainer);\r\n","import React, { useEffect, useCallback } from 'react';\r\nimport GoogleMapRead from '../../components/post/GoogleMapRead';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changeField, initialize } from '../../modules/write';\r\n\r\nconst GoogleMapReadContainer = () => {\r\n\r\n    const { post } = useSelector(({ post }) => ({   // title값과 body값을 리덕스 스토어에서 불러옴\r\n        post: post.post,\r\n    }));\r\n\r\n    \r\n    return <GoogleMapRead post={post} />;\r\n};\r\n\r\nexport default GoogleMapReadContainer;","import React from 'react';\r\nimport HeaderContainer from '../containers/common/HeaderContainer';\r\nimport PostViewerContainer from '../containers/post/PostViewerContainer';\r\nimport GoogleMapReadContainer from '../containers/post/GoogleMapReadContainer';\r\n\r\nconst PostPage = () => {\r\n    return (\r\n        <>  \r\n            <HeaderContainer />\r\n            <PostViewerContainer />\r\n            <GoogleMapReadContainer />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PostPage;","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\n\nimport PostListPage from './pages/PostListPage';\nimport LoginPage from './pages/LoginPage';\nimport RegisterPage from './pages/RegisterPage';\nimport WritePage from './pages/WritePage';\nimport PostPage from './pages/PostPage';\n\nconst  App = () => {\n  return (\n    <>\n      <Helmet>\n        <title>Street Vender</title>\n      </Helmet>\n      <Route component={PostListPage} path={['/@:username', '/']} exact />\n      <Route component={LoginPage} path=\"/login\" />\n      <Route component={RegisterPage} path=\"/register\" />\n      <Route component={WritePage} path=\"/write\" />\n      <Route component={PostPage} path=\"/@:username/:postId\" />\n    </>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { combineReducers } from 'redux';\r\nimport { all } from 'redux-saga/effects';   // 768p\r\nimport auth, { authSaga } from './auth';    // Saga: 768p\r\nimport loading from './loading';\r\nimport user, { userSaga } from './user';\r\nimport write, { writeSaga } from './write';\r\nimport post, { postSaga } from './post';\r\nimport posts, { postsSaga } from './posts';\r\n\r\nconst rootReducer = combineReducers({\r\n    auth,\r\n    loading,\r\n    user,\r\n    write,\r\n    post,\r\n    posts,\r\n});\r\n\r\nexport function* rootSaga() {\r\n    yield all([authSaga(), userSaga(), writeSaga(), postSaga(), postsSaga()]);    // all 함수는 여러 사가를 합쳐주는 역할\r\n}\r\n\r\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux'; // apply: 768p\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport createSagaMiddleware from 'redux-saga'; // 768p\nimport rootReducer, { rootSaga } from './modules/index'; // Saga: 768p\nimport { tempSetUser, check } from './modules/user';\nimport { HelmetProvider } from 'react-helmet-async';  // meta태그 설정\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(\n    rootReducer,\n    composeWithDevTools(applyMiddleware(sagaMiddleware)),\n);\n\nfunction loadUser() {   // 페이지를 새로고침해도 로그인상태 유지하려면\n  try {                 // 맨 처음 렌더링될때 localStorage에서 값을 불러와서 스토어 안에 넣도록\n    const user = localStorage.getItem('user');\n    if (!user) return;  // 로그인 상태가 아니면 아무것도 안함\n    \n    store.dispatch(tempSetUser(user));\n    store.dispatch(check());\n  } catch (e) {\n    console.log('localStorage is not working');\n  }\n}\n\nsagaMiddleware.run(rootSaga);\nloadUser();\n\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter>\n          <HelmetProvider>\n            <App />\n          </HelmetProvider>\n        </BrowserRouter>\n    </Provider>,\n    document.getElementById('root'),\n);\n\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADrUlEQVR4nO2ay0tVQRjAf3oVIxA3KT5yIdgiddHCNrlNN5m0y3W2M/oHVIKg2mmgbWrRorWbpCJqI0ELFUy4BmWRJmVCq0sYiI8WM6eZc+5c77lzzrn3iPODwfHON98378c3BxwOh8PhcDgcDofjBFJVAXudQDvQIgPAlgybwBfgsMzlSpRaYACYAb4jKndU2JCyAzLvsaUaGAbWKF7pQmFN6qhOqpBJTYE+RC9eCPy+CMwBWeCnDACtMvQAV4GLgXwfgFHgfULljZURYBfVizlgDFHBsLTJPDlNz67UnVoywBSqwAfANNAYQWej1HGg6Z2StlKHXvkccCVG3YP4R8NkjLpj4SaqcN+A8wnY6ALWNTupmQ59qDmfQxQ0KbpQI2EXuJSgrVBUA8uoOR/nsC/EIGpNWCbBLTIMw6ghOV1GuzOa3etltOujFnXIyZG/2tcBpwMhLMF8dYH0JtRUWKNCJ8YBVC+MGdLn8Z/q9krQvRfIO2+QGdfS+0vQ7SPK/BnS4k8j6LFFtzlUUKoINZb5qjSji6gjrc4z4J32fyk3vAf4j+nrBpkfwBLQK8tyu0QbkTiHGn4T5TJqYEIrR6eNAtsp0K7Fs5Y64mBVi7cXlDoC2ynQosWDw78GuGyptxhv8S+muu0WLEiiAU4Bryz1FqMe+FPAtlUDJHGK+gvsJ6B3X+qOFdsRsKXFWxG+PI994BfiTr8A3LG04XEX4SDZIr9hdR/DFhbE1QBBVhEN0AG8wX5EZBDbKcBHQ3rkBrCdAnqP9xjS5+TfRoSLy5Yh4IyMPzekdxcoU+JUoTy8C4b0ZmBHpn8CGixsNMi8h1JXs0FmEeVJLreL33cjM02D+1r6C0pzY2WAl1r+ewaZNipzE/1PsctQPeKQ5Mk8Jv9WZ6IOeKLly0pdQWK5DEWh2HUYxCK4jSroCnAN82jIyLQVTX5b6giSiuswhHOIdOAfCYfAb2AWeCjDrPxNl8lirjykxCEC4V1i9Yh57C2MR4UdKWsa9pAylxgIx2RYp2gz4oXnNWLb2pNhU/42inm19+gmZU5RjxFUD64T3jOcIfzukFq3uEfwYWQwRt2pfxgB0ZOT+J/GZoj2NNYkdehPY5Ok9GnMI67H0XHyH0dvxFpSkjs+XgIekf88voQ4069ifh7vRpz/ewP5loFbHJPncY9qxB4d5QOJz1JHxbe6KNQijqrTiEtLsUpvSNl+ynDCq9RHUmcp/JHUV8ro3nY4HA6Hw+FwOByOE8k/tnpOATg3fOQAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADBUlEQVR4nO2avU8UQRTAf5wSEhNLSBBJLLAQKCywgRoakVZahc6Pf4CP1g4KsDOxsLDHv4CYWAgJFtCIxkOi1195ELSYuczbZfc+dmf2lvB+ySRzt2/eezM7szvz3oKiKIqiKIqiKMo1pK8H9saAUWDYFoCaLafAD+BfwX4FpR+YA7aB35jOtSonVnbOtr2yVIBF4Jj2nU4rx1ZHJZSToZbADOYuPoz9vwd8Ag6Bv7YA3LFlEngCPIq1+wa8AL4E8tcrS0ADdxfrwAqmg50yYtvUhZ6G1V1abgCbOIcvgC1gMIfOQavjQujdtLZKh+x8HXjsUfc80dmw4VG3F5Zxzv0CHgSwMQ5UhZ3SLIcZ3JqvYxwNxThuJjSA6YC2OqICHODWvM9pn8Y87plwQMBXZCcs4qbkVoF2t4XdpwXajdCP2+TUufy0HwBuxUqnxNsNxK4P4ZbCMT3aMc7h7sJKwvVdoru68y50n8fa7ibIrIrrs13ojpBn/SyI+vscerIibS6kSrXhZsZ2fcLoHm5LK/kAfBa/uznhvSG6Ta8myPwB9oEp68vrLm3k4j5u+q0VZTSBNeHHWBYFWZfAqKgfZtThgyNRH02VakHWARgW9aTpXxTS9nCqVAt0ADw5cmXJOgA1Ue/mnO8babuWKtUCHYCMhk9FfTKjDh9MiPppqlQA+nAR3q9FGo6xh4skFx3ij5zIerEMRvBwEs3zFtgR9Wc59GRF2txJlQpIu+NwSLwdh7MehgDOMHvxj8BtYB14Ja4vA/dy6JdUgXfi97q1CeZYfObJTte0ConF4wF5iowHlCokBiYwmRQUDTEAE5QsKNpkCedsFTMISSGxrGWAEofFm8QTI/MedZc+MQImXbVBNDW2Tb63w5DVIVNjG5Q0NdbEV3J0lcvJ0edePSXc9nEaeMvl9Pg+ZtNyRHJ6fAIT35uKtTsAXnJF0uNNKpikRZ4PJL5bHT1/1eWhHxO338IcWtp1+sTKzlJAwqNXH0ndJf0jqZ8UGN5WFEVRFEVRFEW5lvwHq8klfta/9tYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADRklEQVR4nO2aO09UQRSAv10lJHYWkCBuB1GBwgILwRYakVbsiNj5+ANAbQwJFGCLGv6B1poQEwshWR8rBWAEiWKi1TYkhKDFzDpz797Zx33tJZwvOcnsnZlzZubO7Mycc0EQBEEQBEEQBOEUkmuBvR6gAHRpAdjXsgdsA39TbleitAGjwBLwHdW5WrKry47quieWPDABbFG/0y7Z0jrySTUyqSUwjHqLV33P14BXQAn4qQXggpYB4BZwzVfvA3AfeJdQe2NlCjjEvMUyMI3qYKN06zplS8+h1p1ZzgALmAYfA4tARwSdHVrHsaV3QdvKHHbny8DNGHWP4Z0N8zHqjoV7mMZ9A64kYKMP2LHsZGY5DGPWfBnV0KTow8yEQ2AoQVsNkQeKmDUf57R3MYb5TyiS4BbZCBOYKbmYot0ly+7tFO16aMMccspU/9u3A+d80ij+eu2+/E7MUtiiRSfGUcxbmA7IX8V7qjtqQveRr+5qQJkZK3+kCd0eoqyfcSv9LIKesNg2x52l6nA2ZL2cZXQNc6S1WQHeWr+bueE9xntM3wko8wNYBwZ1Wx41aSMSvZjpN5uW0QBmrXb0hFEQdgkUrHQppI44+GKlC85SNQg7AF1WOmj6p4Vtu8tZqgYyADE15MQSdgD2rXQz9/y4sW3vO0vVoBUDUMsL1ayHqmUDsGelBxxlJoEnqC0T4DIwB/wCXqPuEe1a7gBvdN4ccEnX6dU6Jh02+h1tSpwcxsP73pFfwuzRm3iPthX5oyUoz67zmeDZsYbxJKft4vfcyPzLoAPYILhj28BBwPMDTEzALxtUX7a6rfw0b6L/qXcZygE3gBfAb2AZuK6fnwceAp+Aj8AD/SynyyzrOs9RDpegtxvLZSgK9a7DNq7pmauT5yIT12E45Q4REJcYoByTaTlF+8mYU7TCFGZK7pDMIGTWLV7BHxgZi1F35gMjoMJV83hDY0tEC411ah12aGyejIbGKsQVHJ2hOjh6N9aWktzxcQh4SnV4fB14ifLkBIXH+1H+vUFfvSLqsHQiwuMV8qg9OsoHEptaR8u3uii0oY6qi6hLS71O7+qyI6RwwmvVR1IXcX8k9ZUU3duCIAiCIAiCIAinkn/OUDXrnnC1ZgAAAABJRU5ErkJggg==\""],"sourceRoot":""}