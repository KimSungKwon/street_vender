(this["webpackJsonpblog-frontend"]=this["webpackJsonpblog-frontend"]||[]).push([[0],{122:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(29),c=t.n(o),i=(t(90),t(16)),u=t(24),l=t(9),s=t(4),m=t(3),b=t(81);function p(){var e=Object(s.a)(["\n    padding-left: 1rem;\n    padding-right: 1rem;\n    width: 1024px;\n    margin: 0 auto; /* \uc911\uc559\uc815\ub82c */\n\n    /* \ube0c\ub77c\uc6b0\uc800 \ud06c\ud0a4\uc5d0 \ub530\ub77c \uac00\ub85c \ud06c\uae30 \ubcc0\uacbd */\n    @media (max-width: 1024px) {\n        width: 768px;\n    }\n    @media (max-width: 768px) {\n        width: 100%;\n    }\n"]);return p=function(){return e},e}var d=m.b.div(p()),f=function(e){var n=e.children,t=Object(b.a)(e,["children"]);return a.a.createElement(d,t,n)},g={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"]},O=t(11);function E(){var e=Object(s.a)(["\n    ","\n"]);return E=function(){return e},e}function v(){var e=Object(s.a)(["\n    ","\n"]);return v=function(){return e},e}function h(){var e=Object(s.a)(["\n    ","\n"]);return h=function(){return e},e}function j(){var e=Object(s.a)(["\n            background: ",";\n        "]);return j=function(){return e},e}function k(){var e=Object(s.a)(["\n            background: ",";\n            &:hover {\n                background: ",";\n            }\n        "]);return k=function(){return e},e}function y(){var e=Object(s.a)(["\n            padding-top: 0.75rem;\n            padding-bottom: 0.75rem;\n            width: 100%;\n            font-size: 1.125rem;\n        "]);return y=function(){return e},e}function A(){var e=Object(s.a)(["\n    border: none;\n    border-radius: 4px;\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 0.25rem 1rem;\n    color: white;\n    outline: none;\n    cursor: pointer;\n\n    background: ",";\n    \n    &:hover {\n        background: ",";\n    }\n    &:disabled {\n        background: ",";\n        color: ",";\n        cursor: not-allowed;\n    }\n    \n    ","\n    ","\n    ","\n"]);return A=function(){return e},e}var w=Object(m.a)(A(),g.gray[8],g.gray[6],g.gray[3],g.gray[5],(function(e){return e.fullWidth&&Object(m.a)(y())}),(function(e){return e.cyan&&Object(m.a)(k(),g.cyan[5],g.cyan[4])}),(function(e){return e.gray&&Object(m.a)(j(),g.gray[6])})),C=m.b.button(h(),w),S=Object(m.b)(O.b)(v(),w),x=Object(m.b)(O.b)(E(),m.b.button),I=function(e){return a.a.createElement(x,Object.assign({},e,{cyan:e.cyan?1:0,gray:e.gray?1:0}))},T=function(e){return e.to?a.a.createElement(S,Object.assign({},e,{cyan:e.cyan?1:0})):a.a.createElement(C,Object.assign({gray:e.gray?1:0},e))};function L(){var e=Object(s.a)(["\n    font-weight: 800;\n    margin-right: 1rem;\n"]);return L=function(){return e},e}function R(){var e=Object(s.a)(["\n    height: 4rem;\n    display: flex;\n    align-items: center;\n    justify-content: space-between; /* \uc790\uc2dd \uc5d8\ub9ac\uba3c\ud2b8 \uc0ac\uc774\uc758 \uc5ec\ubc31\uc744 \ucd5c\ub300\ub85c \uc124\uc815 */\n    .logo {\n        font-size: 1.125rem;\n        font-weight: 800;\n        letter-spacing: 1.75px;\n    }\n    .right {\n        display: flex;\n        align-items: center;\n    }\n"]);return R=function(){return e},e}function B(){var e=Object(s.a)(["\n    position: fixed;\n    top :0px;\n    width: 100%;\n    background: white;\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.08);\n"]);return B=function(){return e},e}var D,U,N=m.b.div(B()),P=Object(m.b)(f)(R()),F=m.b.div(L()),M=function(e){var n=e.user,t=e.onLogout;return a.a.createElement(a.a.Fragment,null,a.a.createElement(N,null,a.a.createElement(P,null,a.a.createElement(O.b,{to:"/",className:"logo"},"Street Vender"),n?a.a.createElement("div",{className:"right"},a.a.createElement(F,null,n.username),a.a.createElement(T,{onClick:t},"\ub85c\uadf8\uc544\uc6c3")):a.a.createElement("div",{className:"right"},a.a.createElement(T,{to:"/login"},"\ub85c\uadf8\uc778")))))},H=t(8),_=t(5),K=t(13),G=t.n(K),Q=t(141),W=t(139),V=t(15),Y=t(73),Z=t.n(Y).a.create(),z=function(){return Z.post("/api/auth/logout")},q=Object(Q.a)("loading/START_LOADING",(function(e){return e})),J=Object(Q.a)("loading/FINISH_LOADING",(function(e){return e})),X=Object(W.a)((D={},Object(H.a)(D,"loading/START_LOADING",(function(e,n){return Object(_.a)(Object(_.a)({},e),{},Object(H.a)({},n.payload,!0))})),Object(H.a)(D,"loading/FINISH_LOADING",(function(e,n){return Object(_.a)(Object(_.a)({},e),{},Object(H.a)({},n.payload,!1))})),D),{});function $(e,n){var t="".concat(e,"_SUCCESS"),r="".concat(e,"_FAILURE");return G.a.mark((function a(o){var c;return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(V.c)(q(e));case 2:return a.prev=2,a.next=5,Object(V.b)(n,o.payload);case 5:return c=a.sent,a.next=8,Object(V.c)({type:t,payload:c.data,meta:c});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(V.c)({type:r,payload:a.t0,error:!0});case 14:return a.next=16,Object(V.c)(J(e));case 16:case"end":return a.stop()}}),a,null,[[2,10]])}))}var ee=G.a.mark(ue),ne=G.a.mark(le),te="user/CHECK",re=Object(Q.a)("user/TEMP_SET_USER",(function(e){return e})),ae=Object(Q.a)(te),oe=Object(Q.a)("user/LOGOUT"),ce=$(te,(function(){return Z.get("/api/auth/check")}));function ie(){try{localStorage.removeItem("user")}catch(e){console.log("localStorage is not working")}}function ue(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(V.b)(z);case 3:localStorage.removeItem("user"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),ee,null,[[0,6]])}function le(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.d)(te,ce);case 2:return e.next=4,Object(V.d)("user/CHECK_FAILURE",ie);case 4:return e.next=6,Object(V.d)("user/LOGOUT",ue);case 6:case"end":return e.stop()}}),ne)}var se=Object(W.a)((U={},Object(H.a)(U,"user/TEMP_SET_USER",(function(e,n){var t=n.payload;return Object(_.a)(Object(_.a)({},e),{},{user:t})})),Object(H.a)(U,"user/CHECK_SUCCESS",(function(e,n){var t=n.payload;return Object(_.a)(Object(_.a)({},e),{},{user:t,checkError:null})})),Object(H.a)(U,"user/CHECK_FAILURE",(function(e,n){var t=n.payload;return Object(_.a)(Object(_.a)({},e),{},{user:se,checkError:t})})),Object(H.a)(U,"user/LOGOUT",(function(e){return Object(_.a)(Object(_.a)({},e),{},{user:null})})),U),{user:null,checkError:null}),me=se,be=function(){var e=Object(l.c)((function(e){return{user:e.user.user}})).user,n=Object(l.b)();return a.a.createElement(M,{user:e,onLogout:function(){n(oe())}})};function pe(){var e=Object(s.a)(["\n            margin-top: 1rem;\n        "]);return pe=function(){return e},e}function de(){var e=Object(s.a)(["\n    /* props\uac00 margin-top\uc744 \uac00\uc9c0\uace0 \uc788\uc73c\uba74(PostViewer) margin-top \uac12\uc744 1rem \ub85c \uc124\uc815 */\n    ","\n    color: ",";\n\n    /* span \uc0ac\uc774\uc5d0 \uac00\uc6b4\ub370\uc810 \ubb38\uc790 */\n    span + span:before {\n        color: ",";\n        padding-left: 0.25rem;\n        padding-right: 0.25rem;\n        content: '\\B7';\n    }\n"],["\n    /* props\uac00 margin-top\uc744 \uac00\uc9c0\uace0 \uc788\uc73c\uba74(PostViewer) margin-top \uac12\uc744 1rem \ub85c \uc124\uc815 */\n    ","\n    color: ",";\n\n    /* span \uc0ac\uc774\uc5d0 \uac00\uc6b4\ub370\uc810 \ubb38\uc790 */\n    span + span:before {\n        color: ",";\n        padding-left: 0.25rem;\n        padding-right: 0.25rem;\n        content: '\\\\B7';\n    }\n"]);return de=function(){return e},e}var fe=m.b.div(de(),(function(e){return e.hasMarginTop&&Object(m.a)(pe())}),g.gray[6],g.gray[4]),ge=function(e){var n=e.username,t=e.publishdDate,r=e.hasMarginTop;return a.a.createElement(fe,{hasMarginTop:r},a.a.createElement("span",null,a.a.createElement("b",null,a.a.createElement(O.b,{to:"/@".concat(n)},n),"    ")),a.a.createElement("span",null,new Date(t).toLocaleDateString()))};function Oe(){var e=Object(s.a)(["\n    margin-top: 0.5rem;\n    .tag {\n        display: inline-block;\n        color: ",";\n        text-decoration: none;\n        margin-right: 0.5rem;\n        &:hover {\n            color: ",";\n        }\n    }\n"]);return Oe=function(){return e},e}var Ee,ve=m.b.div(Oe(),g.cyan[7],g.cyan[5]),he=function(e){var n=e.tags;return a.a.createElement(ve,null,n.map((function(e){return a.a.createElement(O.b,{className:"tag",to:"/?tag=".concat(e),key:e},"    ","#",e)})))},je=t(140),ke=t(137),ye=t(47),Ae=t(74),we=t.n(Ae),Ce=t(30),Se=t.n(Ce),xe=G.a.mark(Re),Ie=Object(Q.a)("posts/CHANGE_FIELD",(function(e){return{key:e.key,value:e.value}})),Te=Object(Q.a)("posts/LIST_POSTS",(function(e){return{tag:e.tag,username:e.username,page:e.page,_id:e._id}})),Le=$("posts/LIST_POSTS",(function(e){var n=e.page,t=e.username,r=e.tag,a=e._id,o=Se.a.stringify({page:n,username:t,tag:r,_id:a});return Z.get("/api/posts?".concat(o))}));function Re(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.d)("posts/LIST_POSTS",Le);case 2:case"end":return e.stop()}}),xe)}var Be={posts:null,error:null,lastPage:1,markerOn:null,search:null,adMarkerOn:null},De=Object(W.a)((Ee={},Object(H.a)(Ee,"posts/CHANGE_FIELD",(function(e,n){var t=n.payload,r=t.key,a=t.value;return Object(_.a)(Object(_.a)({},e),{},Object(H.a)({},r,a))})),Object(H.a)(Ee,"posts/LIST_POSTS_SUCCESS",(function(e,n){var t=n.payload,r=n.meta;return Object(_.a)(Object(_.a)({},e),{},{posts:t,lastPage:parseInt(r.headers["last-page"],10)})})),Object(H.a)(Ee,"posts/LIST_POSTS_FAILURE",(function(e,n){var t=n.payload;return Object(_.a)(Object(_.a)({},e),{},{error:t})})),Ee),Be),Ue=Object(ke.a)((function(e){var n;return{root:{flexGrow:1},search:(n={position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ye.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:"#EEEEEE"},marginLeft:0,width:"1rem"},Object(H.a)(n,e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),Object(H.a)(n,"border","2px solid #AACCFF"),n),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"#99BBFF"},inputRoot:{color:"inherit"},inputInput:Object(H.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"1rem"},e.breakpoints.up("sm"),{width:"10rem","&:focus":{width:"15rem"}})}})),Ne=function(e){var n=e.onChangeSearch,t=(e.posts,Ue());return a.a.createElement("div",{className:t.search},a.a.createElement("div",{className:t.searchIcon},a.a.createElement(we.a,null)),a.a.createElement(je.a,{placeholder:"Search Tag\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},value:Be.search,onChange:function(e){n(e.target.value)}}))},Pe=function(){var e=Object(l.b)(),n=Object(l.c)((function(e){var n=e.posts;e.loading,e.user;return{posts:n.posts,search:n.search}})).posts;return a.a.createElement(Ne,{onChangeSearch:function(n){Be.search=n,""==n&&(Be.search=null),e(Ie({key:"search",value:n}))},posts:n})};function Fe(){var e=Object(s.a)([""]);return Fe=function(){return e},e}function Me(){var e=Object(s.a)(["\n    width: 320px;\n    margin: 0 auto;\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 3rem;\n"]);return Me=function(){return e},e}var He=m.b.div(Me()),_e=m.b.div(Fe()),Ke=function(e){var n=e.username,t=e.tag,r=e.page,a=Se.a.stringify({tag:t,page:r});return n?"/@".concat(n,"?").concat(a):"/?".concat(a)},Ge=function(e){var n=e.page,t=e.lastPage,r=e.username,o=e.tag;return a.a.createElement(He,null,a.a.createElement(T,{disabled:1===n,to:1===n?void 0:Ke({username:r,tag:o,page:n-1})},"\uc774\uc804"),a.a.createElement(_e,null,n),a.a.createElement(T,{disabled:n===t,to:n===t?void 0:Ke({username:r,tag:o,page:n+1})},"\ub2e4\uc74c"))};function Qe(){var e=Object(s.a)(["\n    height : 100vh;\n    overflow-y:scroll;\n"]);return Qe=function(){return e},e}function We(){var e=Object(s.a)(["\n    display: flex;  \n    height: 90px;\n    div{\n        background-color:white;\n        padding-right:10px;\n        padding-left:10px\n    }\n\n    div p{\n        color:black;\n        margin :0;\n        text-align:center;\n        font-size : 10px;\n    }\n"]);return We=function(){return e},e}function Ve(){var e=Object(s.a)(["\n    padding-top: 3rem;\n    padding-bottom: 3rem;\n    \n    /* \ub9e8\uc704 \ud3ec\uc2a4\ud2b8\ub294 padding-top \uc5c6\uc74c */\n    &:first-child {\n        padding-top: 0;\n    }\n    & + & {\n        border-top: 1px solid ",";\n    }\n\n    h2 {\n        font-size: 2rem;\n        margin-bottom: 0;\n        margin-top: 0;\n        &:hover {\n            color: ",";\n        }\n    }\n    p {\n        margin-top: 1rem;\n    }\n"]);return Ve=function(){return e},e}function Ye(){var e=Object(s.a)(["\n    height : window.outerHeight;\n    float: left;\n    \n"]);return Ye=function(){return e},e}function Ze(){var e=Object(s.a)(["\n    display: flex;\n    justify-content: space-between;    \n    margin-bottom: 1rem;\n"]);return Ze=function(){return e},e}function ze(){var e=Object(s.a)(["\n    margin-top: 70px;\n    float:right;\n    width: 50%;\n"]);return ze=function(){return e},e}var qe=Object(m.b)(f)(ze()),Je=m.b.div(Ze()),Xe=m.b.div(Ye()),$e=m.b.div(Ve(),g.gray[2],g.gray[6]),en=m.b.div(We()),nn=m.b.div(Qe()),tn=function(e){var n=e.post,r=n.publishdDate,o=n.title,c=n.user,i=n.body,u=n.tags,l=n._id,s=n.likeButton;return console.log(n),a.a.createElement(Xe,null,a.a.createElement($e,null,a.a.createElement("h2",null,a.a.createElement(O.b,{to:"/@".concat(c.username,"/").concat(l)},o)),a.a.createElement(ge,{username:c.username,publishdDate:new Date(r)}),a.a.createElement(he,{tags:u}),a.a.createElement("p",null,i),a.a.createElement(en,null,a.a.createElement("div",null,a.a.createElement("img",{src:t(50)}),a.a.createElement("p",null,"\uc88b\uc544\uc694 ",n&&s.like)),a.a.createElement("div",null,a.a.createElement("img",{src:t(51)}),a.a.createElement("p",null,"\ud3c9\ubc94\ud574\uc694 ",n&&s.soso)),a.a.createElement("div",null,a.a.createElement("img",{src:t(52)}),a.a.createElement("p",null,"\ubcc4\ub85c\uc5d0\uc694 ",n&&s.dislike)))))},rn=function(e){var n=e.posts,t=e.loading,r=e.error,o=e.adMarkerOn,c=e.showWrittenButton,i=e.user;return r?a.a.createElement(qe,null,"\uc5d0\ub7ec \ubc1c\uc0dd"):a.a.createElement(qe,null,a.a.createElement(Je,null,a.a.createElement(Pe,null),i&&"admin"==i.username?c&&o?a.a.createElement(T,{cyan:!0,to:"/write"},"\uac00\uac8c \ub4f1\ub85d\ud558\uae30"):a.a.createElement(T,{gray:!0},"\ub9c8\ucee4\ub97c \uc120\ud0dd\ud558\uc138\uc694"):null),!t&&n&&a.a.createElement(nn,null,n.filter((function(e){return null==Be.search?e:e.tags.indexOf(Be.search)>-1})).map((function(e){return a.a.createElement(tn,{post:e,key:e._id})}))))},an=Object(i.e)((function(e){var n=e.match,t=e.location,o=Object(l.b)(),c=Object(l.c)((function(e){var n=e.posts,t=e.user,r=e.loading;return{posts:n.posts,error:n.error,markerOn:n.markerOn,adMarkerOn:n.adMarkerOn,user:t.user,loading:r["posts/LIST_POSTS"]}})),i=c.posts,u=c.error,s=c.loading,m=c.user,b=c.markerOn,p=c.adMarkerOn;return Object(r.useEffect)((function(){var e=n.params,r=e.username,a=e._id,c=Se.a.parse(t.search,{ignoreQueryPrefix:!0}),i=c.tag,u=c.page;o(Te({tag:i,username:r,page:u,_id:a}))}),[o,t.search]),a.a.createElement(rn,{loading:s,posts:i,error:u,markerOn:b,adMarkerOn:p,showWrittenButton:m,user:m})})),on=(Object(i.e)((function(e){var n=e.match,t=e.location,r=Object(l.c)((function(e){var n=e.posts,t=e.loading;return{lastPage:n.lastPage,posts:n.posts,loading:t["posts/LIST_POSTS"]}})),o=r.lastPage,c=r.posts,i=r.loading;if(!c||i)return null;var u=n.params.username,s=Se.a.parse(t.search,{ignoreQueryPrefix:!0}),m=s.tag,b=s.page,p=void 0===b?1:b;return a.a.createElement(Ge,{tag:m,page:parseInt(p,10),username:u,lastPage:o})})),t(21)),cn=t(19),un=function(e){var n=e.onChangeAdMarkerOn,t=e.onChangeMarkerOn,o=e.posts,c=e.loading,i=e.user,u=Object(r.useState)(),l=Object(on.a)(u,2),s=l[0],m=l[1],b=Object(r.useState)(null),p=Object(on.a)(b,2),d=p[0],f=p[1],g=Object(r.useState)(null),E=Object(on.a)(g,2),v=E[0],h=E[1];return a.a.createElement(cn.c,{googleMapsApiKey:"AIzaSyCh2Dfsi0RTtFrKPTdMgTLWKgkT-MRRexg"},a.a.createElement(cn.a,{mapContainerStyle:{height:"100vh",width:"50%",float:"left",margin:"65px 0px 0px 0px"},zoom:17,center:{lat:37.496281,lng:126.95739},onClick:function(e){var n={name:e.latLng.lat(),position:{lat:e.latLng.lat(),lng:e.latLng.lng()}};m(n)}},i&&"admin"==i.username&&s&&a.a.createElement(cn.d,{key:s.name,position:s.position,draggable:!0,onClick:function(){n(s),h(s)},onDragEnd:function(e){console.log(e);var t={name:e.latLng.lat(),position:{lat:e.latLng.lat(),lng:e.latLng.lng()}};m(t),h(t),n(t)}}),!c&&o&&o.map((function(e){return a.a.createElement(cn.d,{key:e._id,position:e.marker.position,onClick:function(){t(e),f(e)}})})),i&&"admin"==i.username&&v?a.a.createElement(cn.b,{position:{lat:v.position.lat+25e-5,lng:v.position.lng},onCloseClick:function(){h(null)}},a.a.createElement("div",null,a.a.createElement("h3",null,"\ub9c8\ucee4\uc120\ud0dd\ub428"))):null,i&&d?a.a.createElement(cn.b,{position:{lat:d.marker.position.lat+25e-5,lng:d.marker.position.lng},onCloseClick:function(){f(null)}},a.a.createElement("div",null,a.a.createElement("h3",null,d.marker.name,"\uac00 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),a.a.createElement(O.b,{to:"/@admin/".concat(d._id)},"\uc774\ub3d9"))):null))},ln=function(){var e=Object(l.b)(),n=Object(l.c)((function(e){var n=e.posts,t=e.loading,r=e.user;return{posts:n.posts,markerOn:n.markerOn,user:r.user,loading:t["posts/LIST_POSTS"]}})),t=n.posts,r=n.loading,o=n.markerOn,c=n.user;return a.a.createElement(un,{onChangeAdMarkerOn:function(n){e(Ie({key:"adMarkerOn",value:n}))},onChangeMarkerOn:function(n){e(Ie({key:"markerOn",value:n}))},posts:t,loading:r,user:c,markerOn:o})},sn=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(ln,null),a.a.createElement(an,null),a.a.createElement(be,null))};function mn(){var e=Object(s.a)(["\n    .logo-area {\n        display: block;\n        padding-bottom: 2rem;\n        text-align: center;\n        font-weight: bold;\n        letter-spacing: 2px;\n    }\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\n    padding: 2rem;\n    width: 360px;\n    background: white;\n    border-radius: 2px;\n"]);return mn=function(){return e},e}function bn(){var e=Object(s.a)(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    background: ",";\n    /* flex\ub85c \ub0b4\ubd80 \ub0b4\uc6a9 \uc911\uc559 \uc815\ub82c */\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return bn=function(){return e},e}var pn,dn=m.b.div(bn(),g.gray[2]),fn=m.b.div(mn()),gn=function(e){var n=e.children;return a.a.createElement(dn,null,a.a.createElement(fn,null,a.a.createElement("div",{className:"logo-area"},a.a.createElement(O.b,{to:"/"},"Street Vender")),n))},On=t(75),En=G.a.mark(Cn),vn="auth/LOGIN",hn=Object(Q.a)("auth/CHANGE_FIELD",(function(e){return{form:e.form,key:e.key,value:e.value}})),jn=Object(Q.a)("auth/INITIALIZE_FORM",(function(e){return e})),kn=Object(Q.a)("auth/REGISTER",(function(e){return{username:e.username,password:e.password}})),yn=Object(Q.a)(vn,(function(e){return{username:e.username,password:e.password}})),An=$("auth/REGISTER",(function(e){var n=e.username,t=e.password;return Z.post("/api/auth/register",{username:n,password:t})})),wn=$(vn,(function(e){var n=e.username,t=e.password;return Z.post("/api/auth/login",{username:n,password:t})}));function Cn(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.d)("auth/REGISTER",An);case 2:return e.next=4,Object(V.d)(vn,wn);case 4:case"end":return e.stop()}}),En)}var Sn={register:{username:"",password:"",passwordConfirm:""},login:{username:"",password:""}},xn=Object(W.a)((pn={},Object(H.a)(pn,"auth/CHANGE_FIELD",(function(e,n){var t=n.payload,r=t.form,a=t.key,o=t.value;return Object(On.a)(e,(function(e){e[r][a]=o}))})),Object(H.a)(pn,"auth/INITIALIZE_FORM",(function(e,n){var t=n.payload;return Object(_.a)(Object(_.a)({},e),{},Object(H.a)({},t,Sn[t]))})),Object(H.a)(pn,"auth/REGISTER_SUCCESS",(function(e,n){var t=n.payload;return Object(_.a)(Object(_.a)({},e),{},{authError:null,auth:t})})),Object(H.a)(pn,"auth/REGISTER_FAILURE",(function(e,n){var t=n.payload;return Object(_.a)(Object(_.a)({},e),{},{authError:t})})),Object(H.a)(pn,"auth/LOGIN_SUCCESS",(function(e,n){var t=n.payload;return Object(_.a)(Object(_.a)({},e),{},{authError:null,auth:t})})),Object(H.a)(pn,"auth/LOGIN_FAILURE",(function(e,n){var t=n.payload;return Object(_.a)(Object(_.a)({},e),{},{authError:t})})),pn),Sn);function In(){var e=Object(s.a)(["\n    color: red;\n    text-align: center;\n    font-size: 0.875rem;\n    margin-top: 1rem;\n"]);return In=function(){return e},e}function Tn(){var e=Object(s.a)(["\n    margin-top: 1rem;\n"]);return Tn=function(){return e},e}function Ln(){var e=Object(s.a)(["\n    margin-top: 2rem;\n    text-align: right;\n    a {\n        color: ",";\n        text-decoration: underline;\n        &:hover {\n            color: ",";\n        }\n    }\n"]);return Ln=function(){return e},e}function Rn(){var e=Object(s.a)(["\n    font-size: 1rem;\n    border: none;\n    border-bottom: 1px solid ",";\n    padding-bottom: 0.5rem;\n    outline: none;\n    width: 100%;\n    &:focus {\n        color: $oc-teal-7;\n        border-bottom: 1px solid ",";\n    }\n    & + & {\n        margin-top: 1rem;\n    }\n"]);return Rn=function(){return e},e}function Bn(){var e=Object(s.a)(["\n    h3 {\n        margin: 0;\n        color: ",";\n        margin-bottom: 1rem;\n    }\n"]);return Bn=function(){return e},e}var Dn=m.b.div(Bn(),g.gray[8]),Un=m.b.input(Rn(),g.gray[5],g.gray[7]),Nn=m.b.div(Ln(),g.gray[6],g.gray[9]),Pn=Object(m.b)(T)(Tn()),Fn={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},Mn=m.b.div(In()),Hn=function(e){var n=e.type,t=e.form,r=e.onChange,o=e.onSubmit,c=e.error,i=Fn[n];return a.a.createElement(Dn,null,a.a.createElement("h3",null,i),a.a.createElement("form",{onSubmit:o},a.a.createElement(Un,{autoComplete:"username",name:"username",placeholder:"\uc544\uc774\ub514",onChange:r,value:t.username}),a.a.createElement(Un,{autoComplete:"new-password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",onChange:r,value:t.password}),"register"===n&&a.a.createElement(Un,{autoComplete:"new-password",name:"passwordConfirm",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",onChange:r,value:t.passwordConfirm}),c&&a.a.createElement(Mn,null,c),a.a.createElement(Pn,{cyan:!0,fullWidth:!0},i),"  "),a.a.createElement(Nn,null,"login"===n?a.a.createElement(O.b,{to:"/register"},"\ud68c\uc6d0\uac00\uc785"):a.a.createElement(O.b,{to:"/login"},"\ub85c\uadf8\uc778")))},_n=Object(i.e)((function(e){var n=e.history,t=Object(r.useState)(null),o=Object(on.a)(t,2),c=o[0],i=o[1],u=Object(l.b)(),s=Object(l.c)((function(e){var n=e.auth,t=e.user;return{form:n.login,auth:n.auth,authError:n.authError,user:t.user}})),m=s.form,b=s.auth,p=s.authError,d=s.user;return Object(r.useEffect)((function(){u(jn("login"))}),[u]),Object(r.useEffect)((function(){if(p)return console.log("\uc624\ub958 \ubc1c\uc0dd"),console.log(p),void i("\ub85c\uadf8\uc778 \uc2e4\ud328");b&&(console.log("\ub85c\uadf8\uc778 \uc131\uacf5"),u(ae()))}),[b,p,u]),Object(r.useEffect)((function(){if(d){n.push("/");try{localStorage.setItem("user",JSON.stringify(d))}catch(e){console.log("localStorage is not working")}}}),[n,d]),a.a.createElement(Hn,{type:"login",form:m,onChange:function(e){var n=e.target,t=n.value,r=n.name;u(hn({form:"login",key:r,value:t}))},onSubmit:function(e){e.preventDefault();var n=m.username,t=m.password;u(yn({username:n,password:t}))},error:c})})),Kn=function(){return a.a.createElement(gn,null,a.a.createElement(u.a,null,a.a.createElement("title",null,"\ub85c\uadf8\uc778 - Street Vender")),a.a.createElement(_n,null))},Gn=Object(i.e)((function(e){var n=e.history,t=Object(r.useState)(null),o=Object(on.a)(t,2),c=o[0],i=o[1],u=Object(l.b)(),s=Object(l.c)((function(e){var n=e.auth,t=e.user;return{form:n.register,auth:n.auth,authError:n.authError,user:t.user}})),m=s.form,b=s.auth,p=s.authError,d=s.user;return Object(r.useEffect)((function(){u(jn("register"))}),[u]),Object(r.useEffect)((function(){if(p)return 409===p.response.status?void i("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uc544\uc774\ub514\uc785\ub2c8\ub2e4"):void i("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328");b&&(console.log("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5"),console.log(b),u(ae()))}),[b,p,u]),Object(r.useEffect)((function(){if(d){n.push("/");try{localStorage.setItem("user",JSON.stringify(d))}catch(e){console.log("localStorage is not working")}}}),[n,d]),a.a.createElement(Hn,{type:"register",form:m,onChange:function(e){var n=e.target,t=n.value,r=n.name;u(hn({form:"register",key:r,value:t}))},onSubmit:function(e){e.preventDefault();var n=m.username,t=m.password,r=m.passwordConfirm;if(![n,t,r].includes(""))return t!==r?(i("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc74c"),u(hn({form:"register",key:"password",value:""})),void u(hn({form:"register",key:"passwordConfirm",value:""}))):void u(kn({username:n,password:t}));i("\ube48 \uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud558\uc2dc\uc624")},error:c})})),Qn=function(){return a.a.createElement(gn,null,a.a.createElement(u.a,null,a.a.createElement("title",null,"\ud68c\uc6d0\uac00\uc785 - Street Vender")),a.a.createElement(Gn,null))},Wn=t(76),Vn=t.n(Wn);t(121);function Yn(){var e=Object(s.a)(["\n    /* \ucd5c\uc18c \ud06c\uae30 \uc9c0\uc815 \ubc0f padding \uc81c\uac70 */\n    .ql-editor {\n        padding: 0;\n        min-height: 320px;\n        font-size: 1.125rem;\n        line-height: 1.5;\n    }\n    .ql-editor.ql-blank::before {\n        left: 0px;\n    }\n"]);return Yn=function(){return e},e}function Zn(){var e=Object(s.a)(["\n    font-size: 3rem;\n    outline: none;\n    padding-bottom: 0.5rem;\n    border: none;\n    border-bottom: 1px solid ",";\n    margin-bottom: 2rem;\n    width: 100%;\n"]);return Zn=function(){return e},e}function zn(){var e=Object(s.a)(["\n    /* \ud398\uc774\uc9c0 \uc704\uc544\ub798 \uc5ec\ubc31 \uc9c0\uc815 */\n    padding-top: 5rem;\n    padding-bottom: 5rem;\n"]);return zn=function(){return e},e}var qn,Jn=Object(m.b)(f)(zn()),Xn=m.b.input(Zn(),g.gray[4]),$n=m.b.div(Yn()),et=function(e){var n=e.onChangeField,t=e.title,o=e.body,c=Object(r.useRef)(null),i=Object(r.useRef)(null);Object(r.useEffect)((function(){i.current=new Vn.a(c.current,{theme:"bubble",placeholder:"\ub0b4\uc6a9\uc744 \uc791\uc131\ud558\uc138\uc694",modules:{toolbar:[[{header:"1"},{header:"2"}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block","link","image"]]}});var e=i.current;e.on("text-change",(function(t,r,a){"user"===a&&n({key:"body",value:e.root.innerHTML})}))}),[n]);var u=Object(r.useRef)(!1);Object(r.useEffect)((function(){u.current||(u.current=!0,i.current.root.innerHTML=o)}),[o]);return a.a.createElement(Jn,null,a.a.createElement(Xn,{placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694",onChange:function(e){n({key:"title",value:e.target.value})},value:t}),a.a.createElement($n,null,a.a.createElement("div",{ref:c}),"  "))},nt=G.a.mark(st),tt="write/WRITE_POST",rt=Object(Q.a)("write/INITIALIZE"),at=Object(Q.a)("write/CHANGE_FIELD",(function(e){return{key:e.key,value:e.value}})),ot=Object(Q.a)(tt,(function(e){return{title:e.title,body:e.body,tags:e.tags,marker:e.marker}})),ct=Object(Q.a)("write/SET_ORIGINAL_POST",(function(e){return e})),it=Object(Q.a)("write/UPDATE_POST",(function(e){return{id:e.id,title:e.title,body:e.body,tags:e.tags,marker:e.marker,likeButton:e.likeButton}})),ut=$(tt,(function(e){var n=e.title,t=e.body,r=e.tags,a=e.marker;return Z.post("/api/posts",{title:n,body:t,tags:r,marker:a})})),lt=$("write/UPDATE_POST",(function(e){var n=e.id,t=e.title,r=e.body,a=e.tags,o=e.marker,c=e.likeButton;return Z.patch("/api/posts/".concat(n),{title:t,body:r,tags:a,marker:o,likeButton:c})}));function st(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.d)(tt,ut);case 2:return e.next=4,Object(V.d)("write/UPDATE_POST",lt);case 4:case"end":return e.stop()}}),nt)}var mt={title:"",body:"",tags:[],marker:{},post:null,postError:null,originalPostId:null},bt=Object(W.a)((qn={},Object(H.a)(qn,"write/INITIALIZE",(function(e){return mt})),Object(H.a)(qn,"write/CHANGE_FIELD",(function(e,n){var t=n.payload,r=t.key,a=t.value;return Object(_.a)(Object(_.a)({},e),{},Object(H.a)({},r,a))})),Object(H.a)(qn,tt,(function(e){return Object(_.a)(Object(_.a)({},e),{},{post:null,postError:null})})),Object(H.a)(qn,"write/WRITE_POST_SUCCESS",(function(e,n){var t=n.payload;return Object(_.a)(Object(_.a)({},e),{},{post:t})})),Object(H.a)(qn,"write/WRITE_POST_FAILURE",(function(e,n){var t=n.payload;return Object(_.a)(Object(_.a)({},e),{},{postError:t})})),Object(H.a)(qn,"write/SET_ORIGINAL_POST",(function(e,n){var t=n.payload;return Object(_.a)(Object(_.a)({},e),{},{title:t.title,body:t.body,tags:t.tags,marker:t.marker,originalPostId:t._id})})),Object(H.a)(qn,"write/UPDATE_POST_SUCCESS",(function(e,n){var t=n.payload;return Object(_.a)(Object(_.a)({},e),{},{post:t})})),Object(H.a)(qn,"write/UPDATE_POST_FAILURE",(function(e,n){var t=n.payload;return Object(_.a)(Object(_.a)({},e),{},{postError:t})})),qn),mt),pt=function(){var e=Object(l.b)(),n=Object(l.c)((function(e){var n=e.write;return{title:n.title,body:n.body}})),t=n.title,o=n.body,c=Object(r.useCallback)((function(n){return e(at(n))}),[e]);return Object(r.useEffect)((function(){return function(){e(rt())}}),[e]),a.a.createElement(et,{onChangeField:c,title:t,body:o})},dt=t(79);function ft(){var e=Object(s.a)(["\n    display: flex;\n    margin-top: 0.5rem;\n"]);return ft=function(){return e},e}function gt(){var e=Object(s.a)(["\n    margin-right: 0.5rem;\n    color: ",";\n    cursor: pointer;\n    &:hover {\n        opacity: 0.5;\n    }\n"]);return gt=function(){return e},e}function Ot(){var e=Object(s.a)(["\n    border-radius: 4px;\n    overflow: hidden;\n    display: flex;\n    width: 255px;\n    border: 1px solid ",";   /* \uc2a4\ud0c0\uc77c \ucd08\uae30\ud654 */\n    \n    input, button {\n        outline: none;\n        border: none;\n        font-size: 1rem;\n    }\n\n    input {\n        padding: 0.5rem;\n        flex: 1;\n        min-width: 0;\n    }\n    button {\n        cursor: pointer;\n        padding-right: 1rem;\n        padding-left: 1rem;\n        border: none;\n        background: ",";\n        color: white;\n        font-weight: bold;\n        &:hover {\n            background: ",";\n        }\n    }\n"]);return Ot=function(){return e},e}function Et(){var e=Object(s.a)(["\n    width: 100%;\n    border-top: 1px solid ",";\n    padding-top: 2rem;\n\n    h4 {\n        color: ",";\n        margin-top: 0;\n        margin-bottom: 0.5rem;\n    }\n"]);return Et=function(){return e},e}var vt=m.b.div(Et(),g.gray[2],g.gray[8]),ht=m.b.form(Ot(),g.gray[9],g.gray[8],g.gray[6]),jt=m.b.div(gt(),g.gray[6]),kt=m.b.div(ft()),yt=a.a.memo((function(e){var n=e.tag,t=e.onRemove;return a.a.createElement(jt,{onClick:function(){return t(n)}},"#",n)})),At=a.a.memo((function(e){var n=e.tags,t=e.onRemove;return a.a.createElement(kt,null,n.map((function(e){return a.a.createElement(yt,{key:e,tag:e,onRemove:t})})))})),wt=function(e){var n=e.onChangeTags,t=e.tags,o=Object(r.useState)(""),c=Object(on.a)(o,2),i=c[0],u=c[1],l=Object(r.useState)([]),s=Object(on.a)(l,2),m=s[0],b=s[1],p=Object(r.useCallback)((function(e){if(e&&!m.includes(e)){var t=[].concat(Object(dt.a)(m),[e]);b(t),n(t)}}),[m,n]),d=Object(r.useCallback)((function(e){var t=m.filter((function(n){return n!==e}));b(t),n(t)}),[m,n]),f=Object(r.useCallback)((function(e){u(e.target.value)}),[]),g=Object(r.useCallback)((function(e){e.preventDefault(),p(i.trim()),u("")}),[i,p]);return Object(r.useEffect)((function(){b(t)}),[t]),a.a.createElement(vt,null,a.a.createElement("h4",null,"\ud0dc\uadf8"),a.a.createElement(ht,{onSubmit:g},a.a.createElement("input",{placeholder:"\ud0dc\uadf8\ub97c \uc785\ub825\ud558\uc138\uc694",value:i,onChange:f}),a.a.createElement("button",{type:"submit"},"\ucd94\uac00")),a.a.createElement(At,{tags:m,onRemove:d}))},Ct=function(){var e=Object(l.b)(),n=Object(l.c)((function(e){return e.write.tags}));return a.a.createElement(wt,{onChangeTags:function(n){e(at({key:"tags",value:n}))},tags:n})};function St(){var e=Object(s.a)(["\n    height: 2.125rem;\n    & + & {\n        margin-left: 0.5rem;\n    }\n"]);return St=function(){return e},e}function xt(){var e=Object(s.a)(["\n    margin-top: 1rem;\n    margin-bottom: 3rem;\n    button + button {\n        margin-left: 0.5rem;\n    }\n"]);return xt=function(){return e},e}var It,Tt=m.b.div(xt()),Lt=Object(m.b)(T)(St()),Rt=function(e){var n=e.onCancel,t=e.onPublish,r=e.isEdit;return a.a.createElement(Tt,null,a.a.createElement(Lt,{cyan:!0,onClick:t},"\ud3ec\uc2a4\ud2b8",r?"\uc218\uc815":"\ub4f1\ub85d"),a.a.createElement(Lt,{onClick:n},"\ucde8\uc18c"))},Bt=Object(i.e)((function(e){var n=e.history,t=Object(l.b)(),o=Object(l.c)((function(e){var n=e.write;return{title:n.title,body:n.body,tags:n.tags,marker:n.marker,post:n.post,postError:n.postError,originalPostId:n.originalPostId}})),c=o.title,i=o.body,u=o.tags,s=o.marker,m=o.post,b=o.postError,p=o.originalPostId;return Object(r.useEffect)((function(){if(m){var e=m._id,t=m.user;n.push("/@".concat(t.username,"/").concat(e))}b&&console.log(b)}),[n,m,b]),a.a.createElement(Rt,{onPublish:function(){t(p?it({title:c,body:i,tags:u,marker:s,id:p}):ot({title:c,body:i,tags:u,marker:s}))},onCancel:function(){n.goBack()},isEdit:p})})),Dt=function(e){var n=e.onChangeField,t=e.title,r=e.adMarkerOn,o=e.markerOn,c=function(e){var r={name:t,position:{lat:e.latLng.lat(),lng:e.latLng.lng()}};n({key:"marker",value:r})};return a.a.createElement(cn.c,{googleMapsApiKey:"AIzaSyCh2Dfsi0RTtFrKPTdMgTLWKgkT-MRRexg"},a.a.createElement(cn.a,{mapContainerStyle:{height:"75vh",width:"75%"},zoom:17,center:{lat:37.496281,lng:126.95739}},o&&a.a.createElement(cn.d,{key:t,position:o.marker.position,draggable:!0,onLoad:function(){var e={name:t,position:o.position};n({key:"marker",value:e})},onDragEnd:c}),r&&a.a.createElement(cn.d,{key:t,position:r.position,draggable:!0,onLoad:function(){var e={name:t,position:r.position};n({key:"marker",value:e})},onDragEnd:c})))},Ut=function(){var e=Object(l.b)(),n=Object(l.c)((function(e){var n=e.write,t=e.posts,r=e.user;return{marker:n.marker,title:n.title,adMarkerOn:t.adMarkerOn,markerOn:t.markerOn,user:r.user}})),t=n.markerOn,o=n.title,c=n.adMarkerOn,i=(n.user,Object(r.useCallback)((function(n){return e(at(n))}),[e]));return Object(r.useEffect)((function(){return function(){e(rt())}}),[e]),a.a.createElement(Dt,{onChangeField:i,title:o,markerOn:t,adMarkerOn:c})},Nt=function(){return a.a.createElement(f,null,a.a.createElement(u.a,null,a.a.createElement("title",null,"\uae00\uc4f0\uae30 - Street Vender")),a.a.createElement(pt,null),a.a.createElement(Ut,null),a.a.createElement(Ct,null),a.a.createElement(Bt,null))},Pt=t(77),Ft=G.a.mark(Gt),Mt=Object(Q.a)("posts/CHANGE_FIELD",(function(e){return{key:e.key,value:e.value}})),Ht=Object(Q.a)("posts/READ_POST",(function(e){return e})),_t=Object(Q.a)("posts/UNLOAD_POST"),Kt=$("posts/READ_POST",(function(e){return Z.get("/api/posts/".concat(e))}));function Gt(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.d)("posts/READ_POST",Kt);case 2:case"end":return e.stop()}}),Ft)}var Qt={post:null,error:null,buttonClicked:!1},Wt=Object(W.a)((It={},Object(H.a)(It,"posts/CHANGE_FIELD",(function(e,n){var t=n.payload,r=t.key,a=t.value;return Object(_.a)(Object(_.a)({},e),{},Object(H.a)({},r,a))})),Object(H.a)(It,"posts/READ_POST_SUCCESS",(function(e,n){var t=n.payload;return Object(_.a)(Object(_.a)({},e),{},{post:t})})),Object(H.a)(It,"posts/READ_POST_FAILURE",(function(e,n){var t=n.payload;return Object(_.a)(Object(_.a)({},e),{},{error:t})})),Object(H.a)(It,"posts/UNLOAD_POST",(function(){return Qt})),It),Qt);function Vt(){var e=Object(s.a)(["\n    display: flex;  \n    height: 90px;\n    Button{\n        background-color:white;\n    }\n\n    Button p{\n        color:black;\n        margin :0;\n        text-align:center;\n        font-size : 10px;\n    }\n"]);return Vt=function(){return e},e}var Yt=m.b.div(Vt()),Zt=function(e){var n=e.post,r=e.likeButton,o=e.updateLike,c=e.changeLike,i=e.changeSoso,u=e.changeDisLike,l=e.buttonClicked,s=e.changeClicked,m=function(){"like"!=l&&l||(s("like"),c(l)),o()},b=function(){"soso"!=l&&l||(s("soso"),i(l)),o()},p=function(){"dislike"!=l&&l||(s("dislike"),u(l)),o()};return e.user?a.a.createElement(Yt,null,a.a.createElement(T,{onClick:m},a.a.createElement("img",{src:t(50)}),a.a.createElement("p",null,"\uc88b\uc544\uc694 ",n&&r.like)),a.a.createElement(T,{onClick:b},a.a.createElement("img",{src:t(51)}),a.a.createElement("p",null,"\ud3c9\ubc94\ud574\uc694 ",n&&r.soso)),a.a.createElement(T,{onClick:p},a.a.createElement("img",{src:t(52)}),a.a.createElement("p",null,"\ubcc4\ub85c\uc5d0\uc694 ",n&&r.dislike))):a.a.createElement(Yt,null,a.a.createElement(I,{to:"/login"},a.a.createElement(T,{onClick:m},a.a.createElement("img",{src:t(50)}),a.a.createElement("p",null,"\uc88b\uc544\uc694 ",n&&r.like))),a.a.createElement(I,{to:"/login"},a.a.createElement(T,{onClick:b},a.a.createElement("img",{src:t(51)}),a.a.createElement("p",null,"\ud3c9\ubc94\ud574\uc694 ",n&&r.soso))),a.a.createElement(I,{to:"/login"},a.a.createElement(T,{onClick:p},a.a.createElement("img",{src:t(52)}),a.a.createElement("p",null,"\ubcc4\ub85c\uc5d0\uc694 ",n&&r.dislike))))},zt=function(){var e=Object(l.c)((function(e){return{user:e.user.user}})).user,n=Object(l.b)(),t=Object(l.c)((function(e){var n=e.post;return{post:n.post,likeButton:n.post.likeButton,_id:n.post._id,buttonClicked:n.buttonClicked}})),r=t.post,o=t.likeButton,c=t._id,i=t.buttonClicked,u=function(e){n(Mt({key:"buttonClicked",value:e}))};return a.a.createElement(Zt,{post:r,likeButton:o,updateLike:function(){n(it({likeButton:o,id:c}))},changeLike:function(e){0==e?o.like+=1:"like"==e&&(o.like-=1,u(!1))},changeSoso:function(e){0==e?o.soso+=1:"soso"==e&&(o.soso-=1,u(!1))},changeDisLike:function(e){0==e?o.dislike+=1:"dislike"==e&&(o.dislike-=1,u(!1))},buttonClicked:i,changeClicked:u,user:e})},qt=function(e){var n=e.post;return a.a.createElement(cn.c,{googleMapsApiKey:"AIzaSyCh2Dfsi0RTtFrKPTdMgTLWKgkT-MRRexg"},a.a.createElement(cn.a,{mapContainerStyle:{margin:"50",height:"75vh",width:"100%"},zoom:17,center:{lat:37.496281,lng:126.95739}},n&&a.a.createElement(cn.d,{key:n.marker.name,position:n.marker.position})))},Jt=function(){var e=Object(l.c)((function(e){return{post:e.post.post}})).post;return a.a.createElement(qt,{post:e})};function Xt(){var e=Object(s.a)(["\n    font-size: 1.3125rem;\n    color: ",";\n"]);return Xt=function(){return e},e}function $t(){var e=Object(s.a)(["\n    border-bottom: 1px solid ",";\n    padding-bottom: 3rem;\n    margin-bottom: 3rem;\n    h1 {\n        font-size: 3rem;\n        line-height: 1.5;\n        margin: 0;\n    }\n"]);return $t=function(){return e},e}function er(){var e=Object(s.a)(["\n    margin-top: 4rem;\n"]);return er=function(){return e},e}var nr=Object(m.b)(f)(er()),tr=m.b.div($t(),g.gray[3]),rr=m.b.div(Xt(),g.gray[8]),ar=function(e){var n=e.post,t=e.error,r=e.loading,o=e.actionButtons;if(t)return t.response&&404===t.response.status?a.a.createElement(nr,null,"\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud3ec\uc2a4\ud2b8\uc785\ub2c8\ub2e4."):a.a.createElement(nr,null,"\uc624\ub958 \ubc1c\uc0dd");if(r||!n)return null;var c=n.title,i=n.body,l=n.user,s=n.publishdDate,m=n.tags;n.marker;return a.a.createElement(nr,null,a.a.createElement(u.a,null,a.a.createElement("title",null,c," - Street Vender")),a.a.createElement(tr,null,a.a.createElement("h1",null,c),a.a.createElement(ge,{username:l.username,publishdDate:s,hasMarginTop:!0}),a.a.createElement(he,{tags:m})),o,a.a.createElement(rr,{dangerouslySetInnerHTML:{__html:i}}),a.a.createElement(zt,null),a.a.createElement(Jt,null))};function or(){var e=Object(s.a)(["\n    height: 2rem;\n    & + & {\n        margin-left: 0.75rem;\n    }\n"]);return or=function(){return e},e}function cr(){var e=Object(s.a)(["\n    width: 320px;\n    background: white;\n    padding: 1.5rem;\n    border-radius: 4px;\n    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.125);\n    h2 {\n        margin-top: 0;\n        margin-bottom: 1rem;\n    }\n    p {\n        margin-bottm: 3rem;\n    }\n    .buttons {\n        display: flex;\n        justify-content: flex-end;\n    }\n"]);return cr=function(){return e},e}function ir(){var e=Object(s.a)(["\n    position: fixed;\n    z-index: 30;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.25);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return ir=function(){return e},e}var ur=m.b.div(ir()),lr=m.b.div(cr()),sr=Object(m.b)(T)(or()),mr=function(e){var n=e.visible,t=e.title,r=e.description,o=e.confirmText,c=void 0===o?"\ud655\uc778":o,i=e.cancleText,u=void 0===i?"\ucde8\uc18c":i,l=e.onConfirm,s=e.onCancle;return n?a.a.createElement(ur,null,a.a.createElement(lr,null,a.a.createElement("h2",null,t),a.a.createElement("p",null,r),a.a.createElement("div",{className:"buttons"},a.a.createElement(sr,{onClick:s},u),a.a.createElement(sr,{cyan:!0,onClick:l},c)))):null},br=function(e){var n=e.visible,t=e.onConfirm,r=e.onCancle;return a.a.createElement(mr,{visible:n,title:"\ud3ec\uc2a4\ud2b8 \uc0ad\uc81c",description:"\ud3ec\uc2a4\ud2b8\ub97c \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",confirmText:"\uc0ad\uc81c",onConfirm:t,onCancle:r})};function pr(){var e=Object(s.a)(["\n    padding: 0.25rem 0.5rem;\n    border-radius: 4px;\n    color: ",";\n    font-weight: bold;\n    outline: none;\n    border: none;\n    font-size: 0.875rem;\n    cursor: pointer;\n    &:hover {\n        background: ",";\n        color: ",";\n    }\n    & + & {\n        margin-left: 0.25rem;\n    }\n"]);return pr=function(){return e},e}function dr(){var e=Object(s.a)(["\n    display: flex;\n    justify-content: flex-end;\n    margin-bottom: 2rem;\n    margin-top: 1.5rem;\n"]);return dr=function(){return e},e}var fr=m.b.div(dr()),gr=m.b.button(pr(),g.gray[6],g.gray[1],g.cyan[7]),Or=function(e){var n=e.onEdit,t=e.onRemove,o=Object(r.useState)(!1),c=Object(on.a)(o,2),i=c[0],u=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(fr,null,a.a.createElement(gr,{onClick:n},"\uc218\uc815"),a.a.createElement(gr,{onClick:function(){u(!0)}},"\uc0ad\uc81c")),a.a.createElement(br,{visible:i,onConfirm:function(){u(!1),t()},onCancle:function(){u(!1)}}))},Er=Object(i.e)((function(e){var n=e.match,t=e.history,o=n.params.postId,c=Object(l.b)(),i=Object(l.c)((function(e){var n=e.post,t=e.loading,r=e.user;return{post:n.post,error:n.error,loading:t["post/READ_POST"],user:r.user}})),u=i.post,s=i.error,m=i.loading,b=i.user;Object(r.useEffect)((function(){return c(Ht(o)),function(){c(_t())}}),[c,o]);var p=function(){var e=Object(Pt.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n=o,Z.delete("/api/posts/".concat(n));case 3:t.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}var n}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),d=(b&&b._id)===(u&&u.user._id);return a.a.createElement(a.a.Fragment,null,a.a.createElement(ar,{post:u,loading:m,error:s,actionButtons:d&&a.a.createElement(Or,{onEdit:function(){c(ct(u)),t.push("/write")},onRemove:p})}))})),vr=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(be,null),a.a.createElement(Er,null))},hr=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(u.a,null,a.a.createElement("title",null,"Street Vender")),a.a.createElement(i.a,{component:sn,path:["/@:username","/"],exact:!0}),a.a.createElement(i.a,{component:Kn,path:"/login"}),a.a.createElement(i.a,{component:Qn,path:"/register"}),a.a.createElement(i.a,{component:Nt,path:"/write"}),a.a.createElement(i.a,{component:vr,path:"/@:username/:postId"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var jr=t(26),kr=t(78),yr=t(80),Ar=G.a.mark(wr);function wr(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.a)([Cn(),le(),st(),Gt(),Re()]);case 2:case"end":return e.stop()}}),Ar)}var Cr=Object(jr.combineReducers)({auth:xn,loading:X,user:me,write:bt,post:Wt,posts:De}),Sr=Object(yr.a)(),xr=Object(jr.createStore)(Cr,Object(kr.composeWithDevTools)(Object(jr.applyMiddleware)(Sr)));Sr.run(wr),function(){try{var e=localStorage.getItem("user");if(!e)return;xr.dispatch(re(e)),xr.dispatch(ae())}catch(n){console.log("localStorage is not working")}}(),c.a.render(a.a.createElement(l.a,{store:xr},a.a.createElement(O.a,null,a.a.createElement(u.b,null,a.a.createElement(hr,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADrUlEQVR4nO2ay0tVQRjAf3oVIxA3KT5yIdgiddHCNrlNN5m0y3W2M/oHVIKg2mmgbWrRorWbpCJqI0ELFUy4BmWRJmVCq0sYiI8WM6eZc+5c77lzzrn3iPODwfHON98378c3BxwOh8PhcDgcDofjBFJVAXudQDvQIgPAlgybwBfgsMzlSpRaYACYAb4jKndU2JCyAzLvsaUaGAbWKF7pQmFN6qhOqpBJTYE+RC9eCPy+CMwBWeCnDACtMvQAV4GLgXwfgFHgfULljZURYBfVizlgDFHBsLTJPDlNz67UnVoywBSqwAfANNAYQWej1HGg6Z2StlKHXvkccCVG3YP4R8NkjLpj4SaqcN+A8wnY6ALWNTupmQ59qDmfQxQ0KbpQI2EXuJSgrVBUA8uoOR/nsC/EIGpNWCbBLTIMw6ghOV1GuzOa3etltOujFnXIyZG/2tcBpwMhLMF8dYH0JtRUWKNCJ8YBVC+MGdLn8Z/q9krQvRfIO2+QGdfS+0vQ7SPK/BnS4k8j6LFFtzlUUKoINZb5qjSji6gjrc4z4J32fyk3vAf4j+nrBpkfwBLQK8tyu0QbkTiHGn4T5TJqYEIrR6eNAtsp0K7Fs5Y64mBVi7cXlDoC2ynQosWDw78GuGyptxhv8S+muu0WLEiiAU4Bryz1FqMe+FPAtlUDJHGK+gvsJ6B3X+qOFdsRsKXFWxG+PI994BfiTr8A3LG04XEX4SDZIr9hdR/DFhbE1QBBVhEN0AG8wX5EZBDbKcBHQ3rkBrCdAnqP9xjS5+TfRoSLy5Yh4IyMPzekdxcoU+JUoTy8C4b0ZmBHpn8CGixsNMi8h1JXs0FmEeVJLreL33cjM02D+1r6C0pzY2WAl1r+ewaZNipzE/1PsctQPeKQ5Mk8Jv9WZ6IOeKLly0pdQWK5DEWh2HUYxCK4jSroCnAN82jIyLQVTX5b6giSiuswhHOIdOAfCYfAb2AWeCjDrPxNl8lirjykxCEC4V1i9Yh57C2MR4UdKWsa9pAylxgIx2RYp2gz4oXnNWLb2pNhU/42inm19+gmZU5RjxFUD64T3jOcIfzukFq3uEfwYWQwRt2pfxgB0ZOT+J/GZoj2NNYkdehPY5Ok9GnMI67H0XHyH0dvxFpSkjs+XgIekf88voQ4069ifh7vRpz/ewP5loFbHJPncY9qxB4d5QOJz1JHxbe6KNQijqrTiEtLsUpvSNl+ynDCq9RHUmcp/JHUV8ro3nY4HA6Hw+FwOByOE8k/tnpOATg3fOQAAAAASUVORK5CYII="},51:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADBUlEQVR4nO2avU8UQRTAf5wSEhNLSBBJLLAQKCywgRoakVZahc6Pf4CP1g4KsDOxsLDHv4CYWAgJFtCIxkOi1195ELSYuczbZfc+dmf2lvB+ySRzt2/eezM7szvz3oKiKIqiKIqiKMo1pK8H9saAUWDYFoCaLafAD+BfwX4FpR+YA7aB35jOtSonVnbOtr2yVIBF4Jj2nU4rx1ZHJZSToZbADOYuPoz9vwd8Ag6Bv7YA3LFlEngCPIq1+wa8AL4E8tcrS0ADdxfrwAqmg50yYtvUhZ6G1V1abgCbOIcvgC1gMIfOQavjQujdtLZKh+x8HXjsUfc80dmw4VG3F5Zxzv0CHgSwMQ5UhZ3SLIcZ3JqvYxwNxThuJjSA6YC2OqICHODWvM9pn8Y87plwQMBXZCcs4qbkVoF2t4XdpwXajdCP2+TUufy0HwBuxUqnxNsNxK4P4ZbCMT3aMc7h7sJKwvVdoru68y50n8fa7ibIrIrrs13ojpBn/SyI+vscerIibS6kSrXhZsZ2fcLoHm5LK/kAfBa/uznhvSG6Ta8myPwB9oEp68vrLm3k4j5u+q0VZTSBNeHHWBYFWZfAqKgfZtThgyNRH02VakHWARgW9aTpXxTS9nCqVAt0ADw5cmXJOgA1Ue/mnO8babuWKtUCHYCMhk9FfTKjDh9MiPppqlQA+nAR3q9FGo6xh4skFx3ij5zIerEMRvBwEs3zFtgR9Wc59GRF2txJlQpIu+NwSLwdh7MehgDOMHvxj8BtYB14Ja4vA/dy6JdUgXfi97q1CeZYfObJTte0ConF4wF5iowHlCokBiYwmRQUDTEAE5QsKNpkCedsFTMISSGxrGWAEofFm8QTI/MedZc+MQImXbVBNDW2Tb63w5DVIVNjG5Q0NdbEV3J0lcvJ0edePSXc9nEaeMvl9Pg+ZtNyRHJ6fAIT35uKtTsAXnJF0uNNKpikRZ4PJL5bHT1/1eWhHxO338IcWtp1+sTKzlJAwqNXH0ndJf0jqZ8UGN5WFEVRFEVRFEW5lvwHq8klfta/9tYAAAAASUVORK5CYII="},52:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADRklEQVR4nO2aO09UQRSAv10lJHYWkCBuB1GBwgILwRYakVbsiNj5+ANAbQwJFGCLGv6B1poQEwshWR8rBWAEiWKi1TYkhKDFzDpz797Zx33tJZwvOcnsnZlzZubO7Mycc0EQBEEQBEEQBOEUkmuBvR6gAHRpAdjXsgdsA39TbleitAGjwBLwHdW5WrKry47quieWPDABbFG/0y7Z0jrySTUyqSUwjHqLV33P14BXQAn4qQXggpYB4BZwzVfvA3AfeJdQe2NlCjjEvMUyMI3qYKN06zplS8+h1p1ZzgALmAYfA4tARwSdHVrHsaV3QdvKHHbny8DNGHWP4Z0N8zHqjoV7mMZ9A64kYKMP2LHsZGY5DGPWfBnV0KTow8yEQ2AoQVsNkQeKmDUf57R3MYb5TyiS4BbZCBOYKbmYot0ly+7tFO16aMMccspU/9u3A+d80ij+eu2+/E7MUtiiRSfGUcxbmA7IX8V7qjtqQveRr+5qQJkZK3+kCd0eoqyfcSv9LIKesNg2x52l6nA2ZL2cZXQNc6S1WQHeWr+bueE9xntM3wko8wNYBwZ1Wx41aSMSvZjpN5uW0QBmrXb0hFEQdgkUrHQppI44+GKlC85SNQg7AF1WOmj6p4Vtu8tZqgYyADE15MQSdgD2rXQz9/y4sW3vO0vVoBUDUMsL1ayHqmUDsGelBxxlJoEnqC0T4DIwB/wCXqPuEe1a7gBvdN4ccEnX6dU6Jh02+h1tSpwcxsP73pFfwuzRm3iPthX5oyUoz67zmeDZsYbxJKft4vfcyPzLoAPYILhj28BBwPMDTEzALxtUX7a6rfw0b6L/qXcZygE3gBfAb2AZuK6fnwceAp+Aj8AD/SynyyzrOs9RDpegtxvLZSgK9a7DNq7pmauT5yIT12E45Q4REJcYoByTaTlF+8mYU7TCFGZK7pDMIGTWLV7BHxgZi1F35gMjoMJV83hDY0tEC411ah12aGyejIbGKsQVHJ2hOjh6N9aWktzxcQh4SnV4fB14ifLkBIXH+1H+vUFfvSLqsHQiwuMV8qg9OsoHEptaR8u3uii0oY6qi6hLS71O7+qyI6RwwmvVR1IXcX8k9ZUU3duCIAiCIAiCIAinkn/OUDXrnnC1ZgAAAABJRU5ErkJggg=="},85:function(e,n,t){e.exports=t(122)},90:function(e,n,t){}},[[85,1,2]]]);
//# sourceMappingURL=main.e0195cac.chunk.js.map