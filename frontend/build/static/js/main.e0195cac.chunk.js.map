{"version":3,"sources":["components/common/Responsive.js","lib/styles/palette.js","components/common/Button.js","components/common/Header.js","lib/api/client.js","lib/api/auth.js","modules/loading.js","lib/createRequestSaga.js","modules/user.js","containers/common/HeaderContainer.js","components/common/SubInfo.js","components/common/Tags.js","modules/posts.js","lib/api/posts.js","components/posts/SearchBar.js","containers/posts/SearchBarContainer.js","components/posts/Pagination.js","components/posts/PostList.js","containers/posts/PostListContainer.js","containers/posts/PaginationContainer.js","components/posts/GoogleMapAPI.js","containers/posts/GoogleMapAPIContainer.js","pages/PostListPage.js","components/auth/AuthTemplate.js","modules/auth.js","components/auth/AuthForm.js","containers/auth/LoginForm.js","pages/LoginPage.js","containers/auth/RegisterForm.js","pages/RegisterPage.js","components/write/Editor.js","modules/write.js","containers/write/EditorContainer.js","components/write/TagBox.js","containers/write/TagBoxContainer.js","components/write/WriteActionButtons.js","containers/write/WriteActionButtonsContainer.js","components/write/GoogleMapWrite.js","containers/write/GoogleMapWriteContainer.js","pages/WritePage.js","modules/post.js","components/post/LikeButtons.js","containers/post/LikeButtonsContainer.js","components/post/GoogleMapRead.js","containers/post/GoogleMapReadContainer.js","components/post/PostViewer.js","components/common/AskModal.js","components/post/AskRemoveModal.js","components/post/PostActionButtons.js","containers/post/PostViewerContainer.js","pages/PostPage.js","App.js","serviceWorker.js","modules/index.js","index.js","images/like.png","images/soso.png","images/dislike.png"],"names":["ResponsiveBlock","styled","div","Responsive","children","rest","palette","gray","cyan","buttonStyle","css","props","fullWidth","StyledButton","button","StyledLink","Link","StyledCheckLoginButton","CheckLoginButton","Button","to","HeaderBlock","Wrapper","UserInfo","Header","user","onLogout","className","username","onClick","client","axios","create","logout","post","startLoading","createAction","requestType","finishLoading","loading","handleActions","state","action","payload","createRequestSaga","type","request","SUCCESS","FAILURE","put","call","response","data","meta","error","logoutSaga","userSaga","CHECK","tempSetUser","check","checkSaga","get","checkFailureSaga","localStorage","removeItem","e","console","log","authAPI","takeLatest","checkError","HeaderContainer","useSelector","dispatch","useDispatch","SubInfoBlock","hasMarginTop","SubInfo","publishdDate","Date","toLocaleDateString","TagsBlock","Tags","tags","map","tag","key","postsSaga","changeField","value","listPosts","page","_id","listPostsSaga","queryString","qs","stringify","initialState","posts","lastPage","markerOn","search","adMarkerOn","parseInt","headers","useStyles","makeStyles","theme","root","flexGrow","position","borderRadius","shape","backgroundColor","fade","common","white","marginLeft","width","breakpoints","up","spacing","searchIcon","padding","height","pointerEvents","display","alignItems","justifyContent","color","inputRoot","inputInput","paddingLeft","transition","transitions","SearchBar","onChangeSearch","classes","InputBase","placeholder","input","inputProps","onChange","target","SearchBarContainer","PaginationBlock","PageNumber","buildLink","query","Pagination","disabled","undefined","PostListBlock","WritePostButtonWrapper","PostItemBlocksWrapper","PostItemBlock","ListOfLikeButtons","Scroll","PostItem","title","body","likeButton","src","require","like","soso","dislike","PostList","showWrittenButton","filter","indexOf","withRouter","match","location","useEffect","params","parse","ignoreQueryPrefix","GoogleMapAPI","onChangeAdMarkerOn","onChangeMarkerOn","useState","markers","setMarkers","selected","setSelected","adselected","setAdselected","googleMapsApiKey","mapContainerStyle","float","margin","zoom","center","lat","lng","marker","name","latLng","draggable","onDragEnd","newMarker","onCloseClick","GoogleMapAPIContainer","PostListPage","AuthTemplateBlock","WhiteBox","AuthTemplate","authSaga","LOGIN","form","initializeForm","register","password","login","registerSaga","loginSaga","passwordConfirm","auth","produce","draft","authError","AuthFormBlock","StyledInput","Footer","ButtonWithMarginTop","textMap","ErrorMessage","AuthForm","onSubmit","text","autoComplete","history","setError","push","setItem","JSON","preventDefault","LoginPage","status","includes","RegisterPage","EditorBlock","TitleInput","QuillWraper","Editor","onChangeField","quillElement","useRef","quillInstance","current","Quill","modules","toolbar","header","list","quill","on","delta","oldDelta","source","innerHTML","mounted","ref","writeSaga","WRITE_POST","initialize","writePost","setOriginalPost","updatePost","id","writePostSaga","updatePostSaga","patch","postError","originalPostId","write","EditorContainer","useCallback","TagBoxBlock","TagForm","Tag","TagListBlock","TagItem","React","memo","onRemove","TagList","TagBox","onChangeTags","setInput","localTags","setLocalTags","insertTag","nextTags","t","trim","TagBoxContainer","WriteActionButtonsBlock","WriteActionButtons","onCancel","onPublish","isEdit","goBack","GoogleMapWrite","dragMarker","onLoad","GoogleMapWriteContainer","WritePage","postSaga","readPost","unloadPost","readPostSaga","buttonClicked","LikeButtons","updateLike","changeLike","changeSoso","changeDisLike","changeClicked","onClickLike","onClickSoso","onClickDisLike","LikeButtonsContainer","Buttonclicked","GoogleMapRead","GoogleMapReadContainer","PostViewerBlock","PostHead","PostContent","PostViewer","actionButtons","dangerouslySetInnerHTML","__html","Fullscreen","AskModalBlock","AskModal","visible","description","confirmText","cancleText","onConfirm","onCancle","AskRemoveModal","PostActionButtonsBlock","ActionButton","PostActionButtons","onEdit","modal","setModal","postId","a","delete","ownPost","PostPage","App","component","path","exact","Boolean","window","hostname","rootSaga","all","rootReducer","combineReducers","sagaMiddleware","createSagaMiddleware","store","createStore","composeWithDevTools","applyMiddleware","run","getItem","loadUser","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message","module","exports"],"mappings":"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","file":"static/js/main.e0195cac.chunk.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst ResponsiveBlock = styled.div`\r\n    padding-left: 1rem;\r\n    padding-right: 1rem;\r\n    width: 1024px;\r\n    margin: 0 auto; /* 중앙정렬 */\r\n\r\n    /* 브라우저 크키에 따라 가로 크기 변경 */\r\n    @media (max-width: 1024px) {\r\n        width: 768px;\r\n    }\r\n    @media (max-width: 768px) {\r\n        width: 100%;\r\n    }\r\n`;\r\n\r\nconst Responsive = ({ children, ...rest }) => {\r\n    // style, className, onCLick, onMouseMove 등의 props를 사용할수 있도록 \r\n    // ...rest를 사용하여 ResponsiveBlock 에게 전달\r\n    return <ResponsiveBlock {...rest}>{children}</ResponsiveBlock>;\r\n};\r\n\r\nexport default Responsive;","// source: https://yeun.github.io/open-color\r\n\r\nconst palette = {\r\n    gray: [\r\n      '#f8f9fa',\r\n      '#f1f3f5',\r\n      '#e9ecef',\r\n      '#dee2e6',\r\n      '#ced4da',\r\n      '#adb5bd',\r\n      '#868e96',\r\n      '#495057',\r\n      '#343a40',\r\n      '#212529',\r\n    ],\r\n    cyan: [\r\n      '#e3fafc',\r\n      '#c5f6fa',\r\n      '#99e9f2',\r\n      '#66d9e8',\r\n      '#3bc9db',\r\n      '#22b8cf',\r\n      '#15aabf',\r\n      '#1098ad',\r\n      '#0c8599',\r\n      '#0b7285',\r\n    ],\r\n  };\r\n  \r\n  export default palette;","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst buttonStyle = css`\r\n    border: none;\r\n    border-radius: 4px;\r\n    font-size: 1rem;\r\n    font-weight: bold;\r\n    padding: 0.25rem 1rem;\r\n    color: white;\r\n    outline: none;\r\n    cursor: pointer;\r\n\r\n    background: ${palette.gray[8]};\r\n    \r\n    &:hover {\r\n        background: ${palette.gray[6]};\r\n    }\r\n    &:disabled {\r\n        background: ${palette.gray[3]};\r\n        color: ${palette.gray[5]};\r\n        cursor: not-allowed;\r\n    }\r\n    \r\n    ${props =>\r\n        props.fullWidth &&\r\n        css`\r\n            padding-top: 0.75rem;\r\n            padding-bottom: 0.75rem;\r\n            width: 100%;\r\n            font-size: 1.125rem;\r\n        `\r\n    }\r\n    ${props =>\r\n        props.cyan &&\r\n        css`\r\n            background: ${palette.cyan[5]};\r\n            &:hover {\r\n                background: ${palette.cyan[4]};\r\n            }\r\n        `\r\n    }\r\n    ${props =>\r\n        props.gray &&\r\n        css`\r\n            background: ${palette.gray[6]};\r\n        `\r\n    }\r\n`;\r\n\r\nconst StyledButton = styled.button`\r\n    ${buttonStyle}\r\n`;\r\n\r\nconst StyledLink = styled(Link)`\r\n    ${buttonStyle}\r\n`;\r\n\r\nconst StyledCheckLoginButton = styled(Link)`\r\n    ${styled.button}\r\n`;\r\n\r\nexport const CheckLoginButton = props =>{\r\n    return ( <StyledCheckLoginButton {...props} cyan={props.cyan ? 1 : 0} gray={props.gray ? 1 : 0} /> );\r\n}\r\n\r\nconst Button = props => { // Button에 to 라는 props가 있는가? \r\n    return props.to ? ( <StyledLink {...props} cyan={props.cyan ? 1 : 0} /> ) \r\n    : (<StyledButton gray={props.gray ? 1 : 0} {...props} /> );\r\n};\r\n\r\nexport default Button;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Responsive from './Responsive';\r\nimport Button from './Button';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst HeaderBlock = styled.div`\r\n    position: fixed;\r\n    top :0px;\r\n    width: 100%;\r\n    background: white;\r\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.08);\r\n`;\r\n\r\n// Responsive 컴포넌트의 속성에 스타일을 추가하여 새로운 컴포넌트 생성\r\nconst Wrapper = styled(Responsive)`\r\n    height: 4rem;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between; /* 자식 엘리먼트 사이의 여백을 최대로 설정 */\r\n    .logo {\r\n        font-size: 1.125rem;\r\n        font-weight: 800;\r\n        letter-spacing: 1.75px;\r\n    }\r\n    .right {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n`;\r\n\r\n// 헤더가 fixed로 되어 있기 떄문에 페이지의 콘텐츠가 4rem 아래에 나타나도록 해주는 컴포넌트\r\n// const Spacer = styled.div`\r\n//     height: 4rem;\r\n// `;\r\n\r\nconst UserInfo = styled.div`\r\n    font-weight: 800;\r\n    margin-right: 1rem;\r\n`;\r\n\r\nconst Header = ({ user, onLogout }) => {\r\n    return (\r\n        <>\r\n            <HeaderBlock>\r\n                <Wrapper>\r\n                    <Link to=\"/\" className=\"logo\">Street Vender</Link>\r\n                    {user ? (   // 로그인 되어있는가?\r\n                        <div className=\"right\">\r\n                            <UserInfo>{user.username}</UserInfo>\r\n                            <Button onClick={onLogout}>로그아웃</Button>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"right\">\r\n                            <Button to=\"/login\">로그인</Button>\r\n                        </div>\r\n                    )}\r\n                </Wrapper>\r\n            </HeaderBlock>\r\n            {/* <Spacer /> */}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Header;","import axios from 'axios';\r\n\r\nconst client = axios.create();\r\n\r\n/*\r\n    글로벌 설정 예시:\r\n    \r\n    // API 주소를 다른 곳으로 사용함\r\n    client.defaults.baseURL = 'https://external-api-server.com/'\r\n\r\n    // 헤더 설정\r\n    client.defaults.headers.common['Authorization'] = 'Bearer a1b2c3d4'\r\n\r\n    // 인터셉터 설정\r\n    axios.intercepter.response.use(\\\r\n        response => {\r\n            // 요청 성공 시 특정 작업 수행\r\n        },\r\n        error => {\r\n            // 요청 실패 시 특정 작업 수행\r\n            return Promise.reject(error);\r\n        }\r\n    })\r\n*/\r\nexport default client;","import client from './client';\r\n\r\n// 로그인\r\nexport const login = ({ username, password }) => \r\n    client.post('/api/auth/login', { username, password });\r\n\r\n// 회원가입\r\nexport const register = ({ username, password }) =>\r\n    client.post('/api/auth/register', { username, password });\r\n\r\n// 로그인 상태 확인\r\nexport const check = () => client.get('/api/auth/check');\r\n\r\n// 로그아웃\r\nexport const logout = () => client.post('/api/auth/logout');","import { createAction, handleActions } from 'redux-actions';\r\n\r\nconst START_LOADING = 'loading/START_LOADING';\r\nconst FINISH_LOADING = 'loading/FINISH_LOADING';\r\n\r\n/*\r\n    요청을 위한 액션 타입을 payload로 설정함 ex) \"sample/GET_POST\"\r\n*/\r\n\r\nexport const startLoading = createAction(START_LOADING, requestType => requestType);\r\n\r\nexport const finishLoading = createAction(FINISH_LOADING, requestType => requestType);\r\n\r\nconst initialState = {};\r\n\r\nconst loading = handleActions(\r\n    {\r\n        [START_LOADING]: (state, action) => ({\r\n            ...state,\r\n            [action.payload]: true\r\n        }),\r\n        [FINISH_LOADING]: (state, action) => ({\r\n            ...state,\r\n            [action.payload]: false\r\n        }),\r\n    },\r\n    initialState\r\n);\r\n\r\nexport default loading;","import { call, put } from 'redux-saga/effects';\r\nimport { startLoading, finishLoading } from '../modules/loading';\r\n\r\n    \r\nexport const createRequestActionTypes = type => {\r\n    const SUCCESS = `${type}_SUCCESS`;\r\n    const FAILURE = `${type}_FAILURE`;\r\n    return [type, SUCCESS, FAILURE];\r\n};\r\n\r\nexport default function createRequestSaga(type, request) {\r\n    const SUCCESS = `${type}_SUCCESS`;\r\n    const FAILURE = `${type}_FAILURE`;\r\n    \r\n    return function*(action) {\r\n        yield put(startLoading(type));  // 로딩 시작\r\n        try {\r\n            const response = yield call(request, action.payload);\r\n            yield put({\r\n                type: SUCCESS,\r\n                payload: response.data,\r\n                meta: response,\r\n            });\r\n        } catch (e) {\r\n            yield put({\r\n                type: FAILURE,\r\n                payload: e,\r\n                error: true\r\n            });\r\n        }\r\n        yield put(finishLoading(type)); // 로딩 끝\r\n    };\r\n}","/* \r\n    user Module : 사용자의 상태를 담음\r\n*/\r\n\r\nimport { createAction, handleActions } from 'redux-actions';\r\nimport { takeLatest, call } from 'redux-saga/effects';\r\nimport * as authAPI from '../lib/api/auth';\r\nimport createRequestSaga from '../lib/createRequestSaga';\r\n\r\n// 새로고침 이후 임시 로그인 처리\r\nconst TEMP_SET_USER = 'user/TEMP_SET_USER';\r\n// 회원 정보 확인\r\nconst CHECK = 'user/CHECK';\r\nconst CHECK_SUCCESS = 'user/CHECK_SUCCESS';\r\nconst CHECK_FAILURE = 'user/CHECK_FAILURE';\r\n\r\nconst LOGOUT = 'user/LOGOUT';\r\n\r\nexport const tempSetUser = createAction(TEMP_SET_USER, user => user);\r\nexport const check = createAction(CHECK);\r\nexport const logout = createAction(LOGOUT);\r\n\r\nconst checkSaga = createRequestSaga(CHECK, authAPI.check);\r\n\r\nfunction checkFailureSaga() {   // 사용자 정보를 초기화\r\n    try {\r\n        localStorage.removeItem('user');    // localStorage 에서 user 제거\r\n    } catch (e) {\r\n        console.log('localStorage is not working');\r\n    }\r\n}\r\n\r\nfunction* logoutSaga() {\r\n    try {\r\n        yield call(authAPI.logout);\r\n        localStorage.removeItem('user');\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport function* userSaga() {\r\n    yield takeLatest(CHECK, checkSaga);\r\n    yield takeLatest(CHECK_FAILURE, checkFailureSaga);  // CHECK_FAILURE 액션이 발생할 때(createRequestSaga) checkFailureSaga() 호출\r\n    yield takeLatest(LOGOUT, logoutSaga);   // HeaderContainer에서 LOGOUT 액션이 발생하면 ...\r\n}\r\n\r\nconst initialState = {\r\n    user: null,\r\n    checkError: null\r\n};\r\n\r\nconst user = handleActions(\r\n    {\r\n        [TEMP_SET_USER]: (state, { payload: user }) => ({\r\n            ...state,\r\n            user,\r\n        }),\r\n        [CHECK_SUCCESS]: (state, { payload: user }) => ({\r\n            ...state,\r\n            user,\r\n            checkError: null\r\n        }),\r\n        [CHECK_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            user,\r\n            checkError: error\r\n        }),\r\n        [LOGOUT]: state => ({\r\n            ...state,\r\n            user: null,\r\n        }),\r\n    },\r\n    initialState\r\n);\r\n\r\nexport default user;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Header from '../../components/common/Header';\r\nimport { logout } from '../../modules/user';\r\n\r\nconst HeaderContainer = () => {\r\n    const { user } = useSelector( ({ user }) => ({ user: user.user }) );\r\n    const dispatch = useDispatch();\r\n    const onLogout = () => {\r\n        dispatch(logout());\r\n    };\r\n    return <Header user={user} onLogout={onLogout} />;\r\n};\r\n\r\nexport default HeaderContainer;","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport palette from '../../lib/styles/palette';\r\n\r\nconst SubInfoBlock = styled.div`\r\n    /* props가 margin-top을 가지고 있으면(PostViewer) margin-top 값을 1rem 로 설정 */\r\n    ${props => \r\n        props.hasMarginTop &&\r\n        css`\r\n            margin-top: 1rem;\r\n        `}\r\n    color: ${palette.gray[6]};\r\n\r\n    /* span 사이에 가운데점 문자 */\r\n    span + span:before {\r\n        color: ${palette.gray[4]};\r\n        padding-left: 0.25rem;\r\n        padding-right: 0.25rem;\r\n        content: '\\\\B7';\r\n    }\r\n`;\r\n\r\nconst SubInfo = ({ username, publishdDate, hasMarginTop }) => {\r\n    return (\r\n        <SubInfoBlock hasMarginTop={hasMarginTop}> \r\n            <span>\r\n                <b>\r\n                    <Link to={`/@${username}`}>{username}</Link>    {/* username누르면 링크 */}\r\n                </b>\r\n            </span>\r\n            <span>{new Date(publishdDate).toLocaleDateString()}</span>\r\n        </SubInfoBlock>\r\n    );\r\n};\r\n\r\nexport default SubInfo;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst TagsBlock = styled.div`\r\n    margin-top: 0.5rem;\r\n    .tag {\r\n        display: inline-block;\r\n        color: ${palette.cyan[7]};\r\n        text-decoration: none;\r\n        margin-right: 0.5rem;\r\n        &:hover {\r\n            color: ${palette.cyan[5]};\r\n        }\r\n    }\r\n`;\r\n\r\nconst Tags = ({ tags }) => {\r\n    return (\r\n        <TagsBlock>\r\n            {tags.map(tag => (\r\n                <Link className=\"tag\" to={`/?tag=${tag}`} key={tag}>    {/* tag누르면 링크 */}\r\n                    #{tag}\r\n                </Link>\r\n            ))}\r\n        </TagsBlock>\r\n    );\r\n};\r\n\r\nexport default Tags;","import { handleActions, createAction } from 'redux-actions';\r\nimport createRequestSaga from '../lib/createRequestSaga';\r\nimport * as postsAPI from '../lib/api/posts';\r\nimport { takeLatest } from 'redux-saga/effects';\r\n\r\nconst CHANGE_FIELD = 'posts/CHANGE_FIELD';\r\n\r\nconst LIST_POSTS = 'posts/LIST_POSTS';\r\nconst LIST_POSTS_SUCCESS = 'posts/LIST_POSTS_SUCCESS';\r\nconst LIST_POSTS_FAILURE = 'posts/LIST_POSTS_FAILURE';\r\n\r\nexport const changeField = createAction(CHANGE_FIELD, ({ key, value }) => ({ key, value }));\r\nexport const listPosts = createAction(LIST_POSTS, ({ tag, username, page, _id }) => ({ tag, username, page, _id }));\r\n\r\nconst listPostsSaga = createRequestSaga(LIST_POSTS, postsAPI.listPosts);\r\n\r\nexport function* postsSaga() {\r\n    yield takeLatest(LIST_POSTS, listPostsSaga);\r\n}\r\n\r\nexport const initialState = {\r\n    posts: null,\r\n    error: null,\r\n    lastPage: 1,\r\n    markerOn: null,\r\n    search: null,   // 검색창에 무엇을 썻는지를 담고있는 변수(state). 초기값을 null로 (검색창에 아무것도 입력하지않음) 해놨다.\r\n    adMarkerOn: null\r\n\r\n};\r\n\r\nconst posts = handleActions(\r\n    {\r\n        [CHANGE_FIELD]: (state, { payload: { key, value } }) => ({\r\n            ...state,\r\n            [key]: value,   // 특정 key값 업데이트\r\n        }),\r\n        [LIST_POSTS_SUCCESS]: (state, { payload: posts, meta: response }) => ({\r\n            ...state,\r\n            posts,\r\n            lastPage: parseInt(response.headers['last-page'], 10),   // 문자열을 숫자로\r\n        }),\r\n        [LIST_POSTS_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            error,\r\n        }),\r\n    },\r\n    initialState\r\n);\r\n\r\nexport default posts;","import client from './client';\r\n\r\nimport qs from 'qs';\r\n\r\n// 포스트 쓰기\r\nexport const writePost = ({ title, body, tags, marker }) =>\r\n    client.post('/api/posts', { title, body, tags, marker });\r\n\r\n// 포스트 읽기\r\nexport const readPost = id => client.get(`/api/posts/${id}`);\r\n\r\n// 포스트 리스트\r\nexport const listPosts = ({ page, username, tag, _id }) => {\r\n    const queryString = qs.stringify({\r\n        page,\r\n        username,\r\n        tag,\r\n        _id,\r\n    });\r\n    return client.get(`/api/posts?${queryString}`)  // /api/posts?username=&tag=&page=\r\n};\r\n\r\n// 포스트 수정\r\nexport const updatePost = ({ id, title, body, tags, marker, likeButton }) => \r\n    client.patch(`/api/posts/${id}`, { title, body, tags, marker, likeButton });\r\n\r\n// 포스트 삭제\r\nexport const removePost = id => client.delete(`/api/posts/${id}`);","import React from 'react';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { initialState } from '../../modules/posts';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  \r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: '#EEEEEE',\r\n    },\r\n    marginLeft: 0,\r\n    width: '1rem',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n    border: '2px solid #AACCFF',\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    color: '#99BBFF',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '1rem',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: '10rem',\r\n      '&:focus': {\r\n        width: '15rem',\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst SearchBar = ({ onChangeSearch, posts }) => {    // module의 onChangeField 액션함수, posts 스테이트를 Container 에서 받아옴  \r\n  const onChange = (e) => {   // onChange 이벤트 핸들러  함수\r\n      onChangeSearch(e.target.value) // search의 값을 e.target.value로 (검색창에 써진대로)\r\n  }\r\n  const classes = useStyles();\r\n  return (\r\n\r\n        <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n                <SearchIcon/>\r\n            </div>\r\n            <InputBase\r\n                placeholder=\"Search Tag…\"\r\n                classes={{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput,\r\n                }}\r\n                inputProps={{ 'aria-label': 'search' }}\r\n                value={initialState.search}\r\n                onChange={onChange}     // 검색창에 작성을 하면 onChange 실행\r\n            />\r\n        </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;","// container > posts > SearchBarContainer\r\n\r\nimport React from 'react';\r\nimport SearchBar from '../../components/posts/SearchBar';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changeField } from '../../modules/posts';      // 리덕스 스토어의 search 스테이트를 변경하기 위한 함수\r\nimport {initialState} from '../../modules/posts';\r\n\r\nconst SearchBarContainer = () => {\r\n    \r\n    const dispatch = useDispatch();\r\n\r\n    // 검색창을 쓰기위해 목록에있는 포스트들의 정보(posts) State가 필요하다고 판단했음\r\n    const { posts } = useSelector(({ posts, loading, user }) => ({\r\n        posts: posts.posts, // 리덕스 스토어의 posts(State) 를 posts란 변수 이름으로 가져온다.\r\n        search: posts.search,\r\n    }));\r\n\r\n    const onChangeSearch = value => {\r\n        initialState.search = value;\r\n        if(value == \"\"){\r\n            initialState.search = null;\r\n        }\r\n        dispatch(\r\n            changeField({   // 리덕스 스토어의 search 스테이트의 값을 value 로 바꿔줌\r\n                key: 'search',\r\n                value: value,\r\n            })\r\n        )\r\n    }\r\n\r\n    return <SearchBar onChangeSearch={onChangeSearch} posts={posts}  />; // SearchBar 컴포넌트에 onChangeSearch함수 보내줌\r\n};\r\n\r\nexport default SearchBarContainer;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport qs from 'qs';\r\nimport Button from '../common/Button';\r\n\r\nconst PaginationBlock = styled.div`\r\n    width: 320px;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom: 3rem;\r\n`;\r\nconst PageNumber = styled.div``;\r\n\r\n// 링크 만들기 (페이지이동 링크)\r\nconst buildLink = ({ username, tag, page }) => {\r\n    const query = qs.stringify({ tag, page });\r\n    return username ? `/@${username}?${query}` : `/?${query}`;\r\n};\r\n\r\nconst Pagination = ({ page, lastPage, username, tag }) => {\r\n    // 현재선택된계정명, 태그, 현재페이지, 마지막페이지\r\n    return (\r\n        <PaginationBlock>\r\n            <Button\r\n                disabled={page === 1}\r\n                to={\r\n                    page === 1\r\n                        ? undefined\r\n                        : buildLink({ username, tag, page: page - 1 })\r\n                }\r\n            >\r\n                이전\r\n            </Button>\r\n            <PageNumber>{page}</PageNumber>\r\n            <Button\r\n                disabled={page === lastPage}\r\n                to={\r\n                    page === lastPage\r\n                        ? undefined\r\n                        : buildLink({ username, tag, page: page + 1 })\r\n                }\r\n            >\r\n                다음\r\n            </Button>\r\n        </PaginationBlock>\r\n    );\r\n};\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\nimport Button from '../common/Button';\r\nimport Responsive from '../common/Responsive';\r\nimport SubInfo from '../common/SubInfo';\r\nimport Tags from '../common/Tags';\r\nimport { Link } from 'react-router-dom';\r\nimport SearchBarContainer from '../../containers/posts/SearchBarContainer';\r\nimport Pagination from './Pagination';\r\n\r\nimport {initialState} from '../../modules/posts';\r\n\r\nconst PostListBlock = styled(Responsive)`\r\n    margin-top: 70px;\r\n    float:right;\r\n    width: 50%;\r\n`;\r\n\r\nconst WritePostButtonWrapper = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;    \r\n    margin-bottom: 1rem;\r\n`;\r\n\r\nconst PostItemBlocksWrapper =styled.div`\r\n    height : window.outerHeight;\r\n    float: left;\r\n    \r\n`;\r\n\r\nconst PostItemBlock = styled.div`\r\n    padding-top: 3rem;\r\n    padding-bottom: 3rem;\r\n    \r\n    /* 맨위 포스트는 padding-top 없음 */\r\n    &:first-child {\r\n        padding-top: 0;\r\n    }\r\n    & + & {\r\n        border-top: 1px solid ${palette.gray[2]};\r\n    }\r\n\r\n    h2 {\r\n        font-size: 2rem;\r\n        margin-bottom: 0;\r\n        margin-top: 0;\r\n        &:hover {\r\n            color: ${palette.gray[6]};\r\n        }\r\n    }\r\n    p {\r\n        margin-top: 1rem;\r\n    }\r\n`;\r\n\r\nconst ListOfLikeButtons =styled.div`\r\n    display: flex;  \r\n    height: 90px;\r\n    div{\r\n        background-color:white;\r\n        padding-right:10px;\r\n        padding-left:10px\r\n    }\r\n\r\n    div p{\r\n        color:black;\r\n        margin :0;\r\n        text-align:center;\r\n        font-size : 10px;\r\n    }\r\n`;\r\nconst Scroll = styled.div`\r\n    height : 100vh;\r\n    overflow-y:scroll;\r\n`;\r\nconst PostItem = ({ post }) => {\r\nconst { publishdDate, title, user, body, tags, _id, likeButton } = post;\r\nconsole.log(post);\r\nreturn (\r\n<PostItemBlocksWrapper>\r\n    <PostItemBlock>\r\n        <h2>\r\n            <Link to={`/@${user.username}/${_id}`}>{title}</Link>\r\n        </h2>\r\n        <SubInfo username={user.username} publishdDate={new Date(publishdDate)} /> \r\n        <Tags tags={tags} />\r\n        <p>{body}</p>\r\n        <ListOfLikeButtons>\r\n        <div>\r\n            <img src={require(\"../../images/like.png\")}></img>\r\n            <p>좋아요 {post && likeButton.like}</p>\r\n        </div>\r\n        <div>\r\n            <img src={require(\"../../images/soso.png\")}></img>\r\n            <p>평범해요 {post && likeButton.soso}</p>\r\n        </div>\r\n        <div>\r\n            <img src={require(\"../../images/dislike.png\")}></img>\r\n            <p>별로에요 {post && likeButton.dislike}</p>\r\n        </div>\r\n    </ListOfLikeButtons>\r\n    </PostItemBlock>\r\n</PostItemBlocksWrapper>    \r\n);\r\n};\r\n\r\nconst PostList = ({ posts, loading, error, adMarkerOn, showWrittenButton, user }) => {\r\n    const filteredPostlist = (postsList) =>{\r\n        postsList = postsList.filter((post) =>{\r\n            if(initialState.search == null){\r\n                return post;\r\n            }\r\n            else{\r\n                return (post.tags.indexOf(initialState.search) > -1);\r\n            }\r\n        })\r\n        return postsList.map((post) => {\r\n            return <PostItem post={post} key={post._id} />\r\n        })\r\n    }\r\n    if (error) {\r\n        return <PostListBlock>에러 발생</PostListBlock>;\r\n    }\r\n\r\n    return (\r\n        <PostListBlock>\r\n            <WritePostButtonWrapper>\r\n                <SearchBarContainer/>\r\n                {user && user.username == 'admin' ? ((showWrittenButton && adMarkerOn) ? (\r\n                    <Button cyan to=\"/write\">\r\n                        가게 등록하기\r\n                    </Button>\r\n                ) : (<Button gray>마커를 선택하세요</Button>)) : null\r\n                }\r\n            </WritePostButtonWrapper>\r\n            {/* 로딩중 아니고, 포스트배열이 존재할 때 */}\r\n            {!loading && posts && (\r\n                <Scroll>\r\n                    {filteredPostlist(posts)}\r\n                </Scroll>\r\n            )}\r\n        </PostListBlock>\r\n    );\r\n};\r\n\r\nexport default PostList;\r\n","import React, { useEffect } from 'react';\r\nimport PostList from '../../components/posts/PostList';\r\nimport { listPosts } from '../../modules/posts';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport qs from 'qs';\r\n\r\nconst PostListContainer = ({ match, location }) => {\r\n    const dispatch = useDispatch();\r\n    const { posts, error, loading, user, markerOn, adMarkerOn, } = useSelector(({ posts, user, loading }) => ({\r\n        posts: posts.posts,\r\n        error: posts.error,\r\n        markerOn: posts.markerOn,\r\n        adMarkerOn: posts.adMarkerOn,\r\n        user: user.user,\r\n        loading: loading['posts/LIST_POSTS'],\r\n    }));\r\n\r\n    // URL 에서 쿼리, 파라미터 값 가져와서 api 로\r\n    useEffect(() => {\r\n        const { username, _id } = match.params;\r\n        const { tag, page } = qs.parse(location.search, {\r\n            ignoreQueryPrefix: true,\r\n        });\r\n        dispatch(listPosts({ tag, username, page, _id }));\r\n    }, [dispatch, location.search]);\r\n\r\n    return (\r\n        <PostList \r\n            loading={loading} posts={posts}\r\n            error={error} markerOn={markerOn} \r\n            adMarkerOn={adMarkerOn} showWrittenButton={user} \r\n            user={user} \r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(PostListContainer);\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport qs from 'qs';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Pagination from '../../components/posts/Pagination';\r\n\r\nconst PaginationContainer = ({ match, location }) => {\r\n    const { lastPage, posts, loading } = useSelector(({ posts, loading }) => ({\r\n        lastPage: posts.lastPage,\r\n        posts: posts.posts,\r\n        loading: loading['posts/LIST_POSTS'],\r\n    }));\r\n\r\n    // 포스트 데이터없거나 로딩중이면 아무것도 안보여줌\r\n    if (!posts || loading ) return null;\r\n\r\n    const { username } = match.params;  // /@username\r\n    const { tag, page = 1 } = qs.parse(location.search, {   // ?tag= , ?page=\r\n        ignoreQueryPrefix: true,\r\n    });\r\n\r\n    return (\r\n        <Pagination\r\n            tag={tag}\r\n            page={parseInt(page, 10)}\r\n            username={username}\r\n            lastPage={lastPage}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(PaginationContainer);","import React, { useState } from 'react';\r\nimport { GoogleMap, InfoWindow, LoadScript, Marker } from '@react-google-maps/api';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst GoogleMapAPI = ({ onChangeAdMarkerOn, onChangeMarkerOn, posts, loading, user }) => {\r\n    const [markers, setMarkers] = useState();\r\n    const [selected, setSelected] = useState(null);\r\n    const [adselected, setAdselected] = useState(null);\r\n\r\n    const mapStyles = {        \r\n        height: \"100vh\",\r\n        width: \"50%\",\r\n        float: \"left\",\r\n        margin:\"65px 0px 0px 0px\"\r\n       //display: \"flex\"\r\n     };\r\n    const defaultCenter = {\r\n        lat: 37.496281, lng: 126.957390\r\n    };\r\n\r\n    // 구글맵 : 마우스 클릭 이벤트\r\n    const addMarker = (e) => {\r\n        const marker = {\r\n            name: e.latLng.lat(),\r\n            position: {\r\n                lat: e.latLng.lat(),\r\n                lng: e.latLng.lng(),\r\n            }\r\n        }\r\n        setMarkers(marker);\r\n    }\r\n\r\n    const dragMarker = (e) => {\r\n        console.log(e);\r\n        const newMarker = {\r\n            name: e.latLng.lat(),\r\n            position: {\r\n                lat: e.latLng.lat(),\r\n                lng: e.latLng.lng(),\r\n            }\r\n        }\r\n        setMarkers(newMarker);\r\n        setAdselected(newMarker);\r\n        onChangeAdMarkerOn(newMarker);\r\n    }\r\n    return (\r\n        <LoadScript\r\n            googleMapsApiKey='AIzaSyCh2Dfsi0RTtFrKPTdMgTLWKgkT-MRRexg'>\r\n            <GoogleMap\r\n                mapContainerStyle={mapStyles}\r\n                zoom={17}\r\n                center={defaultCenter}\r\n                onClick={addMarker}             \r\n            >\r\n            {/* 어드민 로그인하면 지도에 클릭으로 마커 생성 가능 */}\r\n            {user && user.username == 'admin' && markers &&\r\n                <Marker \r\n                    key={markers.name} \r\n                    position={markers.position} \r\n                    draggable={true}\r\n                    onClick={() => {\r\n                        onChangeAdMarkerOn(markers);\r\n                        setAdselected(markers);\r\n                    }}\r\n                    onDragEnd={dragMarker}\r\n                />\r\n            }\r\n            {/* 글목록에서 마커들을 불러와 구글맵에 마커 생성 */}\r\n            {!loading && posts && (\r\n                posts.map(post => {\r\n                    return (\r\n                        <Marker \r\n                            key={post._id} \r\n                            position={post.marker.position} \r\n                            onClick={() => {\r\n                                onChangeMarkerOn(post);\r\n                                setSelected(post);\r\n                            }}\r\n                        />\r\n                    )\r\n                }))\r\n            }\r\n            {/* 버그: admin으로 로그인 후 새로 생성한 마커말고 다른 마커 누르면 에러 */}\r\n            {/* 어드민 전용 인포 윈도우 */}\r\n            {user && (user.username == 'admin' && adselected) ? (\r\n                <InfoWindow \r\n                    position={{ lat: adselected.position.lat + 0.00025, lng: adselected.position.lng  }}\r\n                    onCloseClick={() => { setAdselected(null); }}\r\n                >\r\n                    <div>\r\n                        <h3>마커선택됨</h3>\r\n                    </div>\r\n                </InfoWindow>\r\n            ) : null}\r\n            {/* 유저 전용 인포 윈도우 */}\r\n            {user && selected ? (\r\n                <InfoWindow \r\n                    position={{ lat: selected.marker.position.lat + 0.00025, lng: selected.marker.position.lng  }}\r\n                    onCloseClick={() => { setSelected(null); }}\r\n                >\r\n                    <div>\r\n                        <h3>{selected.marker.name}가 선택되었습니다!</h3>\r\n                        <Link to={`/@admin/${selected._id}`}>이동</Link>\r\n                    </div>\r\n                </InfoWindow>\r\n            ) : null}\r\n            </GoogleMap>\r\n        </LoadScript>\r\n    )\r\n}\r\nexport default GoogleMapAPI;\r\n","import React from 'react';\r\nimport GoogleMapAPI from '../../components/posts/GoogleMapAPI';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changeField } from '../../modules/posts';\r\n\r\nconst GoogleMapAPIContainer = () => {\r\n    const dispatch = useDispatch();\r\n    // const markerOn = useSelector(state => state.posts.markerOn);\r\n    const { posts, loading, markerOn, user } = useSelector(({ posts, loading, user }) => ({\r\n        posts: posts.posts,\r\n        markerOn: posts.markerOn,\r\n        user: user.user,\r\n        loading: loading['posts/LIST_POSTS'],\r\n    }));\r\n\r\n    const onChangeMarkerOn = value => {\r\n        dispatch(\r\n            changeField({\r\n                key: 'markerOn',\r\n                value: value,\r\n            })\r\n        )\r\n    }\r\n    const onChangeAdMarkerOn = value => {\r\n        dispatch(changeField({\r\n            key: 'adMarkerOn',\r\n            value: value,\r\n        }))\r\n    }\r\n\r\n    return <GoogleMapAPI \r\n        onChangeAdMarkerOn={onChangeAdMarkerOn} onChangeMarkerOn={onChangeMarkerOn} \r\n        posts={posts} loading={loading} \r\n        user={user} markerOn={markerOn} />;\r\n};\r\n\r\nexport default GoogleMapAPIContainer;","import React from 'react';\r\nimport HeaderContainer from '../containers/common/HeaderContainer';\r\nimport PostListContainer from '../containers/posts/PostListContainer';\r\nimport PaginationContainer from '../containers/posts/PaginationContainer';\r\nimport GoogleMapAPIContainer from '../containers/posts/GoogleMapAPIContainer';\r\n\r\nconst PostListPage = () => {\r\n    return (\r\n        <>            \r\n            \r\n            <GoogleMapAPIContainer />\r\n            <PostListContainer />\r\n            {/*<PaginationContainer/>*/}\r\n            <HeaderContainer />\r\n        </>\r\n    )\r\n};\r\n\r\nexport default PostListPage;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\nimport { Link } from 'react-router-dom';\r\n\r\n/*\r\n    회원가입, 로그인 페이지의 레이아웃을 담당.\r\n    children으로 받아 온 내용을 보여줌.\r\n*/\r\n\r\n/* 화면 전체를 채움 */\r\nconst AuthTemplateBlock = styled.div`\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    background: ${palette.gray[2]};\r\n    /* flex로 내부 내용 중앙 정렬 */\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\n/* 흰색 박스 */\r\nconst WhiteBox = styled.div`\r\n    .logo-area {\r\n        display: block;\r\n        padding-bottom: 2rem;\r\n        text-align: center;\r\n        font-weight: bold;\r\n        letter-spacing: 2px;\r\n    }\r\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\r\n    padding: 2rem;\r\n    width: 360px;\r\n    background: white;\r\n    border-radius: 2px;\r\n`;\r\n\r\nconst AuthTemplate = ({ children }) => {\r\n    return (\r\n        <AuthTemplateBlock>\r\n            <WhiteBox>\r\n                <div className=\"logo-area\">\r\n                    <Link to=\"/\">Street Vender</Link>\r\n                </div>\r\n                {children}\r\n            </WhiteBox>\r\n        </AuthTemplateBlock>\r\n    );\r\n};\r\n\r\nexport default AuthTemplate;","import { createAction, handleActions } from 'redux-actions';\r\nimport produce from 'immer';\r\n// import { createRequestActionTypes } from '../lib/createRequestSaga';\r\nimport { takeLatest } from 'redux-saga/effects';\r\nimport createRequestSaga from '../lib/createRequestSaga';\r\nimport * as authAPI from '../lib/api/auth';\r\n\r\nconst CHANGE_FIELD = 'auth/CHANGE_FIELD';\r\nconst INITIALIZE_FORM = 'auth/INITIALIZE_FORM';\r\n\r\nconst REGISTER = 'auth/REGISTER';\r\nconst REGISTER_SUCCESS = 'auth/REGISTER_SUCCESS';\r\nconst REGISTER_FAILURE = 'auth/REGISTER_FAILURE';\r\n\r\nconst LOGIN = 'auth/LOGIN';\r\nconst LOGIN_SUCCESS = 'auth/LOGIN_SUCCESS';\r\nconst LOGIN_FAILURE = 'auth/LOGIN_FAILURE';\r\n\r\nexport const changeField = createAction(\r\n    CHANGE_FIELD,\r\n    ({ form, key, value }) => ({\r\n        form, // register, login\r\n        key, // username, password, passwordConfirm\r\n        value, // 실제 바꾸려는 값\r\n    }),\r\n);\r\n\r\nexport const initializeForm = createAction(INITIALIZE_FORM, (form) => form); // register, login\r\n\r\nexport const register = createAction(REGISTER, ({ username, password }) => ({   // 회원가입 할때 필요한 파라미터들\r\n    username,\r\n    password,\r\n}));\r\nexport const login = createAction(LOGIN, ({ username, password }) => ({    // libs/api/auth\r\n    username,\r\n    password,\r\n}));\r\n\r\n\r\n// 사가 생성\r\nconst registerSaga = createRequestSaga(REGISTER, authAPI.register);\r\nconst loginSaga = createRequestSaga(LOGIN, authAPI.login);\r\nexport function* authSaga() {\r\n    yield takeLatest(REGISTER, registerSaga); // 가장 마지막으로 실행된 작업만(한번만) 수행\r\n    yield takeLatest(LOGIN, loginSaga);\r\n}\r\n\r\nconst initialState = {\r\n    register: {\r\n        username: '',\r\n        password: '',\r\n        passwordConfirm: '',\r\n    },\r\n    login: {\r\n        username: '',\r\n        password: '',\r\n    },\r\n};\r\n\r\nconst auth = handleActions(\r\n    {\r\n        [CHANGE_FIELD]: (state, { payload: { form, key, value } }) =>\r\n            produce(state, (draft) => {\r\n                draft[form][key] = value; // 예) state.register.username을 value로 바꾼다\r\n            }),\r\n        [INITIALIZE_FORM]: (state, { payload: form }) => ({\r\n            ...state,\r\n            [form]: initialState[form], // 예) state.login 을 initialState.login으로 바꾼다\r\n        }),\r\n        // 회원가입 성공\r\n        [REGISTER_SUCCESS]: (state, { payload: auth }) => ({\r\n            ...state,\r\n            authError: null,\r\n            auth,\r\n        }),\r\n        // 실패\r\n        [REGISTER_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            authError: error,\r\n        }),\r\n        // 로그인 성공\r\n        [LOGIN_SUCCESS]: (state, { payload: auth }) => ({\r\n            ...state,\r\n            authError: null,\r\n            auth,\r\n        }),\r\n        // 실패\r\n        [LOGIN_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            authError: error,\r\n        }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default auth;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport palette from '../../lib/styles/palette';\r\nimport Button from '../common/Button';\r\n\r\n//  회원가입 또는 로그인 폼을 보여줌\r\nconst AuthFormBlock = styled.div`\r\n    h3 {\r\n        margin: 0;\r\n        color: ${palette.gray[8]};\r\n        margin-bottom: 1rem;\r\n    }\r\n`;\r\n\r\n\r\n//  스타일링된 input\r\nconst StyledInput = styled.input`\r\n    font-size: 1rem;\r\n    border: none;\r\n    border-bottom: 1px solid ${palette.gray[5]};\r\n    padding-bottom: 0.5rem;\r\n    outline: none;\r\n    width: 100%;\r\n    &:focus {\r\n        color: $oc-teal-7;\r\n        border-bottom: 1px solid ${palette.gray[7]};\r\n    }\r\n    & + & {\r\n        margin-top: 1rem;\r\n    }\r\n`;\r\n\r\n\r\n//  폼 하단에 로그인 혹은 회원가입 링크를 보여 줌\r\nconst Footer = styled.div`\r\n    margin-top: 2rem;\r\n    text-align: right;\r\n    a {\r\n        color: ${palette.gray[6]};\r\n        text-decoration: underline;\r\n        &:hover {\r\n            color: ${palette.gray[9]};\r\n        }\r\n    }\r\n`;\r\n\r\n//  버튼 컴포넌트에 margin-top 추가 \r\nconst ButtonWithMarginTop = styled(Button)`\r\n    margin-top: 1rem;\r\n`;\r\n\r\nconst textMap = {\r\n    login: '로그인',\r\n    register: '회원가입'\r\n};\r\n\r\n// 에러를 보여 줌\r\nconst ErrorMessage = styled.div`\r\n    color: red;\r\n    text-align: center;\r\n    font-size: 0.875rem;\r\n    margin-top: 1rem;\r\n`;\r\n\r\nconst AuthForm = ({ type, form, onChange, onSubmit, error }) => {\r\n    const text = textMap[type];\r\n    return (\r\n        <AuthFormBlock>\r\n            {/* children */}\r\n            <h3>{text}</h3>\r\n            <form onSubmit={onSubmit}>\r\n                <StyledInput \r\n                    autoComplete=\"username\" \r\n                    name=\"username\" \r\n                    placeholder=\"아이디\" \r\n                    onChange={onChange} \r\n                    value={form.username}  // form에 입력되있는 값. containers/auth/LoginForm 의 changeField에서, state.login.password의 값을 value로\r\n                />\r\n                <StyledInput \r\n                    autoComplete=\"new-password\"\r\n                    name=\"password\"\r\n                    placeholder=\"비밀번호\"\r\n                    type=\"password\"\r\n                    onChange={onChange}\r\n                    value={form.password}   \r\n                />\r\n                {/* 타입이 register면 비밀번호 확인란 추가*/}\r\n                {type === 'register' && (\r\n                    <StyledInput\r\n                        autoComplete=\"new-password\"\r\n                        name=\"passwordConfirm\"\r\n                        placeholder=\"비밀번호 확인\"\r\n                        type=\"password\"\r\n                        onChange={onChange}\r\n                        value={form.passwordConfirm}\r\n                    />\r\n                )}\r\n                {error && <ErrorMessage>{error}</ErrorMessage>}\r\n                <ButtonWithMarginTop cyan fullWidth>{text}</ButtonWithMarginTop>  {/* == <ButtonWith~ cyan={true} fullWidth={true}> */}\r\n            </form>\r\n            <Footer>\r\n                {type === 'login' ? (<Link to=\"/register\">회원가입</Link>) : (<Link to=\"/login\">로그인</Link>)}\r\n            </Footer>\r\n        </AuthFormBlock>\r\n    );\r\n};\r\n\r\nexport default AuthForm;","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { changeField, initializeForm, login } from '../../modules/auth';\r\nimport AuthForm from '../../components/auth/AuthForm';\r\nimport { withRouter } from 'react-router-dom';  // history 쓰기 위해\r\nimport { check } from '../../modules/user';     \r\n\r\nconst LoginForm = ({ history }) => {    // history.push 를 쓰기 위해 (54)\r\n    const [error, setError] = useState(null);\r\n\r\n    const dispatch = useDispatch();\r\n    const { form, auth, authError, user } = useSelector( ({ auth, user }) => ({ \r\n        form: auth.login, \r\n        auth: auth.auth,\r\n        authError: auth.authError,\r\n        user: user.user\r\n    }));   \r\n    // 인풋 변경 이벤트 헨들러\r\n    const onChange = e => {\r\n        const { value, name } = e.target;\r\n        dispatch(\r\n            changeField({\r\n                form: 'login',\r\n                key: name,\r\n                value\r\n            })\r\n        );\r\n    };\r\n\r\n    // 폼 등록 이벤트 핸들러\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        const { username, password } = form;    // StyledInput 들의 value들\r\n        dispatch(login({ username, password })); // libs/api/auth의 login API 요청\r\n    };\r\n\r\n    // 컴포넌트가 처음 렌더링될 때 form 초기화\r\n    useEffect(() => {\r\n        dispatch(initializeForm('login'));\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        if (authError) {\r\n            console.log('오류 발생');\r\n            console.log(authError);\r\n            setError('로그인 실패');\r\n            return;\r\n        }\r\n        if (auth) {\r\n            console.log('로그인 성공');\r\n            dispatch(check());\r\n        }\r\n    }, [auth, authError, dispatch]);\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            history.push('/');\r\n            try {\r\n                localStorage.setItem('user', JSON.stringify(user));\r\n            } catch (e) {\r\n                console.log('localStorage is not working');\r\n            }\r\n        }\r\n    }, [history, user]);\r\n\r\n    return (\r\n        <AuthForm\r\n            type=\"login\"\r\n            form={form}\r\n            onChange={onChange}\r\n            onSubmit={onSubmit}\r\n            error={error}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(LoginForm);","import React from 'react';\r\nimport AuthTemplate from '../components/auth/AuthTemplate';\r\n// import AuthForm from '../components/auth/AuthForm';\r\nimport LoginForm from '../containers/auth/LoginForm';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst LoginPage = () => {\r\n    return (\r\n        <AuthTemplate>\r\n            <Helmet>\r\n                <title>로그인 - Street Vender</title>\r\n            </Helmet>\r\n            <LoginForm />\r\n        </AuthTemplate>\r\n    )\r\n};\r\n\r\nexport default LoginPage;","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { changeField, initializeForm, register } from '../../modules/auth';\r\nimport AuthForm from '../../components/auth/AuthForm';\r\nimport { check } from '../../modules/user';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst RegisterForm = ({ history }) => {\r\n    const [error, setError] = useState(null);\r\n\r\n    const dispatch = useDispatch();\r\n    const { form, auth, authError, user } = useSelector( ({ auth, user }) => ({  // component로 주는 props. user는 백엔드의 user정보\r\n        form: auth.register, \r\n        auth: auth.auth,\r\n        authError: auth.authError,\r\n        user: user.user     \r\n        }));   // form을 register으로\r\n\r\n    // 인풋 변경 이벤트 헨들러\r\n    const onChange = e => {\r\n        const { value, name } = e.target;\r\n        dispatch(\r\n            changeField({\r\n                form: 'register',\r\n                key: name,\r\n                value\r\n            })\r\n        );\r\n    };\r\n\r\n    // 폼 등록 이벤트 핸들러\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        const { username, password, passwordConfirm } = form;   // StyledInput들의 value 값들.\r\n        \r\n        // 빈칸이 있으면\r\n        if([username, password, passwordConfirm].includes('')) {\r\n            setError('빈 칸을 모두 입력하시오');\r\n            return;\r\n        }\r\n        // 비밀번호가 일치하지 않으면\r\n        if (password !== passwordConfirm) {\r\n            setError('비밀번호가 일치하지 않음');\r\n            dispatch(changeField({ form: 'register', key:'password', value:'' }));\r\n            dispatch(changeField({ form: 'register', key:'passwordConfirm', value:'' }));\r\n            return;\r\n        }\r\n        dispatch(register({ username, password}));  // 현재 아이디, 비밀번호를 파라미터로 액션 디스패치\r\n    };\r\n\r\n    // 컴포넌트가 처음 렌더링될 때 form 초기화\r\n    useEffect(() => {\r\n        dispatch(initializeForm('register'));\r\n    }, [dispatch]);\r\n\r\n    // 회원가입 성공, 실패 처리\r\n    useEffect(() => {\r\n        if (authError) {\r\n            if (authError.response.status === 409) { // backend/api/auth.ctrl.js\r\n                setError('이미 존재하는 아이디입니다');\r\n                return;\r\n            }  \r\n            setError('회원가입 실패');\r\n            return;\r\n        }\r\n        if (auth) {\r\n            console.log('회원가입 성공');\r\n            console.log(auth);\r\n            dispatch(check());\r\n        }\r\n    }, [auth, authError, dispatch]);\r\n    \r\n    // user 값이 잘 설정됐는지 확인 \r\n    useEffect(() => {\r\n        if (user) {\r\n            history.push('/');  // 홈화면 이동\r\n            try {\r\n                localStorage.setItem('user', JSON.stringify(user));\r\n            } catch (e) {\r\n                console.log('localStorage is not working');\r\n            }\r\n        }       \r\n    }, [history, user]);\r\n\r\n    return (\r\n        <AuthForm\r\n            type=\"register\"\r\n            form={form}\r\n            onChange={onChange}\r\n            onSubmit={onSubmit}\r\n            error={error}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(RegisterForm);","import React from 'react';\r\nimport AuthTemplate from '../components/auth/AuthTemplate';\r\n// import AuthForm from '../components/auth/AuthForm';\r\nimport RegisterForm from '../containers/auth/RegisterForm';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst RegisterPage = () => {\r\n    return (\r\n        <AuthTemplate>\r\n            <Helmet>\r\n                <title>회원가입 - Street Vender</title>\r\n            </Helmet>\r\n            <RegisterForm />\r\n        </AuthTemplate>\r\n    );\r\n};\r\n\r\nexport default RegisterPage;\r\n","import React, { useRef, useEffect } from 'react';\r\nimport Quill from 'quill';\r\nimport 'quill/dist/quill.bubble.css';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\nimport Responsive from '../common/Responsive';\r\n\r\nconst EditorBlock = styled(Responsive)`\r\n    /* 페이지 위아래 여백 지정 */\r\n    padding-top: 5rem;\r\n    padding-bottom: 5rem;\r\n`;\r\nconst TitleInput = styled.input`\r\n    font-size: 3rem;\r\n    outline: none;\r\n    padding-bottom: 0.5rem;\r\n    border: none;\r\n    border-bottom: 1px solid ${palette.gray[4]};\r\n    margin-bottom: 2rem;\r\n    width: 100%;\r\n`;\r\nconst QuillWraper = styled.div`\r\n    /* 최소 크기 지정 및 padding 제거 */\r\n    .ql-editor {\r\n        padding: 0;\r\n        min-height: 320px;\r\n        font-size: 1.125rem;\r\n        line-height: 1.5;\r\n    }\r\n    .ql-editor.ql-blank::before {\r\n        left: 0px;\r\n    }\r\n`;\r\n\r\nconst Editor = ({ onChangeField, title, body }) => {\r\n    const quillElement = useRef(null);  // Quill을 적용할 DivElement 설정\r\n    const quillInstance = useRef(null); // Quill 인스턴스 설정\r\n    \r\n    useEffect(() => {\r\n        quillInstance.current = new Quill(quillElement.current, {\r\n            theme: 'bubble',\r\n            placeholder: '내용을 작성하세요',\r\n            modules: {\r\n                // 더 많은 옵션 https://quilljs.com/docs/modules/toolbar 참고\r\n                toolbar: [\r\n                    [{ header: '1' }, {header: '2'}],\r\n                    ['bold', 'italic', 'underline', 'strike'],\r\n                    [{ list: 'ordered' }, { list: 'bullet' }],\r\n                    ['blockquote', 'code-block', 'link', 'image'],\r\n                ],\r\n            },\r\n        });\r\n\r\n        // quill에 text-change 이벤트 핸들러 등록 \r\n        // *참고: https://quilljs.com/docs/api/#events\r\n        const quill = quillInstance.current;\r\n        quill.on('text-change', (delta, oldDelta, source) => {\r\n            if (source === 'user') {\r\n                onChangeField({ key: 'body', value: quill.root.innerHTML });\r\n            }\r\n        });\r\n    }, [onChangeField]);\r\n\r\n    const mounted = useRef(false);\r\n    useEffect(() => {\r\n        if (mounted.current) return;\r\n        mounted.current = true;\r\n        quillInstance.current.root.innerHTML = body;\r\n    }, [body]);\r\n\r\n    const onChangeTitle = e => {\r\n        onChangeField({ key: 'title', value: e.target.value }); // title의 값을 e.target.value로 (title인풋에 써진대로)\r\n    };\r\n\r\n    return (\r\n        <EditorBlock>\r\n            <TitleInput \r\n                placeholder=\"제목을 입력하세요\"\r\n                onChange={onChangeTitle}    // 변화가 생기면 (타이핑되면) onChangeTitle 핸들러  실행\r\n                value={title}    // 제목 쓰는 input에  {title} 할당\r\n            />\r\n            <QuillWraper>\r\n                <div ref={quillElement} />  {/* 내용 부분. Quill 적용*/}\r\n            </QuillWraper>\r\n        </EditorBlock>\r\n    )\r\n}\r\n\r\nexport default Editor;","import { createAction, handleActions } from 'redux-actions';\r\nimport createRequestSaga from '../lib/createRequestSaga';\r\nimport * as postsAPI from '../lib/api/posts';\r\nimport { takeLatest } from 'redux-saga/effects';\r\n\r\nconst INITIALIZE = 'write/INITIALIZE';      // 모든 내용 초기화\r\nconst CHANGE_FIELD = 'write/CHANGE_FIELD'   // 특정 key값 바꾸기\r\n\r\n// 포스트 쓰기 관련\r\nconst WRITE_POST = 'write/WRITE_POST';\r\nconst WRITE_POST_SUCCESS = 'write/WRITE_POST_SUCCESS';\r\nconst WRITE_POST_FAILURE = 'write/WRITE_POST_FAILURE';\r\n\r\n// 포스트 수정 관련\r\nconst SET_ORIGINAL_POST = 'write/SET_ORIGINAL_POST';    // 현재 보고있는 포스트 정보를 write 모듈에서 관리하는 상태에 넣음\r\n\r\nconst UPDATE_POST = 'write/UPDATE_POST';\r\nconst UPDATE_POST_SUCCESS = 'write/UPDATE_POST_SUCCESS';\r\nconst UPDATE_POST_FAILURE = 'write/UPDATE_POST_FAILURE';\r\n\r\nexport const initialize = createAction(INITIALIZE);\r\nexport const changeField = createAction(CHANGE_FIELD, ({ key, value }) => ({ key, value }));    \r\n\r\nexport const writePost = createAction(WRITE_POST, ({ title, body, tags, marker }) => ({ title, body, tags, marker }));\r\n\r\nexport const setOriginalPost = createAction(SET_ORIGINAL_POST, post => post);\r\n\r\nexport const updatePost = createAction(UPDATE_POST, ({ id, title, body, tags, marker, likeButton }) => ({ id, title, body, tags, marker, likeButton }));\r\n\r\n// 사가 생성\r\nconst writePostSaga = createRequestSaga(WRITE_POST, postsAPI.writePost);\r\nconst updatePostSaga = createRequestSaga(UPDATE_POST, postsAPI.updatePost);\r\n\r\nexport function* writeSaga() {\r\n    yield takeLatest(WRITE_POST, writePostSaga);\r\n    yield takeLatest(UPDATE_POST, updatePostSaga);\r\n}\r\n\r\n\r\nconst initialState = {\r\n    title: '',\r\n    body: '',\r\n    tags: [],\r\n    marker: {},\r\n    post: null,\r\n    postError: null,\r\n    originalPostId: null,\r\n};\r\n\r\nconst write = handleActions(\r\n    {\r\n        [INITIALIZE]: state => initialState,\r\n        [CHANGE_FIELD]: (state, { payload: { key, value } }) => ({\r\n            ...state,\r\n            [key]: value,   // 특정 key값 업데이트\r\n        }),\r\n        [WRITE_POST]: state => ({\r\n            // post, postError 초기화\r\n            ...state,\r\n            post: null,\r\n            postError: null,\r\n        }),\r\n        [WRITE_POST_SUCCESS]: (state, { payload: post }) => ({\r\n            ...state,\r\n            post,   // 서버에서 응답한 포스트\r\n        }),\r\n        [WRITE_POST_FAILURE]: (state, { payload: postError }) => ({\r\n            ...state,\r\n            postError,\r\n        }),\r\n        [SET_ORIGINAL_POST]: (state, { payload: post }) => ({\r\n            ...state,\r\n            title: post.title,\r\n            body: post.body,\r\n            tags: post.tags,\r\n            marker: post.marker,\r\n            originalPostId: post._id,\r\n        }),\r\n        [UPDATE_POST_SUCCESS]: (state, { payload: post }) => ({\r\n            ...state,\r\n            post,\r\n        }),\r\n        [UPDATE_POST_FAILURE]: (state, { payload: postError }) => ({\r\n            ...state,\r\n            postError,\r\n        }),\r\n    },\r\n    initialState,\r\n);\r\n\r\nexport default write;","import React, { useEffect, useCallback } from 'react';\r\nimport Editor from '../../components/write/Editor';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changeField, initialize } from '../../modules/write';\r\n\r\nconst EditorContainer = () => {\r\n    const dispatch = useDispatch();\r\n    const { title, body } = useSelector(({ write }) => ({   // title값과 body값을 리덕스 스토어에서 불러옴\r\n        title: write.title,\r\n        body: write.body,\r\n    }));\r\n\r\n    const onChangeField = useCallback(payload => dispatch(changeField(payload)),    // useCallback: 823p\r\n        [dispatch]\r\n    );\r\n    // 언마운트 될때 초기화\r\n    useEffect(() => {\r\n        return () => {  // 뒷정리 함수 return\r\n            dispatch(initialize());\r\n        };\r\n    }, [dispatch]);\r\n    \r\n    return <Editor onChangeField={onChangeField} title={title} body={body} />;\r\n};\r\n\r\nexport default EditorContainer;","import React, { useState, useCallback, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\n\r\nconst TagBoxBlock = styled.div`\r\n    width: 100%;\r\n    border-top: 1px solid ${palette.gray[2]};\r\n    padding-top: 2rem;\r\n\r\n    h4 {\r\n        color: ${palette.gray[8]};\r\n        margin-top: 0;\r\n        margin-bottom: 0.5rem;\r\n    }\r\n`;\r\n\r\nconst TagForm = styled.form`\r\n    border-radius: 4px;\r\n    overflow: hidden;\r\n    display: flex;\r\n    width: 255px;\r\n    border: 1px solid ${palette.gray[9]};   /* 스타일 초기화 */\r\n    \r\n    input, button {\r\n        outline: none;\r\n        border: none;\r\n        font-size: 1rem;\r\n    }\r\n\r\n    input {\r\n        padding: 0.5rem;\r\n        flex: 1;\r\n        min-width: 0;\r\n    }\r\n    button {\r\n        cursor: pointer;\r\n        padding-right: 1rem;\r\n        padding-left: 1rem;\r\n        border: none;\r\n        background: ${palette.gray[8]};\r\n        color: white;\r\n        font-weight: bold;\r\n        &:hover {\r\n            background: ${palette.gray[6]};\r\n        }\r\n    }\r\n`;\r\n\r\nconst Tag = styled.div`\r\n    margin-right: 0.5rem;\r\n    color: ${palette.gray[6]};\r\n    cursor: pointer;\r\n    &:hover {\r\n        opacity: 0.5;\r\n    }\r\n`;\r\n\r\nconst TagListBlock = styled.div`\r\n    display: flex;\r\n    margin-top: 0.5rem;\r\n`;\r\n\r\n//  React.memo 로 tag값이 바뀔때만 리렌더링 되도록 처리 \r\nconst TagItem = React.memo(({ tag, onRemove }) => (     // <TagItem tags={} onRemove={} />\r\n    <Tag onClick={() => onRemove(tag)}>#{tag}</Tag>\r\n));\r\n\r\n// React.memo로 tags값이 바뀔때만 리렌더링\r\nconst TagList = React.memo(({ tags, onRemove }) => (    // <TagList tags={} onRemove={} />\r\n    <TagListBlock>\r\n        {tags.map(tag => <TagItem key={tag} tag={tag} onRemove={onRemove} />)}\r\n    </TagListBlock>\r\n));\r\n\r\nconst TagBox = ({ onChangeTags, tags }) => {\r\n    const [input, setInput] = useState('');\r\n    const [localTags, setLocalTags] = useState([]);\r\n\r\n    const insertTag = useCallback(\r\n        tag => {\r\n            if (!tag) return;   // 공백이면 추가하지 않음\r\n            if (localTags.includes(tag)) return;    // 이미 존재하면 추가안함\r\n            const nextTags = [...localTags, tag];\r\n            setLocalTags(nextTags); //  웹페이지에 태그 추가됨\r\n            onChangeTags(nextTags); //  리덕스 스토어에 태그값 추가됨\r\n        },\r\n        [localTags, onChangeTags],\r\n    );\r\n\r\n    const onRemove = useCallback(\r\n        tag => {\r\n            const nextTags = localTags.filter(t => t !== tag);  // 특정태그 t를 제외한 localTags.\r\n            setLocalTags(nextTags); \r\n            onChangeTags(nextTags);\r\n        },\r\n        [localTags, onChangeTags],\r\n    );\r\n\r\n    const onChange = useCallback(e => {\r\n        setInput(e.target.value);\r\n    }, []);\r\n\r\n    const onSubmit = useCallback(e => {\r\n        e.preventDefault();\r\n        insertTag(input.trim());    // 앞 뒤 공백 없애고 등록\r\n        setInput('');   // input 초기화\r\n        },\r\n        [input, insertTag],\r\n    );\r\n    \r\n    // tags 값이 바뀔 때\r\n    useEffect(() => {\r\n        setLocalTags(tags);\r\n    }, [tags])\r\n\r\n    return (\r\n        <TagBoxBlock>\r\n            <h4>태그</h4>\r\n            <TagForm onSubmit={onSubmit}>\r\n                <input\r\n                    placeholder=\"태그를 입력하세요\"\r\n                    value={input}\r\n                    onChange={onChange}\r\n                />\r\n                <button type=\"submit\">추가</button>\r\n            </TagForm>\r\n            <TagList tags={localTags} onRemove={onRemove} />\r\n        </TagBoxBlock>\r\n    );\r\n};\r\n\r\nexport default TagBox;","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport TagBox from '../../components/write/TagBox';\r\nimport { changeField } from '../../modules/write';\r\n\r\nconst TagBoxContainer = () => {\r\n    const dispatch = useDispatch();\r\n    const tags = useSelector(state => state.write.tags);\r\n\r\n    const onChangeTags = nextTags => {\r\n        dispatch(\r\n            changeField({   \r\n                key: 'tags',\r\n                value: nextTags,    // [tags]: nextTags\r\n            })  \r\n        );\r\n    };\r\n\r\n    return <TagBox onChangeTags={onChangeTags} tags={tags} />;\r\n};\r\n\r\nexport default TagBoxContainer;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Button from '../common/Button';\r\n\r\nconst WriteActionButtonsBlock = styled.div`\r\n    margin-top: 1rem;\r\n    margin-bottom: 3rem;\r\n    button + button {\r\n        margin-left: 0.5rem;\r\n    }\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n    height: 2.125rem;\r\n    & + & {\r\n        margin-left: 0.5rem;\r\n    }\r\n`;\r\n\r\nconst WriteActionButtons = ({ onCancel, onPublish, isEdit }) => {\r\n    return (\r\n        <WriteActionButtonsBlock>\r\n            <StyledButton cyan onClick={onPublish}>포스트{isEdit ? '수정' : '등록'}</StyledButton>        \r\n            <StyledButton onClick={onCancel}>취소</StyledButton>\r\n        </WriteActionButtonsBlock>\r\n    );\r\n};\r\n\r\nexport default WriteActionButtons;","import React, { useEffect } from 'react';\r\nimport WriteActionButtons from '../../components/write/WriteActionButtons';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { writePost, updatePost } from '../../modules/write';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst WriteActionButtonsContainer = ({ history }) => {\r\n    const dispatch = useDispatch();\r\n    const { title, body, tags, marker, post, postError, originalPostId } = useSelector(({ write }) => ({    // 리덕스 스토어 (인터넷 개발자탭의 redux탭에 있는 state 들.)\r\n        title: write.title,\r\n        body: write.body,\r\n        tags: write.tags,\r\n        marker: write.marker,\r\n        post: write.post,\r\n        postError: write.postError,\r\n        originalPostId: write.originalPostId,\r\n    }));\r\n\r\n    const onPublish = () => {\r\n        if (originalPostId) {\r\n            dispatch(updatePost({ title, body, tags, marker, id: originalPostId }));\r\n            return;\r\n        }\r\n        dispatch(writePost({ title, body, tags, marker }));\r\n    };\r\n\r\n    const onCancel = () => {\r\n        history.goBack();\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (post) {\r\n            const { _id, user } = post; // 서버에서 응답한 포스트 정보의 _id와 username값 참조 (jwtMiddleWare)\r\n            history.push(`/@${user.username}/${_id}`);\r\n        }\r\n        if (postError) {\r\n            console.log(postError);\r\n        }\r\n    }, [history, post, postError]);\r\n    \r\n    return <WriteActionButtons onPublish={onPublish} onCancel={onCancel} isEdit={originalPostId}/>;\r\n};\r\n\r\nexport default withRouter(WriteActionButtonsContainer);","import React, { useState, useRef, useCallback } from 'react';\r\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\r\n\r\nconst GoogleMapWrite = ({ onChangeField, title, adMarkerOn, markerOn }) => {\r\n    const mapStyles = {        \r\n        height: \"75vh\",\r\n        width: \"75%\"\r\n    };\r\n    const defaultCenter = {\r\n        lat: 37.496281, lng: 126.957390\r\n    };\r\n\r\n    const onLoad = () => {\r\n        const marker = {\r\n            name: title,\r\n            position: markerOn.position,\r\n        }\r\n        onChangeField({ key: 'marker', value: marker });\r\n    }\r\n    const onAdLoad = () => {\r\n        const marker = {\r\n            name: title,\r\n            position: adMarkerOn.position,\r\n        }\r\n        onChangeField({ key: 'marker', value: marker });\r\n    }\r\n\r\n    const dragMarker = (e) => {\r\n        const newMarker = {\r\n            name: title,\r\n            position: {\r\n                lat: e.latLng.lat(),\r\n                lng: e.latLng.lng(),\r\n            }\r\n        }\r\n        onChangeField({ key: 'marker', value: newMarker });\r\n    }\r\n\r\n    return (\r\n        <LoadScript\r\n            googleMapsApiKey='AIzaSyCh2Dfsi0RTtFrKPTdMgTLWKgkT-MRRexg'>\r\n            <GoogleMap\r\n                mapContainerStyle={mapStyles}\r\n                zoom={17}\r\n                center={defaultCenter}             \r\n            >\r\n            {markerOn && \r\n                <Marker \r\n                    key={title} \r\n                    position={markerOn.marker.position}\r\n                    draggable={true}\r\n                    onLoad={onLoad}\r\n                    onDragEnd={dragMarker}  \r\n                />\r\n            }\r\n            {adMarkerOn && \r\n                <Marker \r\n                    key={title} \r\n                    position={adMarkerOn.position}\r\n                    draggable={true}\r\n                    onLoad={onAdLoad}\r\n                    onDragEnd={dragMarker}  \r\n                />\r\n            }\r\n            </GoogleMap>\r\n        </LoadScript>\r\n    )\r\n}\r\nexport default GoogleMapWrite;","import React, { useEffect, useCallback } from 'react';\r\nimport GoogleMapWrite from '../../components/write/GoogleMapWrite';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changeField, initialize } from '../../modules/write';\r\n\r\nconst GoogleMapWriteContainer = () => {\r\n    const dispatch = useDispatch();\r\n    const { markerOn, title, adMarkerOn, user } = useSelector(({ write, posts, user }) => ({   // title값과 body값을 리덕스 스토어에서 불러옴\r\n        marker: write.marker,\r\n        title: write.title,\r\n        adMarkerOn: posts.adMarkerOn,\r\n        markerOn: posts.markerOn,\r\n        user: user.user,\r\n    }));\r\n\r\n    const onChangeField = useCallback(payload => dispatch(changeField(payload)),    // useCallback: 823p\r\n        [dispatch]\r\n    );\r\n    // 언마운트 될때 초기화\r\n    useEffect(() => {\r\n        return () => {  // 뒷정리 함수 return\r\n            dispatch(initialize());\r\n        };\r\n    }, [dispatch]);\r\n    \r\n    return <GoogleMapWrite onChangeField={onChangeField} title={title} markerOn={markerOn} adMarkerOn={adMarkerOn} />;\r\n};\r\n\r\nexport default GoogleMapWriteContainer;","import React from 'react';\r\nimport Responsive from '../components/common/Responsive';\r\nimport EditorContainer from '../containers/write/EditorContainer';\r\nimport TagBoxContainer from '../containers/write/TagBoxContainer';\r\nimport WriteActionButtonsContainer from '../containers/write/WriteActionButtonsContainer';\r\nimport GoogleMapWriteContainer from '../containers/write/GoogleMapWriteContainer';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst WritePage = () => {\r\n    return (\r\n        <Responsive>\r\n            <Helmet>\r\n                <title>글쓰기 - Street Vender</title>\r\n            </Helmet>\r\n            <EditorContainer />\r\n            <GoogleMapWriteContainer />\r\n            <TagBoxContainer />\r\n            <WriteActionButtonsContainer />\r\n        </Responsive>\r\n    );\r\n};\r\n\r\nexport default WritePage;","import { createAction, handleActions } from 'redux-actions';\r\nimport createRequestSaga from '../lib/createRequestSaga';\r\nimport * as postsAPI from '../lib/api/posts';\r\nimport { takeLatest } from 'redux-saga/effects';\r\n\r\nconst CHANGE_FIELD = 'posts/CHANGE_FIELD';\r\n\r\nconst READ_POST = 'posts/READ_POST';\r\nconst READ_POST_SUCCESS = 'posts/READ_POST_SUCCESS';\r\nconst READ_POST_FAILURE = 'posts/READ_POST_FAILURE';\r\nconst UNLOAD_POST = 'posts/UNLOAD_POST';    // 포스트 페이지에서 벗어날 때 데이터 비우기\r\n\r\n\r\nexport const changeField = createAction(CHANGE_FIELD, ({ key, value }) => ({ key, value }));\r\n\r\nexport const readPost = createAction(READ_POST, id => id);    // id: api요청할때 필요한 거\r\nexport const unloadPost = createAction(UNLOAD_POST);\r\n\r\n\r\nconst readPostSaga = createRequestSaga(READ_POST, postsAPI.readPost);\r\nexport function* postSaga() {\r\n    yield takeLatest(READ_POST, readPostSaga);\r\n}\r\n\r\nconst initialState = {\r\n    post: null,\r\n    error: null,\r\n    buttonClicked: false,\r\n};\r\n\r\nconst post = handleActions(\r\n    {\r\n        [CHANGE_FIELD]: (state, { payload: { key, value } }) => ({\r\n            ...state,\r\n            [key]: value,   // 특정 key값 업데이트\r\n        }),\r\n        [READ_POST_SUCCESS]: (state, { payload: post }) => ({\r\n            ...state,\r\n            post,\r\n        }),\r\n        [READ_POST_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            error,\r\n        }),\r\n\r\n        [UNLOAD_POST]: () => initialState,\r\n    },\r\n    initialState\r\n);\r\n\r\nexport default post;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Button from '../common/Button';\r\nimport { Link } from 'react-router-dom';\r\nimport {CheckLoginButton} from '../common/Button';\r\n\r\nconst ListOfLikeButtons =styled.div`\r\n    display: flex;  \r\n    height: 90px;\r\n    Button{\r\n        background-color:white;\r\n    }\r\n\r\n    Button p{\r\n        color:black;\r\n        margin :0;\r\n        text-align:center;\r\n        font-size : 10px;\r\n    }\r\n`;\r\nconst LikeButtons = ({ post, likeButton, updateLike, changeLike, changeSoso, changeDisLike, buttonClicked, changeClicked, user }) => {\r\n    const onClickLike = ()=> {\r\n        if(buttonClicked == 'like' || !buttonClicked){\r\n            changeClicked('like');\r\n            changeLike(buttonClicked);\r\n        }\r\n        updateLike();\r\n    }\r\n    const onClickSoso = ()=> {\r\n        if(buttonClicked == 'soso' || !buttonClicked){\r\n            changeClicked('soso');\r\n            changeSoso(buttonClicked);\r\n        }\r\n        updateLike();\r\n    }\r\n    const onClickDisLike = ()=> {\r\n        if(buttonClicked == 'dislike' || !buttonClicked){\r\n            changeClicked('dislike');\r\n            changeDisLike(buttonClicked);\r\n        }\r\n        updateLike();\r\n    }\r\n\r\n    return user ?\r\n    (\r\n        <ListOfLikeButtons>\r\n            <Button onClick={onClickLike}>\r\n                <img src={require(\"../../images/like.png\")}></img>\r\n                <p>좋아요 {post && likeButton.like}</p>\r\n            </Button>\r\n            <Button onClick={onClickSoso}>\r\n                <img src={require(\"../../images/soso.png\")}></img>\r\n                <p>평범해요 {post && likeButton.soso}</p>\r\n            </Button>\r\n            <Button onClick={onClickDisLike}>\r\n                <img src={require(\"../../images/dislike.png\")}></img>\r\n                <p>별로에요 {post && likeButton.dislike}</p>\r\n            </Button>\r\n        </ListOfLikeButtons>\r\n    ) :\r\n    (\r\n        <ListOfLikeButtons>\r\n            <CheckLoginButton to=\"/login\">\r\n                <Button onClick={onClickLike}>\r\n                    <img src={require(\"../../images/like.png\")}></img>\r\n                    <p>좋아요 {post && likeButton.like}</p>\r\n                </Button>\r\n            </CheckLoginButton>\r\n            <CheckLoginButton to=\"/login\">\r\n                <Button onClick={onClickSoso}>\r\n                    <img src={require(\"../../images/soso.png\")}></img>\r\n                    <p>평범해요 {post && likeButton.soso}</p>\r\n                </Button>\r\n            </CheckLoginButton>\r\n            <CheckLoginButton to=\"/login\">\r\n                <Button onClick={onClickDisLike}>\r\n                    <img src={require(\"../../images/dislike.png\")}></img>\r\n                    <p>별로에요 {post && likeButton.dislike}</p>\r\n                </Button>\r\n            </CheckLoginButton>\r\n        </ListOfLikeButtons>\r\n    );\r\n}\r\nexport default LikeButtons;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport LikeButtons from '../../components/post/LikeButtons';\r\nimport { updatePost } from '../../modules/write';\r\nimport { changeField } from '../../modules/post';\r\n\r\nconst LikeButtonsContainer = () => {\r\n    const { user } = useSelector( ({ user }) => ({ user: user.user }) );\r\n    const dispatch = useDispatch();\r\n    const { post, likeButton, _id, buttonClicked } = useSelector(({ post }) => ({   // title값과 body값을 리덕스 스토어에서 불러옴\r\n        post: post.post,\r\n        likeButton: post.post.likeButton,\r\n        _id: post.post._id,\r\n        buttonClicked: post.buttonClicked,\r\n    }));\r\n\r\n    const changeLike = (Buttonclicked) => {\r\n        if (Buttonclicked == false){\r\n            likeButton.like += 1;\r\n        } else if (Buttonclicked == 'like'){\r\n            likeButton.like -= 1;\r\n            changeClicked(false);\r\n        }\r\n    };\r\n    const changeSoso = (Buttonclicked) => {\r\n        if (Buttonclicked == false){\r\n            likeButton.soso += 1;\r\n        } else if (Buttonclicked == 'soso'){\r\n            likeButton.soso -= 1;\r\n            changeClicked(false);\r\n        }\r\n    }\r\n    const changeDisLike = (Buttonclicked) => {\r\n        if (Buttonclicked == false){\r\n            likeButton.dislike += 1;\r\n        } else if (Buttonclicked == 'dislike'){\r\n            likeButton.dislike -= 1;\r\n            changeClicked(false);\r\n        }\r\n    }\r\n    const updateLike = () => {\r\n        dispatch(updatePost({ likeButton, id: _id }));\r\n        return;\r\n    };\r\n    const changeClicked = value => {\r\n        dispatch(\r\n            changeField({\r\n                key: 'buttonClicked',\r\n                value: value,\r\n            })\r\n        )\r\n    }\r\n    return <LikeButtons post={post} likeButton={likeButton} updateLike={updateLike} \r\n        changeLike={changeLike} changeSoso={changeSoso} changeDisLike={changeDisLike} \r\n        buttonClicked={buttonClicked} changeClicked={changeClicked} user={user}\r\n        />;\r\n};\r\n\r\nexport default LikeButtonsContainer;","import React from 'react';\r\nimport { GoogleMap, LoadScript, Marker } from '@react-google-maps/api';\r\n\r\nconst GoogleMapRead = ({ post }) => {\r\n\r\n    const mapStyles = {\r\n        margin:\"50\",\r\n        height: \"75vh\",\r\n        width: \"100%\"\r\n    };\r\n    const defaultCenter = {\r\n        lat: 37.496281, lng: 126.957390\r\n    };\r\n\r\n    // const { marker } = post; \r\n\r\n    return (\r\n        <LoadScript\r\n            googleMapsApiKey='AIzaSyCh2Dfsi0RTtFrKPTdMgTLWKgkT-MRRexg'>\r\n            <GoogleMap\r\n                mapContainerStyle={mapStyles}\r\n                zoom={17}\r\n                center={defaultCenter}            \r\n            >\r\n            {post && <Marker \r\n                key={post.marker.name} \r\n                position={post.marker.position} \r\n            />}\r\n            </GoogleMap>\r\n        </LoadScript>\r\n    )\r\n}\r\nexport default GoogleMapRead;","import React, { useEffect, useCallback } from 'react';\r\nimport GoogleMapRead from '../../components/post/GoogleMapRead';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { changeField, initialize } from '../../modules/write';\r\n\r\nconst GoogleMapReadContainer = () => {\r\n\r\n    const { post } = useSelector(({ post }) => ({   // title값과 body값을 리덕스 스토어에서 불러옴\r\n        post: post.post,\r\n    }));\r\n\r\n    \r\n    return <GoogleMapRead post={post} />;\r\n};\r\n\r\nexport default GoogleMapReadContainer;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\nimport Responsive from '../common/Responsive';\r\nimport Tags from '../common/Tags';\r\nimport SubInfo from '../common/SubInfo';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport LikeButtonsContainer from '../../containers/post/LikeButtonsContainer';\r\nimport GoogleMapReadContainer from '../../containers/post/GoogleMapReadContainer';\r\n\r\nconst PostViewerBlock = styled(Responsive)`\r\n    margin-top: 4rem;\r\n`;\r\nconst PostHead = styled.div`\r\n    border-bottom: 1px solid ${palette.gray[3]};\r\n    padding-bottom: 3rem;\r\n    margin-bottom: 3rem;\r\n    h1 {\r\n        font-size: 3rem;\r\n        line-height: 1.5;\r\n        margin: 0;\r\n    }\r\n`;\r\nconst PostContent = styled.div`\r\n    font-size: 1.3125rem;\r\n    color: ${palette.gray[8]};\r\n`;\r\n\r\nconst PostViewer = ({ post, error, loading, actionButtons }) => {\r\n    // 에러 발생\r\n    if (error) {\r\n        if (error.response && error.response.status === 404) {\r\n            return <PostViewerBlock>존재하지 않는 포스트입니다.</PostViewerBlock>;\r\n        }\r\n        return <PostViewerBlock>오류 발생</PostViewerBlock>\r\n    }\r\n    // 로딩 중 이거나 아직 포스트 데이터가 없을 때 \r\n    if (loading || !post) {\r\n        return null;\r\n    }\r\n\r\n    const { title, body, user, publishdDate, tags, marker } = post; \r\n\r\n    return (\r\n        <PostViewerBlock>\r\n            <Helmet>\r\n                <title>{title} - Street Vender</title>\r\n            </Helmet>\r\n            <PostHead>\r\n                <h1>{title}</h1>\r\n                <SubInfo \r\n                    username={user.username}\r\n                    publishdDate={publishdDate}\r\n                    hasMarginTop\r\n                />\r\n                <Tags tags={tags} />\r\n            </PostHead>\r\n            {actionButtons}\r\n            <PostContent dangerouslySetInnerHTML={{ __html: body }} />\r\n            <LikeButtonsContainer />\r\n            <GoogleMapReadContainer />\r\n        </PostViewerBlock>\r\n    );\r\n};\r\n\r\nexport default PostViewer;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Button from './Button';\r\n\r\nconst Fullscreen = styled.div`\r\n    position: fixed;\r\n    z-index: 30;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.25);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nconst AskModalBlock = styled.div`\r\n    width: 320px;\r\n    background: white;\r\n    padding: 1.5rem;\r\n    border-radius: 4px;\r\n    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.125);\r\n    h2 {\r\n        margin-top: 0;\r\n        margin-bottom: 1rem;\r\n    }\r\n    p {\r\n        margin-bottm: 3rem;\r\n    }\r\n    .buttons {\r\n        display: flex;\r\n        justify-content: flex-end;\r\n    }\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n    height: 2rem;\r\n    & + & {\r\n        margin-left: 0.75rem;\r\n    }\r\n`;\r\n\r\nconst AskModal = ({ visible, title, description, confirmText= '확인', cancleText= '취소', onConfirm, onCancle }) => {\r\n    if (!visible) return null;\r\n    return (\r\n        <Fullscreen>\r\n            <AskModalBlock>\r\n                <h2>{title}</h2>\r\n                <p>{description}</p>\r\n                <div className=\"buttons\">\r\n                    <StyledButton onClick={onCancle}>{cancleText}</StyledButton>\r\n                    <StyledButton cyan onClick={onConfirm}>{confirmText}</StyledButton>\r\n                </div>\r\n            </AskModalBlock>\r\n        </Fullscreen>\r\n    );\r\n};\r\n\r\nexport default AskModal;","import React from 'react';\r\nimport AskModal from '../common/AskModal';\r\n\r\nconst AskRemoveModal = ({ visible, onConfirm, onCancle }) => {\r\n    return (\r\n        <AskModal \r\n            visible={visible}\r\n            title=\"포스트 삭제\"\r\n            description=\"포스트를 정말 삭제하시겠습니까?\"\r\n            confirmText=\"삭제\"\r\n            onConfirm={onConfirm}\r\n            onCancle={onCancle}\r\n        />\r\n    );\r\n};\r\n\r\nexport default AskRemoveModal;","import React, { useState, useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/styles/palette';\r\nimport AskRemoveModal from '../post/AskRemoveModal';\r\n\r\nconst PostActionButtonsBlock = styled.div`\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    margin-bottom: 2rem;\r\n    margin-top: 1.5rem;\r\n`;\r\nconst ActionButton = styled.button`\r\n    padding: 0.25rem 0.5rem;\r\n    border-radius: 4px;\r\n    color: ${palette.gray[6]};\r\n    font-weight: bold;\r\n    outline: none;\r\n    border: none;\r\n    font-size: 0.875rem;\r\n    cursor: pointer;\r\n    &:hover {\r\n        background: ${palette.gray[1]};\r\n        color: ${palette.cyan[7]};\r\n    }\r\n    & + & {\r\n        margin-left: 0.25rem;\r\n    }\r\n`;\r\n\r\nconst PostActionButtons = ({ onEdit, onRemove }) => {\r\n    const [modal, setModal] = useState(false);\r\n    const onRemoveClick = () => {\r\n        setModal(true);\r\n    };\r\n    const onCancle = () => {    // \"취소\" 클릭\r\n        setModal(false);\r\n    };\r\n    const onConfirm = () => {   // \"확인\" 클릭\r\n        setModal(false);\r\n        onRemove();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <PostActionButtonsBlock>\r\n                <ActionButton onClick={onEdit}>수정</ActionButton>\r\n                <ActionButton onClick={onRemoveClick}>삭제</ActionButton>\r\n            </PostActionButtonsBlock>\r\n            <AskRemoveModal\r\n                visible={modal}\r\n                onConfirm={onConfirm}\r\n                onCancle={onCancle}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PostActionButtons;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { readPost, unloadPost } from '../../modules/post';\r\nimport PostViewer from '../../components/post/PostViewer';\r\nimport PostActionButtons from '../../components/post/PostActionButtons';\r\nimport GoogleMapRead from '../../components/post/GoogleMapRead';\r\nimport { setOriginalPost } from '../../modules/write';\r\nimport { removePost } from '../../lib/api/posts';\r\n\r\nconst PostViewerContainer = ({ match, history }) => {\r\n    const { postId } = match.params;\r\n    const dispatch = useDispatch();\r\n    const { post, error, loading, user } = useSelector(({ post, loading, user }) => ({\r\n        post: post.post,\r\n        error: post.error,\r\n        loading: loading['post/READ_POST'],\r\n        user: user.user,\r\n    }));\r\n    \r\n    useEffect(() => {\r\n        dispatch(readPost(postId));\r\n        // 언마운트될 때 리덕스에서 포스트 데이터 없애기\r\n        return () => {\r\n            dispatch(unloadPost());\r\n        };\r\n    }, [dispatch, postId]);\r\n\r\n    const onEdit = () => {\r\n        dispatch(setOriginalPost(post));\r\n        history.push('/write');\r\n    };\r\n\r\n    const onRemove = async () => {\r\n        try {\r\n            await removePost(postId);\r\n            history.push('/');\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n\r\n    const ownPost = (user && user._id) === (post && post.user._id);\r\n\r\n    return (\r\n        <>\r\n            <PostViewer \r\n                post={post} \r\n                loading={loading} \r\n                error={error} \r\n                actionButtons={ownPost && <PostActionButtons onEdit={onEdit} onRemove={onRemove} />} \r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(PostViewerContainer);\r\n","import React from 'react';\r\nimport HeaderContainer from '../containers/common/HeaderContainer';\r\nimport PostViewerContainer from '../containers/post/PostViewerContainer';\r\n\r\nconst PostPage = () => {\r\n    return (\r\n        <>  \r\n            <HeaderContainer />\r\n            <PostViewerContainer />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PostPage;","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nimport PostListPage from './pages/PostListPage';\r\nimport LoginPage from './pages/LoginPage';\r\nimport RegisterPage from './pages/RegisterPage';\r\nimport WritePage from './pages/WritePage';\r\nimport PostPage from './pages/PostPage';\r\n\r\nconst  App = () => {\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Street Vender</title>\r\n      </Helmet>\r\n      <Route component={PostListPage} path={['/@:username', '/']} exact />\r\n      <Route component={LoginPage} path=\"/login\" />\r\n      <Route component={RegisterPage} path=\"/register\" />\r\n      <Route component={WritePage} path=\"/write\" />\r\n      <Route component={PostPage} path=\"/@:username/:postId\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { all } from 'redux-saga/effects';   // 768p\r\nimport auth, { authSaga } from './auth';    // Saga: 768p\r\nimport loading from './loading';\r\nimport user, { userSaga } from './user';\r\nimport write, { writeSaga } from './write';\r\nimport post, { postSaga } from './post';\r\nimport posts, { postsSaga } from './posts';\r\n\r\nconst rootReducer = combineReducers({\r\n    auth,\r\n    loading,\r\n    user,\r\n    write,\r\n    post,\r\n    posts,\r\n});\r\n\r\nexport function* rootSaga() {\r\n    yield all([authSaga(), userSaga(), writeSaga(), postSaga(), postsSaga()]);    // all 함수는 여러 사가를 합쳐주는 역할\r\n}\r\n\r\nexport default rootReducer;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux'; // apply: 768p\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport createSagaMiddleware from 'redux-saga'; // 768p\r\nimport rootReducer, { rootSaga } from './modules/index'; // Saga: 768p\r\nimport { tempSetUser, check } from './modules/user';\r\nimport { HelmetProvider } from 'react-helmet-async';  // meta태그 설정\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeWithDevTools(applyMiddleware(sagaMiddleware)),\r\n);\r\n\r\nfunction loadUser() {   // 페이지를 새로고침해도 로그인상태 유지하려면\r\n  try {                 // 맨 처음 렌더링될때 localStorage에서 값을 불러와서 스토어 안에 넣도록\r\n    const user = localStorage.getItem('user');\r\n    if (!user) return;  // 로그인 상태가 아니면 아무것도 안함\r\n    \r\n    store.dispatch(tempSetUser(user));\r\n    store.dispatch(check());\r\n  } catch (e) {\r\n    console.log('localStorage is not working');\r\n  }\r\n}\r\n\r\nsagaMiddleware.run(rootSaga);\r\nloadUser();\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <BrowserRouter>\r\n          <HelmetProvider>\r\n            <App />\r\n          </HelmetProvider>\r\n        </BrowserRouter>\r\n    </Provider>,\r\n    document.getElementById('root'),\r\n);\r\n\r\nserviceWorker.unregister();\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADrUlEQVR4nO2ay0tVQRjAf3oVIxA3KT5yIdgiddHCNrlNN5m0y3W2M/oHVIKg2mmgbWrRorWbpCJqI0ELFUy4BmWRJmVCq0sYiI8WM6eZc+5c77lzzrn3iPODwfHON98378c3BxwOh8PhcDgcDofjBFJVAXudQDvQIgPAlgybwBfgsMzlSpRaYACYAb4jKndU2JCyAzLvsaUaGAbWKF7pQmFN6qhOqpBJTYE+RC9eCPy+CMwBWeCnDACtMvQAV4GLgXwfgFHgfULljZURYBfVizlgDFHBsLTJPDlNz67UnVoywBSqwAfANNAYQWej1HGg6Z2StlKHXvkccCVG3YP4R8NkjLpj4SaqcN+A8wnY6ALWNTupmQ59qDmfQxQ0KbpQI2EXuJSgrVBUA8uoOR/nsC/EIGpNWCbBLTIMw6ghOV1GuzOa3etltOujFnXIyZG/2tcBpwMhLMF8dYH0JtRUWKNCJ8YBVC+MGdLn8Z/q9krQvRfIO2+QGdfS+0vQ7SPK/BnS4k8j6LFFtzlUUKoINZb5qjSji6gjrc4z4J32fyk3vAf4j+nrBpkfwBLQK8tyu0QbkTiHGn4T5TJqYEIrR6eNAtsp0K7Fs5Y64mBVi7cXlDoC2ynQosWDw78GuGyptxhv8S+muu0WLEiiAU4Bryz1FqMe+FPAtlUDJHGK+gvsJ6B3X+qOFdsRsKXFWxG+PI994BfiTr8A3LG04XEX4SDZIr9hdR/DFhbE1QBBVhEN0AG8wX5EZBDbKcBHQ3rkBrCdAnqP9xjS5+TfRoSLy5Yh4IyMPzekdxcoU+JUoTy8C4b0ZmBHpn8CGixsNMi8h1JXs0FmEeVJLreL33cjM02D+1r6C0pzY2WAl1r+ewaZNipzE/1PsctQPeKQ5Mk8Jv9WZ6IOeKLly0pdQWK5DEWh2HUYxCK4jSroCnAN82jIyLQVTX5b6giSiuswhHOIdOAfCYfAb2AWeCjDrPxNl8lirjykxCEC4V1i9Yh57C2MR4UdKWsa9pAylxgIx2RYp2gz4oXnNWLb2pNhU/42inm19+gmZU5RjxFUD64T3jOcIfzukFq3uEfwYWQwRt2pfxgB0ZOT+J/GZoj2NNYkdehPY5Ok9GnMI67H0XHyH0dvxFpSkjs+XgIekf88voQ4069ifh7vRpz/ewP5loFbHJPncY9qxB4d5QOJz1JHxbe6KNQijqrTiEtLsUpvSNl+ynDCq9RHUmcp/JHUV8ro3nY4HA6Hw+FwOByOE8k/tnpOATg3fOQAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADBUlEQVR4nO2avU8UQRTAf5wSEhNLSBBJLLAQKCywgRoakVZahc6Pf4CP1g4KsDOxsLDHv4CYWAgJFtCIxkOi1195ELSYuczbZfc+dmf2lvB+ySRzt2/eezM7szvz3oKiKIqiKIqiKMo1pK8H9saAUWDYFoCaLafAD+BfwX4FpR+YA7aB35jOtSonVnbOtr2yVIBF4Jj2nU4rx1ZHJZSToZbADOYuPoz9vwd8Ag6Bv7YA3LFlEngCPIq1+wa8AL4E8tcrS0ADdxfrwAqmg50yYtvUhZ6G1V1abgCbOIcvgC1gMIfOQavjQujdtLZKh+x8HXjsUfc80dmw4VG3F5Zxzv0CHgSwMQ5UhZ3SLIcZ3JqvYxwNxThuJjSA6YC2OqICHODWvM9pn8Y87plwQMBXZCcs4qbkVoF2t4XdpwXajdCP2+TUufy0HwBuxUqnxNsNxK4P4ZbCMT3aMc7h7sJKwvVdoru68y50n8fa7ibIrIrrs13ojpBn/SyI+vscerIibS6kSrXhZsZ2fcLoHm5LK/kAfBa/uznhvSG6Ta8myPwB9oEp68vrLm3k4j5u+q0VZTSBNeHHWBYFWZfAqKgfZtThgyNRH02VakHWARgW9aTpXxTS9nCqVAt0ADw5cmXJOgA1Ue/mnO8babuWKtUCHYCMhk9FfTKjDh9MiPppqlQA+nAR3q9FGo6xh4skFx3ij5zIerEMRvBwEs3zFtgR9Wc59GRF2txJlQpIu+NwSLwdh7MehgDOMHvxj8BtYB14Ja4vA/dy6JdUgXfi97q1CeZYfObJTte0ConF4wF5iowHlCokBiYwmRQUDTEAE5QsKNpkCedsFTMISSGxrGWAEofFm8QTI/MedZc+MQImXbVBNDW2Tb63w5DVIVNjG5Q0NdbEV3J0lcvJ0edePSXc9nEaeMvl9Pg+ZtNyRHJ6fAIT35uKtTsAXnJF0uNNKpikRZ4PJL5bHT1/1eWhHxO338IcWtp1+sTKzlJAwqNXH0ndJf0jqZ8UGN5WFEVRFEVRFEW5lvwHq8klfta/9tYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADRklEQVR4nO2aO09UQRSAv10lJHYWkCBuB1GBwgILwRYakVbsiNj5+ANAbQwJFGCLGv6B1poQEwshWR8rBWAEiWKi1TYkhKDFzDpz797Zx33tJZwvOcnsnZlzZubO7Mycc0EQBEEQBEEQBOEUkmuBvR6gAHRpAdjXsgdsA39TbleitAGjwBLwHdW5WrKry47quieWPDABbFG/0y7Z0jrySTUyqSUwjHqLV33P14BXQAn4qQXggpYB4BZwzVfvA3AfeJdQe2NlCjjEvMUyMI3qYKN06zplS8+h1p1ZzgALmAYfA4tARwSdHVrHsaV3QdvKHHbny8DNGHWP4Z0N8zHqjoV7mMZ9A64kYKMP2LHsZGY5DGPWfBnV0KTow8yEQ2AoQVsNkQeKmDUf57R3MYb5TyiS4BbZCBOYKbmYot0ly+7tFO16aMMccspU/9u3A+d80ij+eu2+/E7MUtiiRSfGUcxbmA7IX8V7qjtqQveRr+5qQJkZK3+kCd0eoqyfcSv9LIKesNg2x52l6nA2ZL2cZXQNc6S1WQHeWr+bueE9xntM3wko8wNYBwZ1Wx41aSMSvZjpN5uW0QBmrXb0hFEQdgkUrHQppI44+GKlC85SNQg7AF1WOmj6p4Vtu8tZqgYyADE15MQSdgD2rXQz9/y4sW3vO0vVoBUDUMsL1ayHqmUDsGelBxxlJoEnqC0T4DIwB/wCXqPuEe1a7gBvdN4ccEnX6dU6Jh02+h1tSpwcxsP73pFfwuzRm3iPthX5oyUoz67zmeDZsYbxJKft4vfcyPzLoAPYILhj28BBwPMDTEzALxtUX7a6rfw0b6L/qXcZygE3gBfAb2AZuK6fnwceAp+Aj8AD/SynyyzrOs9RDpegtxvLZSgK9a7DNq7pmauT5yIT12E45Q4REJcYoByTaTlF+8mYU7TCFGZK7pDMIGTWLV7BHxgZi1F35gMjoMJV83hDY0tEC411ah12aGyejIbGKsQVHJ2hOjh6N9aWktzxcQh4SnV4fB14ifLkBIXH+1H+vUFfvSLqsHQiwuMV8qg9OsoHEptaR8u3uii0oY6qi6hLS71O7+qyI6RwwmvVR1IXcX8k9ZUU3duCIAiCIAiCIAinkn/OUDXrnnC1ZgAAAABJRU5ErkJggg==\""],"sourceRoot":""}